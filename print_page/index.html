
<!doctype html>
<html lang="de" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="WIS2 in a box (wis2box) is a Free and Open Source (FOSS) Reference Implementation of a WMO WIS2 Node. The project provides a plug and play toolset to ingest, process, and publish weather/climate/water data using standards-based approaches in alignment with the WIS2 principles. wis2box also provides access to all data in the WIS2 network. wis2box is designed to have a low barrier to entry for data providers, providing enabling infrastructure and services for data discovery, access, and visualization.">
      
      
        <meta name="author" content="World Meteorological Organization">
      
      
        <link rel="canonical" href="https://amrabouelenin.github.io/wis2docs/print_page/">
      
      
      
      
      <link rel="icon" href="https://public.wmo.int/sites/all/themes/wmo/favicon.ico">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.9">
    
    
      
        <title>Print Site - WIS2 in a box training</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.4af4bdda.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../css/print-site.css">
    
      <link rel="stylesheet" href="../css/print-site-material.css">
    
      <link rel="stylesheet" href="../css/print-site.css">
    
      <link rel="stylesheet" href="../css/print-site-material.css">
    
      <link rel="stylesheet" href="../css/print-site.css">
    
      <link rel="stylesheet" href="../css/print-site-material.css">
    
      <link rel="stylesheet" href="../css/print-site.css">
    
      <link rel="stylesheet" href="../css/print-site-material.css">
    
      <link rel="stylesheet" href="../css/print-site.css">
    
      <link rel="stylesheet" href="../css/print-site-material.css">
    
      <link rel="stylesheet" href="../css/print-site.css">
    
      <link rel="stylesheet" href="../css/print-site-material.css">
    
      <link rel="stylesheet" href="../css/print-site.css">
    
      <link rel="stylesheet" href="../css/print-site-material.css">
    
      <link rel="stylesheet" href="../css/print-site.css">
    
      <link rel="stylesheet" href="../css/print-site-material.css">
    
      <link rel="stylesheet" href="../css/print-site.css">
    
      <link rel="stylesheet" href="../css/print-site-material.css">
    
      <link rel="stylesheet" href="../assets/css/custom.css">
    
    <script>__md_scope=new URL("/wis2docs/",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  
        <script type="text/javascript">
        document.addEventListener('DOMContentLoaded', function () {
            remove_material_navigation();remove_mkdocs_theme_navigation();generate_toc();
        })
        </script>
        </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#de" class="md-skip">
          Zum Inhalt
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Kopfzeile">
    <a href="../de/" title="WIS2 in a box training" class="md-header__button md-logo" aria-label="WIS2 in a box training" data-md-component="logo">
      
  <img src="../assets/img/wmo-logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            WIS2 in a box training
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Print Site
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
      <div class="md-header__option">
  <div class="md-select">
    
    <button class="md-header__button md-icon" aria-label="Sprache wechseln">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m12.87 15.07-2.54-2.51.03-.03A17.5 17.5 0 0 0 14.07 6H17V4h-7V2H8v2H1v2h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2zm-2.62 7 1.62-4.33L19.12 17z"/></svg>
    </button>
    <div class="md-select__inner">
      <ul class="md-select__list">
        
          <li class="md-select__item">
            <a href="../practical-sessions/querying-data-using-the-wis2box-api/" hreflang="en" class="md-select__link">
              English
            </a>
          </li>
        
          <li class="md-select__item">
            <a href="../ru/practical-sessions/querying-data-using-the-wis2box-api/" hreflang="ru" class="md-select__link">
              Русский
            </a>
          </li>
        
          <li class="md-select__item">
            <a href="../es/practical-sessions/querying-data-using-the-wis2box-api/" hreflang="es" class="md-select__link">
              Español
            </a>
          </li>
        
          <li class="md-select__item">
            <a href="../pt/practical-sessions/querying-data-using-the-wis2box-api/" hreflang="pt" class="md-select__link">
              Português
            </a>
          </li>
        
          <li class="md-select__item">
            <a href="../fr/practical-sessions/querying-data-using-the-wis2box-api/" hreflang="fr" class="md-select__link">
              Français
            </a>
          </li>
        
          <li class="md-select__item">
            <a href="../ar/practical-sessions/querying-data-using-the-wis2box-api/" hreflang="ar" class="md-select__link">
              العربية
            </a>
          </li>
        
          <li class="md-select__item">
            <a href="../zh/practical-sessions/querying-data-using-the-wis2box-api/" hreflang="zh" class="md-select__link">
              中文
            </a>
          </li>
        
          <li class="md-select__item">
            <a href="../it/practical-sessions/querying-data-using-the-wis2box-api/" hreflang="it" class="md-select__link">
              Italiano
            </a>
          </li>
        
          <li class="md-select__item">
            <a href="../de/practical-sessions/querying-data-using-the-wis2box-api/" hreflang="de" class="md-select__link">
              Deutsch
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</div>
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Suche" placeholder="Suche" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Suche">
        
        <button type="reset" class="md-search__icon md-icon" title="Zurücksetzen" aria-label="Zurücksetzen" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Suche wird initialisiert
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../de/" title="WIS2 in a box training" class="md-nav__button md-logo" aria-label="WIS2 in a box training" data-md-component="logo">
      
  <img src="../assets/img/wmo-logo.png" alt="logo">

    </a>
    WIS2 in a box training
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../de/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Startseite
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Praktische Sitzungen
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Praktische Sitzungen
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../de/practical-sessions/connecting-to-wis2-over-mqtt/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Verbindung zu WIS2 über MQTT
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../de/practical-sessions/accessing-your-student-vm/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Zugriff auf Ihre Studenten-VM
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../de/practical-sessions/initializing-wis2box/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Initialisierung von wis2box
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../de/practical-sessions/configuring-wis2box-datasets/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Konfigurieren von Datensätzen in wis2box
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../de/practical-sessions/configuring-station-metadata/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Konfigurieren von Stationsmetadaten
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../de/practical-sessions/monitoring-wis2-notifications/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Überwachung von WIS2-Benachrichtigungen
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../de/practical-sessions/converting-synop-data-to-bufr/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Konvertieren von SYNOP-Daten in BUFR von der Befehlszeile aus
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../de/practical-sessions/converting-synop-data-to-bufr-form/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Konvertieren von SYNOP-Daten in BUFR mit der wis2box-Webanwendung
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../de/practical-sessions/converting-csv-data-to-bufr/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Konvertieren von CSV-Daten in BUFR
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../de/practical-sessions/automating-data-ingestion/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Automatisieren der Datenaufnahme
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../de/practical-sessions/adding-gts-headers-to-wis2-notifications/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Hinzufügen von GTS-Headern zu WIS2-Benachrichtigungen
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../de/practical-sessions/datasets-with-access-control/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Einrichten eines empfohlenen Datensatzes mit Zugriffskontrolle
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../de/practical-sessions/downloading-data-from-wis2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Daten von WIS2 herunterladen
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../de/practical-sessions/discovering-datasets-from-wis2-gdc/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Auffinden von Datensätzen im globalen Entdeckungskatalog von WIS2
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../de/practical-sessions/querying-data-using-the-wis2box-api/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Abfragen von Daten mit der wis2box-API
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Spickzettel
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Spickzettel
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../de/cheatsheets/linux/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Linux
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../de/cheatsheets/docker/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Docker
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../de/cheatsheets/wis2box/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    WIS2 in a box
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    CSV2BUFR-Vorlagen
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            CSV2BUFR-Vorlagen
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../de/csv2bufr-templates/aws-template/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    AWS stündlich
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../de/csv2bufr-templates/daycli-template/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    DAYCLI
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Inhaltsverzeichnis">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Inhaltsverzeichnis
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#de" class="md-nav__link">
    <span class="md-ellipsis">
      1 Startseite
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#section-2" class="md-nav__link">
    <span class="md-ellipsis">
      2 Praktische Sitzungen
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2 Praktische Sitzungen">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#de-practical-sessions-connecting-to-wis2-over-mqtt" class="md-nav__link">
    <span class="md-ellipsis">
      2.1 Verbindung zu WIS2 über MQTT
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#de-practical-sessions-accessing-your-student-vm" class="md-nav__link">
    <span class="md-ellipsis">
      2.2 Zugriff auf Ihre Studenten-VM
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#de-practical-sessions-initializing-wis2box" class="md-nav__link">
    <span class="md-ellipsis">
      2.3 Initialisierung von wis2box
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#de-practical-sessions-configuring-wis2box-datasets" class="md-nav__link">
    <span class="md-ellipsis">
      2.4 Konfigurieren von Datensätzen in wis2box
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#de-practical-sessions-configuring-station-metadata" class="md-nav__link">
    <span class="md-ellipsis">
      2.5 Konfigurieren von Stationsmetadaten
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#de-practical-sessions-monitoring-wis2-notifications" class="md-nav__link">
    <span class="md-ellipsis">
      2.6 Überwachung von WIS2-Benachrichtigungen
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#de-practical-sessions-converting-synop-data-to-bufr" class="md-nav__link">
    <span class="md-ellipsis">
      2.7 Konvertieren von SYNOP-Daten in BUFR von der Befehlszeile aus
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#de-practical-sessions-converting-synop-data-to-bufr-form" class="md-nav__link">
    <span class="md-ellipsis">
      2.8 Konvertieren von SYNOP-Daten in BUFR mit der wis2box-Webanwendung
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#de-practical-sessions-converting-csv-data-to-bufr" class="md-nav__link">
    <span class="md-ellipsis">
      2.9 Konvertieren von CSV-Daten in BUFR
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#de-practical-sessions-automating-data-ingestion" class="md-nav__link">
    <span class="md-ellipsis">
      2.10 Automatisieren der Datenaufnahme
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#de-practical-sessions-adding-gts-headers-to-wis2-notifications" class="md-nav__link">
    <span class="md-ellipsis">
      2.11 Hinzufügen von GTS-Headern zu WIS2-Benachrichtigungen
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#de-practical-sessions-datasets-with-access-control" class="md-nav__link">
    <span class="md-ellipsis">
      2.12 Einrichten eines empfohlenen Datensatzes mit Zugriffskontrolle
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#de-practical-sessions-downloading-data-from-wis2" class="md-nav__link">
    <span class="md-ellipsis">
      2.13 Daten von WIS2 herunterladen
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#de-practical-sessions-discovering-datasets-from-wis2-gdc" class="md-nav__link">
    <span class="md-ellipsis">
      2.14 Auffinden von Datensätzen im globalen Entdeckungskatalog von WIS2
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#de-practical-sessions-querying-data-using-the-wis2box-api" class="md-nav__link">
    <span class="md-ellipsis">
      2.15 Abfragen von Daten mit der wis2box-API
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#section-3" class="md-nav__link">
    <span class="md-ellipsis">
      3 Spickzettel
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3 Spickzettel">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#de-cheatsheets-linux" class="md-nav__link">
    <span class="md-ellipsis">
      3.1 Linux
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#de-cheatsheets-docker" class="md-nav__link">
    <span class="md-ellipsis">
      3.2 Docker
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#de-cheatsheets-wis2box" class="md-nav__link">
    <span class="md-ellipsis">
      3.3 WIS2 in a box
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#section-4" class="md-nav__link">
    <span class="md-ellipsis">
      4 CSV2BUFR-Vorlagen
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4 CSV2BUFR-Vorlagen">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#de-csv2bufr-templates-aws-template" class="md-nav__link">
    <span class="md-ellipsis">
      4.1 AWS stündlich
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#de-csv2bufr-templates-daycli-template" class="md-nav__link">
    <span class="md-ellipsis">
      4.2 DAYCLI
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<div id="print-site-page" class="print-site-enumerate-headings print-site-enumerate-figures">
        <section class="print-page">
            <div id="print-page-toc" data-toc-depth="3">
                <nav role='navigation' class='print-page-toc-nav'>
                <h1 class='print-page-toc-title'>Table of Contents</h1>
                </nav>
            </div>
        </section>
        <section class="print-page" id="de" heading-number="1"><p><img alt="WMO-Logo" src="../de/assets/img/wmo-logo.png" width="200"></p>
<h1 id="de-wis2-in-a-box-schulung">WIS2 in a box Schulung</h1>
<p>WIS2 in a box (<a href="https://docs.wis2box.wis.wmo.int">wis2box</a>) ist eine freie und offene Referenzimplementierung eines WMO WIS2-Knotens. Das Projekt bietet ein Plug-and-Play-Toolset zum Erfassen, Verarbeiten und Veröffentlichen von Wetter-/Klima-/Wasserdaten unter Verwendung von standardbasierten Ansätzen in Übereinstimmung mit den WIS2-Prinzipien. wis2box ermöglicht außerdem den Zugriff auf alle Daten im WIS2-Netzwerk. wis2box ist so konzipiert, dass es für Datenanbieter leicht zugänglich ist und Infrastruktur sowie Dienste für die Datenentdeckung, den Zugriff und die Visualisierung bereitstellt.</p>
<p>Diese Schulung bietet schrittweise Erklärungen zu verschiedenen Aspekten des wis2box-Projekts sowie eine Reihe von Übungen, um Ihnen zu helfen, Daten von WIS2 zu veröffentlichen und herunterzuladen. Die Schulung wird in Form von Übersichtspräsentationen sowie praktischen Übungen angeboten.</p>
<p>Teilnehmer werden in der Lage sein, mit Beispieltestdaten und Metadaten zu arbeiten sowie ihre eigenen Daten und Metadaten zu integrieren.</p>
<p>Diese Schulung deckt eine breite Palette von Themen ab (Installation/Konfiguration/Konfiguration, Veröffentlichung/Herunterladen von Daten usw.).</p>
<h2 id="de-ziele-und-lernergebnisse">Ziele und Lernergebnisse</h2>
<p>Die Ziele dieser Schulung sind, sich mit den folgenden Punkten vertraut zu machen:</p>
<ul>
<li>Kernkonzepte und Komponenten der WIS2-Architektur</li>
<li>Daten- und Metadatenformate, die in WIS2 für Entdeckung und Zugriff verwendet werden</li>
<li>wis2box Architektur und Umgebung</li>
<li>Kernfunktionen von wis2box:<ul>
<li>Verwaltung von Metadaten</li>
<li>Datenerfassung und -umwandlung in das BUFR-Format</li>
<li>MQTT-Broker für die Veröffentlichung von WIS2-Nachrichten</li>
<li>HTTP-Endpunkt für den Daten-Download</li>
<li>API-Endpunkt für den programmatischen Zugriff auf Daten</li>
</ul>
</li>
</ul>
<h2 id="de-navigation">Navigation</h2>
<p>Die linke Navigation bietet ein Inhaltsverzeichnis für die gesamte Schulung.</p>
<p>Die rechte Navigation bietet ein Inhaltsverzeichnis für eine spezifische Seite.</p>
<h2 id="de-voraussetzungen">Voraussetzungen</h2>
<h3 id="de-wissen">Wissen</h3>
<ul>
<li>Grundlegende Linux-Befehle (siehe das <a href="#de-cheatsheets-linux">Cheatsheet</a>)</li>
<li>Grundkenntnisse über Netzwerke und Internetprotokolle</li>
</ul>
<h3 id="de-software">Software</h3>
<p>Für diese Schulung werden folgende Tools benötigt:</p>
<ul>
<li>Eine Instanz mit Ubuntu-Betriebssystem (wird von WMO-Trainer während lokaler Schulungssitzungen bereitgestellt) siehe <a href="#de-practical-sessions-accessing-your-student-vm-introduction">Zugriff auf Ihr Studenten-VM</a></li>
<li>SSH-Client für den Zugriff auf Ihre Instanz</li>
<li>MQTT Explorer auf Ihrem lokalen Rechner</li>
<li>SCP- und FTP-Client zum Kopieren von Dateien von Ihrem lokalen Rechner</li>
</ul>
<h2 id="de-konventionen">Konventionen</h2>
<div class="admonition frage">
<p class="admonition-title">Frage</p>
<p>Ein Abschnitt wie dieser fordert Sie auf, eine Frage zu beantworten.</p>
</div>
<p>Außerdem werden Sie Tipps und Hinweise innerhalb des Textes bemerken:</p>
<div class="admonition tipp">
<p class="admonition-title">Tipp</p>
<p>Tipps geben Hilfe, wie man Aufgaben am besten bewältigt.</p>
</div>
<div class="admonition hinweis">
<p class="admonition-title">Hinweis</p>
<p>Hinweise bieten zusätzliche Informationen zum Thema der praktischen Sitzung sowie dazu, wie Aufgaben am besten bewältigt werden.</p>
</div>
<p>Beispiele werden wie folgt angezeigt:</p>
<p>Konfiguration
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nt">my-collection-defined-in-yaml</span><span class="p">:</span>
<span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">collection</span>
<span class="w">    </span><span class="nt">title</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">mein Titel definiert als ein YAML-Attribut namens title</span>
<span class="w">    </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">meine Beschreibung als ein YAML-Attribut namens description</span>
</code></pre></div></td></tr></table></div></p>
<p>Code-Schnipsel, die in einem Terminal/Konsole eingegeben werden müssen, werden angezeigt als:</p>
<div class="highlight"><pre><span></span><code><span class="nb">echo</span><span class="w"> </span><span class="s1">&#39;Hallo Welt&#39;</span>
</code></pre></div>
<p>Container-Namen (laufende Images) werden in <strong>fett</strong> dargestellt.</p>
<h2 id="de-schulungsort-und-materialien">Schulungsort und -materialien</h2>
<p>Die Schulungsinhalte, das Wiki und der Issue Tracker werden auf GitHub unter <a href="https://github.com/wmo-im/wis2box-training">https://github.com/wmo-im/wis2box-training</a> verwaltet.</p>
<h2 id="de-drucken-des-materials">Drucken des Materials</h2>
<p>Diese Schulung kann als PDF exportiert werden. Um dieses Schulungsmaterial zu speichern oder zu drucken, gehen Sie zur <a href="#de-print_page">Druckseite</a> und wählen
Datei &gt; Drucken &gt; Als PDF speichern.</p>
<h2 id="de-ubungsmaterialien">Übungsmaterialien</h2>
<p>Übungsmaterialien können von der <a href="/exercise-materials.zip">exercise-materials.zip</a> Zip-Datei heruntergeladen werden.</p>
<h2 id="de-unterstutzung">Unterstützung</h2>
<p>Für Probleme/Bugs/Vorschläge oder Verbesserungen/Beiträge zu dieser Schulung nutzen Sie bitte den <a href="https://github.com/wmo-im/wis2box-training/issues">GitHub-Issue-Tracker</a>.</p>
<p>Alle wis2box-Bugs, Verbesserungen und Probleme können auf <a href="https://github.com/wmo-im/wis2box/issues">GitHub</a> gemeldet werden.</p>
<p>Für zusätzliche Unterstützung oder Fragen kontaktieren Sie bitte wis2-support@wmo.int.</p>
<p>Wie immer kann die Kern-Dokumentation von wis2box immer unter <a href="https://docs.wis2box.wis.wmo.int">https://docs.wis2box.wis.wmo.int</a> gefunden werden.</p>
<p>Beiträge sind immer ermutigt und willkommen!</p></section>
                    <section class='print-page md-section' id='section-2' heading-number='2'>
                        <h1>Praktische Sitzungen<a class='headerlink' href='#section-2' title='Permanent link'></a>
                        </h1>
                    <section class="print-page" id="de-practical-sessions-connecting-to-wis2-over-mqtt" heading-number="2.1"><h1 id="de-practical-sessions-connecting-to-wis2-over-mqtt-verbindung-zu-wis2-uber-mqtt">Verbindung zu WIS2 über MQTT</h1>
<div class="admonition abstract">
<p class="admonition-title">Lernergebnisse</p>
<p>Am Ende dieser praktischen Sitzung werden Sie in der Lage sein:</p>
<ul>
<li>eine Verbindung zum WIS2 Global Broker mit MQTT Explorer herzustellen</li>
<li>die WIS2 Themenstruktur zu überprüfen</li>
<li>die Struktur der WIS2-Benachrichtigungsnachrichten zu überprüfen</li>
</ul>
</div>
<h2 id="de-practical-sessions-connecting-to-wis2-over-mqtt-einfuhrung">Einführung</h2>
<p>WIS2 verwendet das MQTT-Protokoll, um die Verfügbarkeit von Wetter-/Klima-/Wasserdaten zu bewerben. Der WIS2 Global Broker abonniert alle WIS2-Knoten im Netzwerk und veröffentlicht die empfangenen Nachrichten erneut. Der Global Cache abonniert den Global Broker, lädt die Daten in der Nachricht herunter und veröffentlicht die Nachricht dann erneut im <code>cache</code> Thema mit einer neuen URL. Der Global Discovery Katalog veröffentlicht Entdeckungsmetadaten vom Broker und bietet eine Such-API.</p>
<p>Hier ist ein Beispiel für die Struktur einer WIS2-Benachrichtigungsnachricht für eine Nachricht, die im Thema <code>origin/a/wis2/br-inmet/data/core/weather/surface-based-observations/synop</code> empfangen wurde:</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;59f9b013-c4b3-410a-a52d-fff18f3f1b47&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Feature&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;version&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;v04&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;geometry&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;coordinates&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">      </span><span class="mf">-38.69389</span><span class="p">,</span>
<span class="w">      </span><span class="mf">-17.96472</span><span class="p">,</span>
<span class="w">      </span><span class="mi">60</span>
<span class="w">    </span><span class="p">],</span>
<span class="w">    </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Point&quot;</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="nt">&quot;properties&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;data_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;br-inmet/data/core/weather/surface-based-observations/synop/WIGOS_0-76-2-2900801000W83499_20240815T060000&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;datetime&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-08-15T06:00:00Z&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;pubtime&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-08-15T09:52:02Z&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;integrity&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;method&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;sha512&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;value&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;TBuWycx/G0lIiTo47eFPBViGutxcIyk7eikppAKPc4aHgOmTIS5Wb9+0v3awMOyCgwpFhTruRRCVReMQMp5kYw==&quot;</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;content&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;encoding&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;base64&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;value&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;QlVGUgAA+gQAABYAACsAAAAAAAIAHAAH6AgPBgAAAAALAAABgMGWx1AAAM0ABOIAAAODM0OTkAAAAAAAAAAAAAAKb5oKEpJ6YkJ6mAAAAAAAAAAAAAAAAv0QeYA29WQa87ZhH4CQP//z+P//BD////+ASznXuUb///8MgAS3/////8X///e+AP////AB/+R/yf////////////////////6/1/79H/3///gEt////////4BLP6QAf/+/pAB//4H0YJ/YeAh/f2///7TH/////9+j//f///////////////////v0f//////////////////////wNzc3Nw==&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;size&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">250</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;wigos_station_identifier&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;0-76-2-2900801000W83499&quot;</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="nt">&quot;links&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;rel&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;canonical&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;application/bufr&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;href&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;http://wis2bra.inmet.gov.br/data/2024-08-15/wis/br-inmet/data/core/weather/surface-based-observations/synop/WIGOS_0-76-2-2900801000W83499_20240815T060000.bufr4&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;length&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">250</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">]</span>
<span class="p">}</span>
</code></pre></div>
<p>In dieser praktischen Sitzung lernen Sie, wie Sie das Tool MQTT Explorer verwenden, um eine MQTT-Clientverbindung zu einem WIS2 Global Broker einzurichten und WIS2-Benachrichtigungsnachrichten anzuzeigen.</p>
<p>MQTT Explorer ist ein nützliches Tool, um die Themenstruktur eines gegebenen MQTT-Brokers zu durchsuchen und die veröffentlichten Daten zu überprüfen.</p>
<p>Beachten Sie, dass MQTT hauptsächlich für die "Maschine-zu-Maschine"-Kommunikation verwendet wird; das bedeutet, dass normalerweise ein Client die Nachrichten automatisch verarbeitet, sobald sie empfangen werden. Um programmatisch mit MQTT zu arbeiten (zum Beispiel in Python), können Sie MQTT-Client-Bibliotheken wie <a href="https://pypi.org/project/paho-mqtt">paho-mqtt</a> verwenden, um eine Verbindung zu einem MQTT-Broker herzustellen und eingehende Nachrichten zu verarbeiten. Es gibt zahlreiche MQTT-Client- und Server-Software, abhängig von Ihren Anforderungen und Ihrer technischen Umgebung.</p>
<h2 id="de-practical-sessions-connecting-to-wis2-over-mqtt-verwendung-von-mqtt-explorer-zur-verbindung-mit-dem-global-broker">Verwendung von MQTT Explorer zur Verbindung mit dem Global Broker</h2>
<p>Um Nachrichten, die von einem WIS2 Global Broker veröffentlicht wurden, anzusehen, können Sie "MQTT Explorer" verwenden, das von der <a href="https://mqtt-explorer.com">MQTT Explorer-Website</a> heruntergeladen werden kann.</p>
<p>Öffnen Sie MQTT Explorer und fügen Sie eine neue Verbindung zum Global Broker hinzu, der von MeteoFrance gehostet wird, mit den folgenden Details:</p>
<ul>
<li>host: globalbroker.meteo.fr</li>
<li>port: 8883</li>
<li>username: everyone</li>
<li>password: everyone</li>
</ul>
<p><img alt="mqtt-explorer-global-broker-connection" src="../de/assets/img/mqtt-explorer-global-broker-connection.png" width="800"></p>
<p>Klicken Sie auf die Schaltfläche 'ADVANCED', entfernen Sie die vorkonfigurierten Themen und fügen Sie die folgenden Themen zum Abonnieren hinzu:</p>
<ul>
<li><code>origin/a/wis2/#</code></li>
</ul>
<p><img alt="mqtt-explorer-global-broker-advanced" src="../de/assets/img/mqtt-explorer-global-broker-sub-origin.png" width="800"></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Beim Einrichten von MQTT-Abonnements können Sie die folgenden Platzhalter verwenden:</p>
<ul>
<li><strong>Einzelniveau (+)</strong>: Ein Einzelniveau-Platzhalter ersetzt eine Themenstufe</li>
<li><strong>Mehrfachniveau (#)</strong>: Ein Mehrfachniveau-Platzhalter ersetzt mehrere Themenstufen</li>
</ul>
<p>In diesem Fall wird <code>origin/a/wis2/#</code> alle Themen unter dem Thema <code>origin/a/wis2</code> abonnieren.</p>
</div>
<p>Klicken Sie auf 'BACK', dann auf 'SAVE', um Ihre Verbindungs- und Abonnementdetails zu speichern. Dann klicken Sie auf 'CONNECT':</p>
<p>Nachrichten sollten in Ihrer MQTT Explorer-Sitzung wie folgt erscheinen:</p>
<p><img alt="mqtt-explorer-global-broker-topics" src="../de/assets/img/mqtt-explorer-global-broker-msg-origin.png" width="800"></p>
<p>Sie sind jetzt bereit, die WIS2-Themen und Nachrichtenstrukturen zu erkunden.</p>
<h2 id="de-practical-sessions-connecting-to-wis2-over-mqtt-ubung-1-uberprufung-der-wis2-themenstruktur">Übung 1: Überprüfung der WIS2-Themenstruktur</h2>
<p>Verwenden Sie MQTT, um die Themenstruktur unter den <code>origin</code> Themen zu durchsuchen.</p>
<div class="admonition question">
<p class="admonition-title">Question</p>
<p>Wie können wir das WIS-Zentrum unterscheiden, das die Daten veröffentlicht hat?</p>
</div>
<details class="success">
<summary>Klicken, um die Antwort zu enthüllen</summary>
<p>Sie können im linken Fenster in MQTT Explorer auf die Themenstruktur klicken, um sie zu erweitern.</p>
<p>Wir können das WIS-Zentrum, das die Daten veröffentlicht hat, anhand der vierten Ebene der Themenstruktur erkennen. Zum Beispiel zeigt uns das folgende Thema:</p>
<p><code>origin/a/wis2/br-inmet/data/core/weather/surface-based-observations/synop</code></p>
<p>dass die Daten von einem WIS-Zentrum mit der Zentrum-ID <code>br-inmet</code> veröffentlicht wurden, das die Zentrum-ID für das Instituto Nacional de Meteorologia - INMET, Brasilien, ist.</p>
</details>
<div class="admonition question">
<p class="admonition-title">Question</p>
<p>Wie können wir zwischen Nachrichten unterscheiden, die von WIS-Zentren veröffentlicht wurden, die ein GTS-zu-WIS2-Gateway hosten, und Nachrichten, die von WIS-Zentren veröffentlicht wurden, die einen WIS2-Knoten hosten?</p>
</div>
<details class="success">
<summary>Klicken, um die Antwort zu enthüllen</summary>
<p>Wir können Nachrichten, die von einem GTS-zu-WIS2-Gateway kommen, anhand der Zentrum-ID in der Themenstruktur unterscheiden. Zum Beispiel zeigt uns das folgende Thema:</p>
<p><code>origin/a/wis2/de-dwd-gts-to-wis2/data/core/I/S/A/I/01/sbbr</code></p>
<p>dass die Daten von dem GTS-zu-WIS2-Gateway veröffentlicht wurden, das vom Deutschen Wetterdienst (DWD) in Deutschland gehostet wird. Das GTS-zu-WIS2-Gateway ist eine spezielle Art von Datenveröffentlicher, der Daten vom Globalen Telekommunikationssystem (GTS) zu WIS2 veröffentlicht. Die Themenstruktur besteht aus den TTAAii CCCC-Headern für die GTS-Nachrichten.</p>
</details>
<h2 id="de-practical-sessions-connecting-to-wis2-over-mqtt-ubung-2-uberprufung-der-wis2-nachrichtenstruktur">Übung 2: Überprüfung der WIS2-Nachrichtenstruktur</h2>
<p>Trennen Sie die Verbindung von MQTT Explorer und aktualisieren Sie die 'Advanced'-Abschnitte, um das Abonnement auf die folgenden zu ändern:</p>
<ul>
<li><code>origin/a/wis2/+/data/core/weather/surface-based-observations/synop</code></li>
<li><code>cache/a/wis2/+/data/core/weather/surface-based-observations/synop</code></li>
</ul>
<p><img alt="mqtt-explorer-global-broker-topics-exercise2" src="../de/assets/img/mqtt-explorer-global-broker-sub-origin-cache-synop.png" width="800"></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Der <code>+</code> Platzhalter wird verwendet, um alle WIS-Zentren zu abonnieren.</p>
</div>
<p>Stellen Sie die Verbindung zum Global Broker wieder her und warten Sie, bis Nachrichten erscheinen.</p>
<p>Sie können den Inhalt der WIS2-Nachricht im Abschnitt "Value" auf der rechten Seite anzeigen. Versuchen Sie, die Themenstruktur zu erweitern, um die verschiedenen Ebenen der Nachricht zu sehen, bis Sie die letzte Ebene erreichen und den Nachrichteninhalt einer der Nachrichten überprüfen.</p>
<div class="admonition question">
<p class="admonition-title">Question</p>
<p>Wie können wir den Zeitstempel identifizieren, zu dem die Daten veröffentlicht wurden? Und wie können wir den Zeitstempel identifizieren, zu dem die Daten erfasst wurden?</p>
</div>
<details class="success">
<summary>Klicken, um die Antwort zu enthüllen</summary>
<p>Der Zeitstempel, zu dem die Daten veröffentlicht wurden, befindet sich im Abschnitt <code>properties</code> der Nachricht mit einem Schlüssel von <code>pubtime</code>.</p>
<p>Der Zeitstempel, zu dem die Daten erfasst wurden, befindet sich im Abschnitt <code>properties</code> der Nachricht mit einem Schlüssel von <code>datetime</code>.</p>
<p><img alt="mqtt-explorer-global-broker-msg-properties" src="../de/assets/img/mqtt-explorer-global-broker-msg-properties.png" width="800"></p>
</details>
<div class="admonition question">
<p class="admonition-title">Question</p>
<p>Wie können wir die Daten von der in der Nachricht angegebenen URL herunterladen?</p>
</div>
<details class="success">
<summary>Klicken, um die Antwort zu enthüllen</summary>
<p>Die URL befindet sich im Abschnitt <code>links</code> mit <code>rel="canonical"</code> und ist durch den Schlüssel <code>href</code> definiert.</p>
<p>Sie können die URL kopieren und in einen Webbrowser einfügen, um die Daten herunterzuladen.</p>
</details>
<h2 id="de-practical-sessions-connecting-to-wis2-over-mqtt-ubung-3-uberprufung-des-unterschieds-zwischen-origin-und-cache-themen">Übung 3: Überprüfung des Unterschieds zwischen 'origin' und 'cache' Themen</h2>
<p>Stellen Sie sicher, dass Sie weiterhin mit dem Global Broker verbunden sind und die Themenabonnements <code>origin/a/wis2/+/data/core/weather/surface-based-observations/synop</code> und <code>cache/a/wis2/+/data/core/weather/surface-based-observations/synop</code> verwenden, wie in Übung 2 beschrieben.</p>
<p>Versuchen Sie, eine Nachricht für dieselbe Zentrum-ID zu identifizieren, die sowohl auf den <code>origin</code>- als auch auf den <code>cache</code>-Themen veröffentlicht wurde.</p>
<div class="admonition question">
<p class="admonition-title">Question</p>
<p>Was ist der Unterschied zwischen den Nachrichten, die auf den <code>origin</code>- und den <code>cache</code>-Themen veröffentlicht wurden?</p>
</div>
<details class="success">
<summary>Klicken, um die Antwort zu enthüllen</summary>
<p>Die Nachrichten, die auf den <code>origin</code>-Themen veröffentlicht wurden, sind die Originalnachrichten, die der Global Broker von den WIS2-Knoten im Netzwerk erneut veröffentlicht.</p>
<p>Die Nachrichten, die auf den <code>cache</code>-Themen veröffentlicht wurden, sind die Nachrichten, für die Daten vom Global Cache heruntergeladen wurden. Wenn Sie den Inhalt der Nachricht aus dem Thema, das mit <code>cache</code> beginnt, überprüfen, werden Sie sehen, dass der 'canonical'-Link auf eine neue URL aktualisiert wurde.</p>
<p>Es gibt mehrere Global Caches im WIS2-Netzwerk, daher erhalten Sie eine Nachricht von jedem Global Cache, der die Nachricht heruntergeladen hat.</p>
<p>Der Global Cache lädt nur Nachrichten herunter und veröffentlicht sie erneut, die auf dem <code>../data/core/...</code> Themenhierarchie veröffentlicht wurden.</p>
</details>
<h2 id="de-practical-sessions-connecting-to-wis2-over-mqtt-schlussfolgerung">Schlussfolgerung</h2>
<div class="admonition success">
<p class="admonition-title">Herzlichen Glückwunsch!</p>
<p>In dieser praktischen Sitzung haben Sie gelernt:</p>
<ul>
<li>wie man WIS2 Global Broker-Dienste mit MQTT Explorer abonniert</li>
<li>die WIS2-Themenstruktur</li>
<li>die WIS2-Benachrichtigungsnachrichtenstruktur</li>
<li>den Unterschied zwischen Kern- und empfohlenen Daten</li>
<li>die Themenstruktur, die vom GTS-zu-WIS2-Gateway verwendet wird</li>
<li>den Unterschied zwischen Nachrichten des Global Brokers, die auf den <code>origin</code>- und <code>cache</code>-Themen veröffentlicht wurden</li>
</ul>
</div></section><section class="print-page" id="de-practical-sessions-accessing-your-student-vm" heading-number="2.2"><h1 id="de-practical-sessions-accessing-your-student-vm-zugriff-auf-dein-studenten-vm">Zugriff auf dein Studenten-VM</h1>
<div class="admonition abstract">
<p class="admonition-title">Lernergebnisse</p>
<p>Am Ende dieser praktischen Sitzung wirst du in der Lage sein:</p>
<ul>
<li>auf dein Studenten-VM über SSH und WinSCP zuzugreifen</li>
<li>zu überprüfen, ob die erforderliche Software für die praktischen Übungen installiert ist</li>
<li>zu überprüfen, ob du Zugang zu den Übungsmaterialien für dieses Training auf deinem lokalen Studenten-VM hast</li>
</ul>
</div>
<h2 id="de-practical-sessions-accessing-your-student-vm-einleitung">Einleitung</h2>
<p>Im Rahmen von lokal durchgeführten wis2box-Schulungen kannst du auf dein persönliches Studenten-VM im lokalen Trainingsnetzwerk namens "WIS2-Training" zugreifen.</p>
<p>Auf deinem Studenten-VM ist die folgende Software vorinstalliert:</p>
<ul>
<li>Ubuntu 22.0.4.3 LTS <a href="https://releases.ubuntu.com/jammy/ubuntu-22.04.3-live-server-amd64.iso">ubuntu-22.04.3-live-server-amd64.iso</a></li>
<li>Python 3.10.12</li>
<li>Docker 24.0.6</li>
<li>Docker Compose 2.21.0</li>
<li>Texteditoren: vim, nano</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Wenn du dieses Training außerhalb einer lokalen Schulungssitzung durchführen möchtest, kannst du deine eigene Instanz über einen beliebigen Cloud-Anbieter bereitstellen, zum Beispiel:</p>
<ul>
<li>GCP (Google Cloud Platform) VM-Instanz <code>e2-medium</code></li>
<li>AWS (Amazon Web Services) ec2-Instanz <code>t3a.medium</code></li>
<li>Azure (Microsoft) Azure Virtual Machine <code>standard_b2s</code></li>
</ul>
<p>Wähle als Betriebssystem Ubuntu Server 22.0.4 LTS.</p>
<p>Nachdem du deine VM erstellt hast, stelle sicher, dass Python, Docker und Docker Compose installiert sind, wie unter <a href="https://docs.wis2box.wis.wmo.int/en/latest/user/getting-started.html#software-dependencies">wis2box-software-dependencies</a> beschrieben.</p>
<p>Das Release-Archiv für wis2box, das in diesem Training verwendet wird, kann wie folgt heruntergeladen werden:</p>
<div class="highlight"><pre><span></span><code>wget<span class="w"> </span>https://github.com/wmo-im/wis2box/releases/download/1.0.0rc1/wis2box-setup-1.0.0rc1.zip
unzip<span class="w"> </span>wis2box-setup-1.0.0rc1.zip
</code></pre></div>
<p>Das neueste 'wis2box-setup'-Archiv findest du immer unter <a href="https://github.com/wmo-im/wis2box/releases">https://github.com/wmo-im/wis2box/releases</a>.</p>
<p>Das Übungsmaterial, das in diesem Training verwendet wird, kann wie folgt heruntergeladen werden:</p>
<div class="highlight"><pre><span></span><code>wget<span class="w"> </span>https://training.wis2box.wis.wmo.int/exercise-materials.zip
unzip<span class="w"> </span>exercise-materials.zip
</code></pre></div>
<p>Die folgenden zusätzlichen Python-Pakete sind erforderlich, um die Übungsmaterialien auszuführen:</p>
<div class="highlight"><pre><span></span><code>pip3<span class="w"> </span>install<span class="w"> </span>minio
</code></pre></div>
<p>Wenn du das Studenten-VM verwendest, das während der lokalen WIS2-Schulungen bereitgestellt wird, ist die erforderliche Software bereits installiert.</p>
</div>
<h2 id="de-practical-sessions-accessing-your-student-vm-verbinde-dich-mit-deinem-studenten-vm-im-lokalen-trainingsnetzwerk">Verbinde dich mit deinem Studenten-VM im lokalen Trainingsnetzwerk</h2>
<p>Verbinde deinen PC mit dem lokalen WLAN, das während der WIS2-Schulung im Raum ausgestrahlt wird, gemäß den Anweisungen des Trainers.</p>
<p>Verwende einen SSH-Client, um dich mit deinem Studenten-VM zu verbinden, verwende dazu:</p>
<ul>
<li><strong>Host: (während der Präsenzschulung bereitgestellt)</strong></li>
<li><strong>Port: 22</strong></li>
<li><strong>Benutzername: (während der Präsenzschulung bereitgestellt)</strong></li>
<li><strong>Passwort: (während der Präsenzschulung bereitgestellt)</strong></li>
</ul>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Kontaktiere einen Trainer, wenn du dir beim Hostnamen/Benutzernamen unsicher bist oder Probleme beim Verbinden hast.</p>
</div>
<p>Sobald du verbunden bist, ändere bitte dein Passwort, um sicherzustellen, dass andere keinen Zugriff auf dein VM haben:</p>
<div class="highlight"><pre><span></span><code>limper@student-vm:~$<span class="w"> </span>passwd
Passwort<span class="w"> </span>ändern<span class="w"> </span>für<span class="w"> </span>testuser.
Aktuelles<span class="w"> </span>Passwort:
Neues<span class="w"> </span>Passwort:
Neues<span class="w"> </span>Passwort<span class="w"> </span>wiederholen:
passwd:<span class="w"> </span>Passwort<span class="w"> </span>erfolgreich<span class="w"> </span>aktualisiert
</code></pre></div>
<h2 id="de-practical-sessions-accessing-your-student-vm-uberprufe-die-softwareversionen">Überprüfe die Softwareversionen</h2>
<p>Um wis2box ausführen zu können, sollten Python, Docker und Docker Compose auf dem Studenten-VM vorinstalliert sein.</p>
<p>Überprüfe die Python-Version:
<div class="highlight"><pre><span></span><code>python3<span class="w"> </span>--version
</code></pre></div>
gibt zurück:
<div class="highlight"><pre><span></span><code><span class="go">Python 3.10.12</span>
</code></pre></div></p>
<p>Überprüfe die Docker-Version:
<div class="highlight"><pre><span></span><code>docker<span class="w"> </span>--version
</code></pre></div>
gibt zurück:
<div class="highlight"><pre><span></span><code><span class="go">Docker-Version 24.0.6, Build ed223bc</span>
</code></pre></div></p>
<p>Überprüfe die Docker Compose-Version:
<div class="highlight"><pre><span></span><code>docker<span class="w"> </span>compose<span class="w"> </span>version
</code></pre></div>
gibt zurück:
<div class="highlight"><pre><span></span><code><span class="go">Docker Compose-Version v2.21.0</span>
</code></pre></div></p>
<p>Um sicherzustellen, dass dein Benutzer Docker-Befehle ausführen kann, wurde dein Benutzer zur <code>docker</code>-Gruppe hinzugefügt.</p>
<p>Um zu testen, dass dein Benutzer docker hello-world ausführen kann, führe den folgenden Befehl aus:
<div class="highlight"><pre><span></span><code>docker<span class="w"> </span>run<span class="w"> </span>hello-world
</code></pre></div></p>
<p>Dies sollte das hello-world-Image herunterladen und einen Container ausführen, der eine Nachricht ausgibt.</p>
<p>Überprüfe, ob du Folgendes in der Ausgabe siehst:</p>
<div class="highlight"><pre><span></span><code><span class="go">...</span>
<span class="go">Hallo von Docker!</span>
<span class="go">Diese Nachricht zeigt, dass deine Installation anscheinend korrekt funktioniert.</span>
<span class="go">...</span>
</code></pre></div>
<h2 id="de-practical-sessions-accessing-your-student-vm-uberprufe-die-ubungsmaterialien">Überprüfe die Übungsmaterialien</h2>
<p>Überprüfe den Inhalt deines Home-Verzeichnisses; diese Materialien werden als Teil des Trainings und der praktischen Sitzungen verwendet.</p>
<p><div class="highlight"><pre><span></span><code>ls<span class="w"> </span>~/
</code></pre></div>
gibt zurück:
<div class="highlight"><pre><span></span><code><span class="go">exercise-materials  wis2box-1.0.0rc1</span>
</code></pre></div></p>
<p>Wenn du WinSCP auf deinem lokalen PC installiert hast, kannst du es verwenden, um dich mit deinem Studenten-VM zu verbinden und den Inhalt deines Home-Verzeichnisses zu inspizieren sowie Dateien zwischen deinem VM und deinem lokalen PC herunterzuladen oder hochzuladen.</p>
<p>WinSCP ist nicht für das Training erforderlich, kann aber nützlich sein, wenn du Dateien auf deinem VM mit einem Texteditor auf deinem lokalen PC bearbeiten möchtest.</p>
<p>So kannst du dich mit WinSCP mit deinem Studenten-VM verbinden:</p>
<p>Öffne WinSCP und klicke auf "Neue Seite". Du kannst eine neue SCP-Verbindung zu deinem VM wie folgt erstellen:</p>
<p><img alt="winscp-student-vm-scp.png" src="../de/assets/img/winscp-student-vm-scp.png" width="400"></p>
<p>Klicke auf 'Speichern' und dann auf 'Anmelden', um dich mit deinem VM zu verbinden.</p>
<p>Und du solltest den folgenden Inhalt sehen können:</p>
<p><img alt="winscp-student-vm-exercise-materials.png" src="../de/assets/img/winscp-student-vm-exercise-materials.png" width="600"></p>
<h2 id="de-practical-sessions-accessing-your-student-vm-schlussfolgerung">Schlussfolgerung</h2>
<div class="admonition success">
<p class="admonition-title">Herzlichen Glückwunsch!</p>
<p>In dieser praktischen Sitzung hast du gelernt, wie man:</p>
<ul>
<li>auf dein Studenten-VM über SSH und WinSCP zugreift</li>
<li>überprüft, ob die erforderliche Software für die praktischen Übungen installiert ist</li>
<li>überprüft, ob du Zugang zu den Übungsmaterialien für dieses Training auf deinem lokalen Studenten-VM hast</li>
</ul>
</div></section><section class="print-page" id="de-practical-sessions-initializing-wis2box" heading-number="2.3"><h1 id="de-practical-sessions-initializing-wis2box-initialisierung-von-wis2box">Initialisierung von wis2box</h1>
<div class="admonition abstract">
<p class="admonition-title">Lernergebnisse</p>
<p>Am Ende dieser praktischen Sitzung werden Sie in der Lage sein:</p>
<ul>
<li>das Skript <code>wis2box-create-config.py</code> auszuführen, um die anfängliche Konfiguration zu erstellen</li>
<li>wis2box zu starten und den Status seiner Komponenten zu überprüfen</li>
<li>auf die <strong>wis2box-webapp</strong>, API, MinIO UI und das Grafana-Dashboard in einem Browser zuzugreifen</li>
<li>sich mit dem lokalen <strong>wis2box-broker</strong> unter Verwendung von MQTT Explorer zu verbinden</li>
</ul>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Die aktuellen Schulungsmaterialien verwenden wis2box-1.0.0rc1.</p>
<p>Siehe <a href="#de-practical-sessions-accessing-your-student-vm">Zugriff auf Ihre Studenten-VM</a> für Anweisungen zum Herunterladen und Installieren des wis2box-Software-Stacks, wenn Sie diese Schulung außerhalb einer lokalen Schulungssitzung durchführen.</p>
</div>
<h2 id="de-practical-sessions-initializing-wis2box-vorbereitung">Vorbereitung</h2>
<p>Melden Sie sich mit Ihrem Benutzernamen und Passwort an Ihrer zugewiesenen VM an und stellen Sie sicher, dass Sie sich im Verzeichnis <code>wis2box-1.0.0rc1</code> befinden:</p>
<div class="highlight"><pre><span></span><code><span class="nb">cd</span><span class="w"> </span>~/wis2box-1.0.0rc1
</code></pre></div>
<h2 id="de-practical-sessions-initializing-wis2box-erstellung-der-anfanglichen-konfiguration">Erstellung der anfänglichen Konfiguration</h2>
<p>Die anfängliche Konfiguration für die wis2box erfordert:</p>
<ul>
<li>eine Umgebungsdatei <code>wis2box.env</code> mit den Konfigurationsparametern</li>
<li>ein Verzeichnis auf dem Host-Computer, das zwischen dem Host-Computer und den wis2box-Containern geteilt wird, definiert durch die Umgebungsvariable <code>WIS2BOX_HOST_DATADIR</code></li>
</ul>
<p>Das Skript <code>wis2box-create-config.py</code> kann verwendet werden, um die anfängliche Konfiguration Ihrer wis2box zu erstellen.</p>
<p>Es wird Ihnen eine Reihe von Fragen stellen, um Ihre Konfiguration einzurichten.</p>
<p>Sie können die Konfigurationsdateien überprüfen und aktualisieren, nachdem das Skript abgeschlossen ist.</p>
<p>Führen Sie das Skript wie folgt aus:</p>
<div class="highlight"><pre><span></span><code>python3<span class="w"> </span>wis2box-create-config.py
</code></pre></div>
<h3 id="de-practical-sessions-initializing-wis2box-wis2box-host-data-verzeichnis">wis2box-host-data-Verzeichnis</h3>
<p>Das Skript wird Sie bitten, das Verzeichnis für die Umgebungsvariable <code>WIS2BOX_HOST_DATADIR</code> einzugeben.</p>
<p>Beachten Sie, dass Sie den vollständigen Pfad zu diesem Verzeichnis angeben müssen.</p>
<p>Zum Beispiel, wenn Ihr Benutzername <code>username</code> ist, ist der vollständige Pfad zum Verzeichnis <code>/home/username/wis2box-data</code>:</p>
<div class="highlight"><pre><span></span><code>username@student-vm-username:~/wis2box-1.0.0rc1$ python3 wis2box-create-config.py
Bitte geben Sie das Verzeichnis an, das für WIS2BOX_HOST_DATADIR verwendet werden soll:
/home/username/wis2box-data
Das Verzeichnis, das für WIS2BOX_HOST_DATADIR verwendet wird, wird auf folgendes festgelegt:
    /home/username/wis2box-data
Ist das korrekt? (j/n/exit)
j
Das Verzeichnis /home/username/wis2box-data wurde erstellt.
</code></pre></div>
<h3 id="de-practical-sessions-initializing-wis2box-wis2box-url">wis2box URL</h3>
<p>Als Nächstes werden Sie gebeten, die URL für Ihre wis2box einzugeben. Dies ist die URL, die verwendet wird, um auf die wis2box-Webanwendung, API und UI zuzugreifen.</p>
<p>Bitte verwenden Sie <code>http://&lt;Ihr-Hostname-oder-IP&gt;</code> als URL.</p>
<div class="highlight"><pre><span></span><code>Bitte geben Sie die URL der wis2box ein:
 Für lokale Tests ist die URL http://localhost
 Um den Fernzugriff zu ermöglichen, sollte die URL auf die öffentliche IP-Adresse oder den Domainnamen des Servers zeigen, der die wis2box hostet.
http://username.wis2.training
Die URL der wis2box wird auf folgendes festgelegt:
  http://username.wis2.training
Ist das korrekt? (j/n/exit)
</code></pre></div>
<h3 id="de-practical-sessions-initializing-wis2box-webapp-storage-und-broker-passworter">WEBAPP-, STORAGE- und BROKER-Passwörter</h3>
<p>Sie können die Option der zufälligen Passwortgenerierung wählen, wenn Sie nach <code>WIS2BOX_WEBAPP_PASSWORD</code>, <code>WIS2BOX_STORAGE_PASSWORD</code>, <code>WIS2BOX_BROKER_PASSWORD</code> gefragt werden und Ihr eigenes definieren.</p>
<p>Machen Sie sich keine Sorgen, sich diese Passwörter zu merken, sie werden in der Datei <code>wis2box.env</code> in Ihrem Verzeichnis wis2box-1.0.0rc1 gespeichert.</p>
<h3 id="de-practical-sessions-initializing-wis2box-uberprufung-von-wis2boxenv">Überprüfung von <code>wis2box.env</code></h3>
<p>Nachdem das Skript abgeschlossen ist, überprüfen Sie den Inhalt der Datei <code>wis2box.env</code> in Ihrem aktuellen Verzeichnis:</p>
<div class="highlight"><pre><span></span><code>cat<span class="w"> </span>~/wis2box-1.0.0rc1/wis2box.env
</code></pre></div>
<p>Oder überprüfen Sie den Inhalt der Datei über WinSCP.</p>
<div class="admonition question">
<p class="admonition-title">Question</p>
<p>Welcher Wert steht für WISBOX_BASEMAP_URL in der Datei wis2box.env?</p>
</div>
<details class="success">
<summary>Klicken, um die Antwort zu enthüllen</summary>
<p>Der Standardwert für WIS2BOX_BASEMAP_URL ist <code>https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png</code>.</p>
<p>Diese URL bezieht sich auf den OpenStreetMap-Tile-Server. Wenn Sie einen anderen Kartenanbieter verwenden möchten, können Sie diese URL ändern, um auf einen anderen Tile-Server zu zeigen.</p>
</details>
<div class="admonition question">
<p class="admonition-title">Question</p>
<p>Welcher Wert steht für die Umgebungsvariable WIS2BOX_STORAGE_DATA_RETENTION_DAYS in der Datei wis2box.env?</p>
</div>
<details class="success">
<summary>Klicken, um die Antwort zu enthüllen</summary>
<p>Der Standardwert für WIS2BOX_STORAGE_DATA_RETENTION_DAYS beträgt 30 Tage. Sie können diesen Wert ändern, wenn Sie möchten.</p>
<p>Der wis2box-management-Container führt täglich einen Cronjob aus, um Daten, die älter als die durch WIS2BOX_STORAGE_DATA_RETENTION_DAYS definierte Anzahl von Tagen sind, aus dem <code>wis2box-public</code>-Bucket und dem API-Backend zu entfernen:</p>
<div class="highlight"><pre><span></span><code>0 0 * * * su wis2box -c &quot;wis2box data clean --days=$WIS2BOX_STORAGE_DATA_RETENTION_DAYS&quot;
</code></pre></div>
</details>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Die Datei <code>wis2box.env</code> enthält Umgebungsvariablen, die die Konfiguration Ihrer wis2box definieren. Weitere Informationen finden Sie in der <a href="https://docs.wis2box.wis.wmo.int/en/latest/reference/configuration.html">wis2box-Dokumentation</a>.</p>
<p>Bearbeiten Sie die Datei <code>wis2box.env</code> nicht, es sei denn, Sie sind sicher, was Sie ändern. Falsche Änderungen können dazu führen, dass Ihre wis2box nicht mehr funktioniert.</p>
<p>Teilen Sie den Inhalt Ihrer Datei <code>wis2box.env</code> nicht mit anderen, da sie sensible Informationen wie Passwörter enthält.</p>
</div>
<h2 id="de-practical-sessions-initializing-wis2box-starten-von-wis2box">Starten von wis2box</h2>
<p>Stellen Sie sicher, dass Sie sich im Verzeichnis befinden, das die Definitionsdateien des wis2box-Software-Stacks enthält:</p>
<div class="highlight"><pre><span></span><code>cd ~/wis2box-1.0.0rc1
</code></pre></div>
<p>Starten Sie wis2box mit dem folgenden Befehl:</p>
<div class="highlight"><pre><span></span><code>python3 wis2box-ctl.py start
</code></pre></div>
<p>Wenn Sie diesen Befehl zum ersten Mal ausführen, sehen Sie die folgende Ausgabe:</p>
<div class="highlight"><pre><span></span><code>Keine docker-compose.images-*.yml-Dateien gefunden, eine wird erstellt
Aktuelle Version=Undefined, neueste Version=1.0.0rc1
Möchten Sie aktualisieren? (j/n/exit)
</code></pre></div>
<p>Wählen Sie <code>j</code> und das Skript wird die Datei <code>docker-compose.images-1.0.0rc1.yml</code> erstellen, die erforderlichen Docker-Images herunterladen und die Dienste starten.</p>
<p>Das Herunterladen der Bilder kann je nach Geschwindigkeit Ihrer Internetverbindung einige Zeit in Anspruch nehmen. Dieser Schritt ist nur beim ersten Start von wis2box erforderlich.</p>
<p>Überprüfen Sie den Status mit dem folgenden Befehl:</p>
<div class="highlight"><pre><span></span><code>python3 wis2box-ctl.py status
</code></pre></div>
<p>Wiederholen Sie diesen Befehl, bis alle Dienste laufen.</p>
<div class="admonition note">
<p class="admonition-title">wis2box und Docker</p>
<p>wis2box wird als eine Reihe von Docker-Containern ausgeführt, die von docker-compose verwaltet werden.</p>
<p>Die Dienste sind in den verschiedenen <code>docker-compose*.yml</code> definiert, die im Verzeichnis <code>~/wis2box-1.0.0rc1/</code> zu finden sind.</p>
<p>Das Python-Skript <code>wis2box-ctl.py</code> wird verwendet, um die zugrunde liegenden Docker Compose-Befehle auszuführen, die die wis2box-Dienste steuern.</p>
<p>Sie müssen die Details der Docker-Container nicht kennen, um den wis2box-Software-Stack auszuführen, aber Sie können die <code>docker-compose*.yml</code>- und Dateien einsehen, um zu sehen, wie die Dienste definiert sind. Wenn Sie mehr über Docker erfahren möchten, finden Sie weitere Informationen in der <a href="https://docs.docker.com/">Docker-Dokumentation</a>.</p>
</div>
<p>Um sich beim wis2box-management-Container anzumelden, verwenden Sie den folgenden Befehl:</p>
<div class="highlight"><pre><span></span><code>python3 wis2box-ctl.py login
</code></pre></div>
<p>Im wis2box-management-Container können Sie verschiedene Befehle ausführen, um Ihre wis2box zu verwalten, wie zum Beispiel:</p>
<ul>
<li><code>wis2box auth add-token --path processes/wis2box</code> : um ein Autorisierungstoken für den Endpunkt <code>processes/wis2box</code> zu erstellen</li>
<li><code>wis2box data clean --days=&lt;Anzahl-der-Tage&gt;</code> : um Daten, die älter als eine bestimmte Anzahl von Tagen sind, aus dem <code>wis2box-public</code>-Bucket zu bereinigen</li>
</ul>
<p>Um den Container zu verlassen und zum Host-Computer zurückzukehren, verwenden Sie den folgenden Befehl:</p>
<div class="highlight"><pre><span></span><code>exit
</code></pre></div>
<p>Führen Sie den folgenden Befehl aus, um die auf Ihrem Host-Computer laufenden Docker-Container zu sehen:</p>
<div class="highlight"><pre><span></span><code>docker ps
</code></pre></div>
<p>Sie sollten die folgenden Container laufen sehen:</p>
<ul>
<li>wis2box-management</li>
<li>wis2box-api</li>
<li>wis2box-minio</li>
<li>wis2box-webapp</li>
<li>wis2box-auth</li>
<li>wis2box-ui</li>
<li>wis2downloader</li>
<li>elasticsearch</li>
<li>elasticsearch-exporter</li>
<li>nginx</li>
<li>mosquitto</li>
<li>prometheus</li>
<li>grafana</li>
<li>loki</li>
</ul>
<p>Diese Container sind Teil des wis2box-Software-Stacks und bieten die verschiedenen Dienste, die zum Betrieb der wis2box erforderlich sind.</p>
<p>Führen Sie den folgenden Befehl aus, um die auf Ihrem Host-Computer laufenden Docker-Volumes zu sehen:</p>
<div class="highlight"><pre><span></span><code>docker volume ls
</code></pre></div>
<p>Sie sollten die folgenden Volumes sehen:</p>
<ul>
<li>wis2box_project_auth-data</li>
<li>wis2box_project_es-data</li>
<li>wis2box_project_htpasswd</li>
<li>wis2box_project_minio-data</li>
<li>wis2box_project_prometheus-data</li>
<li>wis2box_project_loki-data</li>
</ul>
<p>Sowie einige anonyme Volumes, die von den verschiedenen Containern verwendet werden.</p>
<p>Die Volumes, die mit <code>wis2box_project_</code> beginnen, werden verwendet, um persistente Daten für die verschiedenen Dienste im wis2box-Software-Stack zu speichern.</p>
<h2 id="de-practical-sessions-initializing-wis2box-wis2box-api">wis2box API</h2>
<p>Die wis2box enthält eine API (Application Programming Interface), die Datenzugriff und Prozesse für interaktive Visualisierung, Datentransformation und Veröffentlichung bereitstellt.</p>
<p>Öffnen Sie einen neuen Tab und navigieren Sie zur Seite <code>http://&lt;Ihr-Host&gt;/oapi</code>.</p>
<p><img alt="wis2box-api.png" src="../de/assets/img/wis2box-api.png" width="800"></p>
<p>Dies ist die Startseite der wis2box-API (betrieben über den <strong>wis2box-api</strong>-Container).</p>
<div class="admonition question">
<p class="admonition-title">Question</p>
<p>Welche Sammlungen sind derzeit verfügbar?</p>
</div>
<details class="success">
<summary>Klicken, um die Antwort zu enthüllen</summary>
<p>Um die derzeit über die API verfügbaren Sammlungen anzuzeigen, klicken Sie auf <code>View the collections in this service</code>:</p>
<p><img alt="wis2box-api-collections.png" src="../de/assets/img/wis2box-api-collections.png" width="600"></p>
<p>Die folgenden Sammlungen sind derzeit verfügbar:</p>
<ul>
<li>Stationen</li>
<li>Datenbenachrichtigungen</li>
<li>Entdeckungsmetadaten</li>
</ul>
</details>
<div class="admonition question">
<p class="admonition-title">Question</p>
<p>Wie viele Datenbenachrichtigungen wurden veröffentlicht?</p>
</div>
<details class="success">
<summary>Klicken, um die Antwort zu enthüllen</summary>
<p>Klicken Sie auf "Datenbenachrichtigungen", dann klicken Sie auf <code>Browse through the items of "Data Notifications"</code>. </p>
<p>Sie werden feststellen, dass die Seite "Keine Elemente" anzeigt, da noch keine Datenbenachrichtigungen veröffentlicht wurden.</p>
</details>
<h2 id="de-practical-sessions-initializing-wis2box-wis2box-webapp">wis2box webapp</h2>
<p>Öffnen Sie einen Webbrowser und besuchen Sie die Seite <code>http://&lt;Ihr-Host&gt;/wis2box-webapp</code>.</p>
<p>Es erscheint ein Pop-up, das nach Ihrem Benutzernamen und Passwort fragt. Verwenden Sie den Standardbenutzernamen <code>wis2box-user</code> und das in der Datei <code>wis2box.env</code> definierte <code>WIS2BOX_WEBAPP_PASSWORD</code> und klicken Sie auf "Anmelden":</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Überprüfen Sie Ihre wis2box.env auf den Wert Ihres WIS2BOX_WEBAPP_PASSWORD. Sie können den folgenden Befehl verwenden, um den Wert dieser Umgebungsvariablen zu überprüfen:</p>
<div class="highlight"><pre><span></span><code>cat ~/wis2box-1.0.0rc1/wis2box.env | grep WIS2BOX_WEBAPP_PASSWORD
</code></pre></div>
</div>
<p>Nachdem Sie sich angemeldet haben, bewegen Sie die Maus zum Menü auf der linken Seite, um die verfügbaren Optionen in der wis2box-Webanwendung zu sehen:</p>
<p><img alt="wis2box-webapp-menu.png" src="../de/assets/img/wis2box-webapp-menu.png" width="400"></p>
<p>Dies ist die wis2box-Webanwendung, die es Ihnen ermöglicht, mit Ihrer wis2box zu interagieren:</p>
<ul>
<li>Erstellen und Verwalten von Datensätzen</li>
<li>Aktualisieren/Überprüfen Ihrer Stationsmetadaten</li>
<li>ASCII- und CSV-Daten einlesen</li>
<li>Benachrichtigungen überwachen, die auf Ihrem wis2box-broker veröffentlicht wurden</li>
</ul>
<p>Wir werden diese Webanwendung in einer späteren Sitzung verwenden.</p>
<h2 id="de-practical-sessions-initializing-wis2box-wis2box-broker">wis2box-broker</h2>
<p>Öffnen Sie den MQTT Explorer auf Ihrem Computer und bereiten Sie eine neue Verbindung vor, um sich mit Ihrem Broker zu verbinden (betrieben über den <strong>wis2box-broker</strong>-Container).</p>
<p>Klicken Sie auf <code>+</code>, um eine neue Verbindung hinzuzufügen:</p>
<p><img alt="mqtt-explorer-new-connection.png" src="../de/assets/img/mqtt-explorer-new-connection.png" width="300"></p>
<p>Sie können auf die Schaltfläche 'ERWEITERT' klicken und überprüfen, ob Sie Abonnements für die folgenden Themen haben:</p>
<ul>
<li><code>#</code></li>
<li><code>$SYS/#</code></li>
</ul>
<p><img alt="mqtt-explorer-topics.png" src="../de/assets/img/mqtt-explorer-topics.png" width="550"></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Das Thema <code>#</code> ist ein Platzhalter-Abonnement, das alle Themen abonniert, die auf dem Broker veröffentlicht werden.</p>
<p>Die unter dem <code>$SYS</code>-Thema veröffentlichten Nachrichten sind Systemnachrichten, die vom mosquitto-Dienst selbst veröffentlicht werden.</p>
</div>
<p>Verwenden Sie die folgenden Verbindungsdetails und ersetzen Sie den Wert von <code>&lt;Ihr-Host&gt;</code> durch Ihren Hostnamen und <code>&lt;WIS2BOX_BROKER_PASSWORD&gt;</code> durch den Wert aus Ihrer <code>wis2box.env</code>-Datei:</p>
<ul>
<li><strong>Protokoll: mqtt://</strong></li>
<li><strong>Host: <code>&lt;Ihr-Host&gt;</code></strong></li>
<li><strong>Port: 1883</strong></li>
<li><strong>Benutzername: wis2box</strong></li>
<li><strong>Passwort: <code>&lt;WIS2BOX_BROKER_PASSWORD&gt;</code></strong></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Sie können Ihre wis2box.env überprüfen, um den Wert Ihres WIS2BOX_BROKER_PASSWORD zu sehen. Sie können den folgenden Befehl verwenden, um den Wert dieser Umgebungsvariablen zu überprüfen:</p>
<div class="highlight"><pre><span></span><code>cat ~/wis2box-1.0.0rc1/wis2box.env | grep WIS2BOX_BROKER_PASSWORD
</code></pre></div>
<p>Beachten Sie, dass dies Ihr <strong>interner</strong> Broker-Passwort ist. Der Global Broker verwendet verschiedene (nur-Lese-) Anmeldeinformationen, um sich bei Ihrem Broker anzumelden. Teilen Sie dieses Passwort niemals mit jemandem.</p>
</div>
<p>Stellen Sie sicher, dass Sie auf "SPEICHERN" klicken, um Ihre Verbindungsdetails zu speichern.</p>
<p>Klicken Sie dann auf "VERBINDEN", um sich mit Ihrem <strong>wis2box-broker</strong> zu verbinden.</p>
<p><img alt="mqtt-explorer-wis2box-broker.png" src="../de/assets/img/mqtt-explorer-wis2box-broker.png" width="600"></p>
<p>Nachdem Sie verbunden sind, überprüfen Sie, dass die internen mosquitto-Statistiken von Ihrem Broker unter dem <code>$SYS</code>-Thema veröffentlicht werden:</p>
<p><img alt="mqtt-explorer-sys-topic.png" src="../de/assets/img/mqtt-explorer-sys-topic.png" width="400"></p>
<p>Lassen Sie den MQTT Explorer geöffnet, da wir ihn verwenden werden, um die auf dem Broker veröffentlichten Nachrichten zu überwachen.</p>
<h2 id="de-practical-sessions-initializing-wis2box-minio-ui">MinIO UI</h2>
<p>Öffnen Sie einen Webbrowser und besuchen Sie die Seite <code>http://&lt;Ihr-Host&gt;:9001</code>:</p>
<p>&lt;img alt="minio-ui.png" src</p></section><section class="print-page" id="de-practical-sessions-configuring-wis2box-datasets" heading-number="2.4"><h1 id="de-practical-sessions-configuring-wis2box-datasets-konfigurieren-von-datensatzen-in-wis2box">Konfigurieren von Datensätzen in wis2box</h1>
<div class="admonition abstract">
<p class="admonition-title">Lernergebnisse</p>
<p>Am Ende dieser praktischen Sitzung werden Sie in der Lage sein:</p>
<ul>
<li>einen neuen Datensatz zu erstellen</li>
<li>Entdeckungsmetadaten für einen Datensatz zu erstellen</li>
<li>Datenzuordnungen für einen Datensatz zu konfigurieren</li>
<li>eine WIS2-Benachrichtigung mit einem WCMP2-Datensatz zu veröffentlichen</li>
<li>Ihren Datensatz zu aktualisieren und erneut zu veröffentlichen</li>
</ul>
</div>
<h2 id="de-practical-sessions-configuring-wis2box-datasets-einfuhrung">Einführung</h2>
<p>wis2box verwendet Datensätze, die mit Entdeckungsmetadaten und Datenzuordnungen verknüpft sind.</p>
<p>Entdeckungsmetadaten werden verwendet, um einen WCMP2 (WMO Core Metadata Profile 2) Datensatz zu erstellen, der mittels einer WIS2-Benachrichtigung, die auf Ihrem wis2box-Broker veröffentlicht wird, geteilt wird.</p>
<p>Die Datenzuordnungen werden verwendet, um ein Daten-Plugin mit Ihren Eingabedaten zu verknüpfen, sodass Ihre Daten vor der Veröffentlichung mittels der WIS2-Benachrichtigung transformiert werden können.</p>
<p>Diese Sitzung führt Sie durch das Erstellen eines neuen Datensatzes, das Erstellen von Entdeckungsmetadaten und das Konfigurieren von Datenzuordnungen. Sie werden Ihren Datensatz in der wis2box-API überprüfen und die WIS2-Benachrichtigung für Ihre Entdeckungsmetadaten überprüfen.</p>
<h2 id="de-practical-sessions-configuring-wis2box-datasets-vorbereitung">Vorbereitung</h2>
<p>Verbinden Sie sich mit Ihrem Broker über MQTT Explorer.</p>
<p>Verwenden Sie anstelle Ihrer internen Broker-Anmeldeinformationen die öffentlichen Anmeldeinformationen <code>everyone/everyone</code>:</p>
<p><img alt="MQTT Explorer: Verbindung zum Broker herstellen" src="../de/assets/img/mqtt-explorer-wis2box-broker-everyone-everyone.png" width="800"></p>
<div class="admonition hinweis">
<p class="admonition-title">Hinweis</p>
<p>Sie sollten niemals die Anmeldeinformationen Ihres internen Brokers mit externen Benutzern teilen. Der Benutzer 'everyone' ist ein öffentlicher Benutzer, um das Teilen von WIS2-Benachrichtigungen zu ermöglichen.</p>
<p>Die Anmeldeinformationen <code>everyone/everyone</code> haben nur Lesezugriff auf das Thema 'origin/a/wis2/#'. Dies ist das Thema, auf dem die WIS2-Benachrichtigungen veröffentlicht werden. Der Global Broker kann sich mit diesen öffentlichen Anmeldeinformationen anmelden, um die Benachrichtigungen zu erhalten.</p>
<p>Der Benutzer 'everyone' wird keine internen Themen sehen oder Nachrichten veröffentlichen können.</p>
</div>
<p>Öffnen Sie einen Browser und eine Seite zu <code>http://&lt;your-host&gt;/wis2box-webapp</code>. Stellen Sie sicher, dass Sie angemeldet sind und auf die Seite 'Datensatz-Editor' zugreifen können.</p>
<p>Siehe den Abschnitt über <a href="#practical-sessions-initializing-wis2box">Initialisierung von wis2box</a>, wenn Sie sich daran erinnern müssen, wie man sich mit dem Broker verbindet oder auf die wis2box-Webapp zugreift.</p>
<h2 id="de-practical-sessions-configuring-wis2box-datasets-erstellen-eines-autorisierungstokens-fur-prozessewis2box">Erstellen eines Autorisierungstokens für Prozesse/wis2box</h2>
<p>Sie benötigen ein Autorisierungstoken für den Endpunkt 'processes/wis2box', um Ihren Datensatz zu veröffentlichen.</p>
<p>Um ein Autorisierungstoken zu erstellen, greifen Sie über SSH auf Ihre Trainings-VM zu und verwenden Sie die folgenden Befehle, um sich im wis2box-Management-Container anzumelden:</p>
<div class="highlight"><pre><span></span><code><span class="nb">cd</span><span class="w"> </span>~/wis2box-1.0.0rc1
python3<span class="w"> </span>wis2box-ctl.py<span class="w"> </span>login
</code></pre></div>
<p>Führen Sie dann den folgenden Befehl aus, um ein zufällig generiertes Autorisierungstoken für den Endpunkt 'processes/wis2box' zu erstellen:</p>
<div class="highlight"><pre><span></span><code>wis2box<span class="w"> </span>auth<span class="w"> </span>add-token<span class="w"> </span>--path<span class="w"> </span>processes/wis2box
</code></pre></div>
<p>Sie können auch ein Token mit einem spezifischen Wert erstellen, indem Sie das Token als Argument für den Befehl bereitstellen:</p>
<div class="highlight"><pre><span></span><code>wis2box<span class="w"> </span>auth<span class="w"> </span>add-token<span class="w"> </span>--path<span class="w"> </span>processes/wis2box<span class="w"> </span>MyS3cretToken
</code></pre></div>
<p>Stellen Sie sicher, dass Sie den Tokenwert kopieren und auf Ihrem lokalen Rechner speichern, da Sie ihn später benötigen werden.</p>
<p>Sobald Sie Ihr Token haben, können Sie den wis2box-Management-Container verlassen:</p>
<div class="highlight"><pre><span></span><code><span class="nb">exit</span>
</code></pre></div>
<h2 id="de-practical-sessions-configuring-wis2box-datasets-erstellen-eines-neuen-datensatzes-in-der-wis2box-webapp">Erstellen eines neuen Datensatzes in der wis2box-Webapp</h2>
<p>Navigieren Sie auf der wis2box-Webapp Ihrer wis2box-Instanz zur Seite 'Datensatz-Editor', indem Sie zu <code>http://&lt;your-host&gt;/wis2box-webapp</code> gehen und 'Datensatz-Editor' aus dem Menü auf der linken Seite auswählen.</p>
<p>Auf der Seite 'Datensatz-Editor' klicken Sie unter dem Tab 'Datensätze' auf "Neu erstellen ...":</p>
<p><img alt="Neuen Datensatz erstellen" src="../de/assets/img/wis2box-create-new-dataset.png" width="800"></p>
<p>Ein Popup-Fenster erscheint und fordert Sie auf, Folgendes anzugeben:</p>
<ul>
<li><strong>Zentrum-ID</strong>: Dies ist das Akronym der Agentur (in Kleinbuchstaben und ohne Leerzeichen), wie es vom WMO-Mitglied angegeben wurde, das das Datenzentrum identifiziert, das für die Veröffentlichung der Daten verantwortlich ist.</li>
<li><strong>Datentyp</strong>: Der Datentyp, für den Sie Metadaten erstellen. Sie können zwischen der Verwendung einer vordefinierten Vorlage oder der Auswahl von 'andere' wählen. Wenn 'andere' ausgewählt wird, müssen weitere Felder manuell ausgefüllt werden.</li>
</ul>
<div class="admonition hinweis">
<p class="admonition-title">Zentrum-ID</p>
<p>Ihre Zentrum-ID sollte mit der TLD Ihres Landes beginnen, gefolgt von einem Bindestrich (<code>-</code>) und einem abgekürzten Namen Ihrer Organisation (zum Beispiel <code>de-dwd</code>). Die Zentrum-ID muss in Kleinbuchstaben sein und darf nur alphanumerische Zeichen verwenden. Die Dropdown-Liste zeigt alle derzeit auf WIS2 registrierten Zentrum-IDs sowie jede Zentrum-ID, die Sie bereits in wis2box erstellt haben.</p>
</div>
<div class="admonition hinweis">
<p class="admonition-title">Datentypvorlagen</p>
<p>Das Feld <em>Datentyp</em> ermöglicht es Ihnen, aus einer Liste von Vorlagen auszuwählen, die im Datensatz-Editor der wis2box-Webapp verfügbar sind. Eine Vorlage füllt das Formular mit vorgeschlagenen Standardwerten aus, die für den Datentyp geeignet sind. Dies umfasst vorgeschlagene Titel und Schlüsselwörter für die Metadaten und vorkonfigurierte Daten-Plugins. Das Thema wird auf das Standardthema für den Datentyp festgelegt.</p>
<p>Zum Zwecke des Trainings werden wir den Datentyp <em>weather/surface-based-observations/synop</em> verwenden, der Daten-Plugins enthält, die sicherstellen, dass die Daten vor der Veröffentlichung in das BUFR-Format umgewandelt werden.</p>
<p>Wenn Sie CAP-Warnungen über wis2box veröffentlichen möchten, verwenden Sie die Vorlage <em>weather/advisories-warnings</em>. Diese Vorlage enthält ein Daten-Plugin, das überprüft, ob die Eingabedaten eine gültige CAP-Warnung sind, bevor sie veröffentlicht wird. Um CAP-Warnungen zu erstellen und über wis2box zu veröffentlichen, können Sie <a href="https://github.com/wmo-raf/cap-composer">CAP Composer</a> verwenden.</p>
</div>
<p>Bitte wählen Sie eine Zentrum-ID, die für Ihre Organisation geeignet ist.</p>
<p>Für <strong>Datentyp</strong> wählen Sie <strong>weather/surface-based-observations/synop</strong>:</p>
<p><img alt="Formular für neuen Datensatz: Erstinformationen" src="../de/assets/img/wis2box-create-new-dataset-form-initial.png" width="450"></p>
<p>Klicken Sie auf <em>Weiter zum Formular</em>, um fortzufahren. Ihnen wird nun das <strong>Datensatz-Editor-Formular</strong> präsentiert.</p>
<p>Da Sie den Datentyp <strong>weather/surface-based-observations/synop</strong> ausgewählt haben, wird das Formular mit einigen Anfangswerten, die sich auf diesen Datentyp beziehen, vorausgefüllt.</p>
<h2 id="de-practical-sessions-configuring-wis2box-datasets-erstellen-von-entdeckungsmetadaten">Erstellen von Entdeckungsmetadaten</h2>
<p>Das Datensatz-Editor-Formular ermöglicht es Ihnen, die Entdeckungsmetadaten für Ihren Datensatz bereitzustellen, die der wis2box-Management-Container verwenden wird, um einen WCMP2-Datensatz zu veröffentlichen.</p>
<p>Da Sie den Datentyp 'weather/surface-based-observations/synop' ausgewählt haben, wird das Formular mit einigen Standardwerten vorausgefüllt.</p>
<p>Bitte stellen Sie sicher, dass Sie die automatisch generierte 'Lokale ID' durch einen beschreibenden Namen für Ihren Datensatz ersetzen, z. B. 'synop-dataset-wis2training':</p>
<p><img alt="Metadaten-Editor: Titel, Beschreibung, Schlüsselwörter" src="../de/assets/img/wis2box-metadata-editor-part1.png" width="800"></p>
<p>Überprüfen Sie den Titel und die Schlüsselwörter und aktualisieren Sie sie bei Bedarf und geben Sie eine Beschreibung für Ihren Datensatz an.</p>
<p>Beachten Sie, dass es Optionen gibt, die 'WMO-Datenrichtlinie' von 'core' auf 'empfohlen' zu ändern oder Ihren Standard-Metadaten-Identifikator zu ändern. Bitte behalten Sie die Datenrichtlinie 'core' bei und verwenden Sie den Standard-Metadaten-Identifikator.</p>
<p>Als Nächstes überprüfen Sie den Abschnitt, der Ihre 'zeitlichen Eigenschaften' und 'räumlichen Eigenschaften' definiert. Sie können das Begrenzungsrechteck anpassen, indem Sie die Felder 'Nördliche Breite', 'Südliche Breite', 'Östliche Länge' und 'Westliche Länge' aktualisieren:</p>
<p><img alt="Metadaten-Editor: zeitliche Eigenschaften, räumliche Eigenschaften" src="../de/assets/img/wis2box-metadata-editor-part2.png" width="800"></p>
<p>Füllen Sie als Nächstes den Abschnitt aus, der die 'Kontaktinformationen des Datenanbieters' definiert:</p>
<p><img alt="Metadaten-Editor: Kontaktinformationen" src="../de/assets/img/wis2box-metadata-editor-part3.png" width="800"></p>
<p>Füllen Sie schließlich den Abschnitt aus, der die 'Datenqualitätsinformationen' definiert:</p>
<p>Sobald Sie alle Abschnitte ausgefüllt haben, klicken Sie auf 'FORMULAR VALIDIEREN' und überprüfen Sie das Formular auf Fehler:</p>
<p><img alt="Metadaten-Editor: Validierung" src="../de/assets/img/wis2box-metadata-validation-error.png" width="800"></p>
<p>Wenn Fehler vorhanden sind, korrigieren Sie diese und klicken Sie erneut auf 'FORMULAR VALIDIEREN'.</p>
<p>Stellen Sie sicher, dass Sie keine Fehler haben und dass Sie eine Popup-Meldung erhalten, die besagt, dass Ihr Formular validiert wurde:</p>
<p><img alt="Metadaten-Editor: Validierung erfolgreich" src="../de/assets/img/wis2box-metadata-validation-success.png" width="800"></p>
<p>Als Nächstes überprüfen Sie vor dem Einreichen Ihres Datensatzes die Datenzuordnungen für Ihren Datensatz.</p>
<h2 id="de-practical-sessions-configuring-wis2box-datasets-konfigurieren-von-datenzuordnungen">Konfigurieren von Datenzuordnungen</h2>
<p>Da Sie eine Vorlage verwendet haben, um Ihren Datensatz zu erstellen, wurden die Datenzuordnungen mit den Standard-Plugins für den Datentyp 'weather/surface-based-observations/synop' vorausgefüllt. Daten-Plugins werden in wis2box verwendet, um Daten zu transformieren, bevor sie mittels der WIS2-Benachrichtigung veröffentlicht werden.</p>
<p><img alt="Datenzuordnungen: Plugin aktualisieren" src="../de/assets/img/wis2box-data-mappings.png" width="800"></p>
<p>Beachten Sie, dass Sie auf die Schaltfläche "aktualisieren" klicken können, um Einstellungen für das Plugin wie Dateierweiterung und das Dateimuster zu ändern. Sie können die Standardeinstellungen vorerst beibehalten. In einer späteren Sitzung werden Sie mehr über BUFR und die Transformation von Daten in das BUFR-Format erfahren.</p>
<h2 id="de-practical-sessions-configuring-wis2box-datasets-einreichen-ihres-datensatzes">Einreichen Ihres Datensatzes</h2>
<p>Schließlich können Sie auf 'einreichen' klicken, um Ihren Datensatz zu veröffentlichen.</p>
<p>Sie müssen das Autorisierungstoken für 'processes/wis2box' bereitstellen, das Sie zuvor erstellt haben. Wenn Sie dies noch nicht getan haben, können Sie ein neues Token erstellen, indem Sie den Anweisungen im Vorbereitungsbereich folgen.</p>
<p>Überprüfen Sie, dass Sie nach dem Einreichen Ihres Datensatzes die folgende Nachricht erhalten, die anzeigt, dass der Datensatz erfolgreich eingereicht wurde:</p>
<p><img alt="Datensatz erfolgreich eingereicht" src="../de/assets/img/wis2box-submit-dataset-success.png" width="400"></p>
<p>Nachdem Sie auf 'OK' geklickt haben, werden Sie zur Startseite des Datensatz-Editors weitergeleitet. Wenn Sie jetzt auf den Tab 'Datensatz' klicken, sollten Sie Ihren neuen Datensatz in der Liste sehen:</p>
<p><img alt="Datensatz-Editor: neuer Datensatz" src="../de/assets/img/wis2box-dataset-editor-new-dataset.png" width="800"></p>
<h2 id="de-practical-sessions-configuring-wis2box-datasets-uberprufen-der-wis2-benachrichtigung-fur-ihre-entdeckungsmetadaten">Überprüfen der WIS2-Benachrichtigung für Ihre Entdeckungsmetadaten</h2>
<p>Gehen Sie zu MQTT Explorer, wenn Sie mit dem Broker verbunden waren, sollten Sie eine neue WIS2-Benachrichtigung sehen, die auf dem Thema <code>origin/a/wis2/&lt;your-centre-id&gt;/metadata</code> veröffentlicht wurde:</p>
<p><img alt="MQTT Explorer: WIS2-Benachrichtigung" src="../de/assets/img/mqtt-explorer-wis2-notification-metadata.png" width="800"></p>
<p>Überprüfen Sie den Inhalt der WIS2-Benachrichtigung, die Sie veröffentlicht haben. Sie sollten ein JSON mit einer Struktur sehen, die dem WIS Notification Message (WNM)-Format entspricht.</p>
<div class="admonition frage">
<p class="admonition-title">Frage</p>
<p>Auf welchem Thema wird die WIS2-Benachrichtigung veröffentlicht?</p>
</div>
<details class="erfolg">
<summary>Klicken Sie, um die Antwort zu sehen</summary>
<p>Die WIS2-Benachrichtigung wird auf dem Thema <code>origin/a/wis2/&lt;your-centre-id&gt;/metadata</code> veröffentlicht.</p>
</details>
<div class="admonition frage">
<p class="admonition-title">Frage</p>
<p>Versuchen Sie, den Titel, die Beschreibung und die Schlüsselwörter, die Sie in den Entdeckungsmetadaten angegeben haben, in der WIS2-Benachrichtigung zu finden. Können Sie sie finden?</p>
</div>
<details class="erfolg">
<summary>Klicken Sie, um die Antwort zu sehen</summary>
<p>Beachten Sie, dass der Titel, die Beschreibung und die Schlüsselwörter, die Sie in den Entdeckungsmetadaten angegeben haben, <strong>nicht</strong> im Payload der WIS2-Benachrichtigung enthalten sind! </p>
<p>Stattdessen versuchen Sie, den kanonischen Link im Abschnitt "links" in der WIS2-Benachrichtigung zu finden:</p>
<p><img alt="WIS2-Benachrichtigung für Metadaten, Links-Abschnitte" src="../de/assets/img/wis2-notification-metadata-links.png" width="800"></p>
<p>Die WIS2-Benachrichtigung enthält einen kanonischen Link zum veröffentlichten WCMP2-Datensatz. Wenn Sie diesen Link in einen Browser kopieren und einfügen, werden Sie den WCMP2-Datensatz herunterladen und den Titel, die Beschreibung und die Schlüsselwörter sehen, die Sie angegeben haben.</p>
</details>
<h2 id="de-practical-sessions-configuring-wis2box-datasets-schlussfolgerung">Schlussfolgerung</h2>
<div class="admonition erfolg">
<p class="admonition-title">Herzlichen Glückwunsch!</p>
<p>In dieser praktischen Sitzung haben Sie gelernt, wie man:</p>
<ul>
<li>einen neuen Datensatz erstellt</li>
<li>Entdeckungsmetadaten definiert</li>
<li>Datenzuordnungen überprüft</li>
<li>Entdeckungsmetadaten veröffentlicht</li>
<li>die WIS2-Benachrichtigung für Ihre Entdeckungsmetadaten überprüft</li>
</ul>
</div></section><section class="print-page" id="de-practical-sessions-configuring-station-metadata" heading-number="2.5"><h1 id="de-practical-sessions-configuring-station-metadata-konfigurieren-von-stationsmetadaten">Konfigurieren von Stationsmetadaten</h1>
<div class="admonition abstract">
<p class="admonition-title">Lernergebnisse</p>
<p>Am Ende dieser praktischen Sitzung werden Sie in der Lage sein:</p>
<ul>
<li>einen Autorisierungstoken für den Endpunkt <code>collections/stations</code> zu erstellen</li>
<li>Stationsmetadaten zu wis2box hinzuzufügen</li>
<li>Stationsmetadaten mit der <strong>wis2box-webapp</strong> zu aktualisieren/löschen</li>
</ul>
</div>
<h2 id="de-practical-sessions-configuring-station-metadata-einfuhrung">Einführung</h2>
<p>Für den internationalen Datenaustausch zwischen den Mitgliedern der WMO ist es wichtig, ein gemeinsames Verständnis der Stationen zu haben, die die Daten produzieren. Das Integrierte Globale Beobachtungssystem der WMO (WIGOS) bietet einen Rahmen für die Integration von Beobachtungssystemen und Datenmanagementsystemen. Der <strong>WIGOS-Station-Identifier (WSI)</strong> wird als eindeutige Referenz der Station verwendet, die einen spezifischen Datensatz von Beobachtungen produziert hat.</p>
<p>wis2box verfügt über eine Sammlung von Stationsmetadaten, die verwendet werden, um die Stationen zu beschreiben, die die Beobachtungsdaten produzieren und die von <strong>OSCAR/Surface</strong> abgerufen werden sollten. Die Stationsmetadaten in wis2box werden von den BUFR-Transformationstools verwendet, um zu überprüfen, ob die Eingabedaten einen gültigen WIGOS-Station-Identifier (WSI) enthalten und um eine Zuordnung zwischen dem WSI und den Stationsmetadaten bereitzustellen.</p>
<h2 id="de-practical-sessions-configuring-station-metadata-erstellen-eines-autorisierungstokens-fur-collectionsstations">Erstellen eines Autorisierungstokens für collections/stations</h2>
<p>Um Stationen über die <strong>wis2box-webapp</strong> zu bearbeiten, müssen Sie zunächst einen Autorisierungstoken erstellen.</p>
<p>Melden Sie sich an Ihrem Studenten-VM an und stellen Sie sicher, dass Sie sich im Verzeichnis <code>wis2box-1.0.0rc1</code> befinden:</p>
<div class="highlight"><pre><span></span><code><span class="nb">cd</span><span class="w"> </span>~/wis2box-1.0.0rc1
</code></pre></div>
<p>Melden Sie sich dann im <strong>wis2box-management</strong>-Container mit folgendem Befehl an:</p>
<div class="highlight"><pre><span></span><code>python3<span class="w"> </span>wis2box-ctl.py<span class="w"> </span>login
</code></pre></div>
<p>Innerhalb des <strong>wis2box-management</strong>-Containers können Sie einen Autorisierungstoken für einen spezifischen Endpunkt mit dem Befehl <code>wis2box auth add-token --path &lt;mein-endpunkt&gt;</code> erstellen.</p>
<p>Zum Beispiel, um einen zufällig automatisch generierten Token für den Endpunkt <code>collections/stations</code> zu verwenden:</p>
<div class="highlight"><pre><span></span><code>wis2box auth add-token --path collections/stations
</code></pre></div>
<p>Die Ausgabe sieht dann so aus:</p>
<div class="highlight"><pre><span></span><code>Continue with token: 7ca20386a131f0de384e6ffa288eb1ae385364b3694e47e3b451598c82e899d1 [y/N]? y
Token successfully created
</code></pre></div>
<p>Oder, wenn Sie Ihren eigenen Token für den Endpunkt <code>collections/stations</code> definieren möchten, können Sie das folgende Beispiel verwenden:</p>
<div class="highlight"><pre><span></span><code>wis2box auth add-token --path collections/stations DataIsMagic
</code></pre></div>
<p>Ausgabe:</p>
<div class="highlight"><pre><span></span><code>Continue with token: DataIsMagic [y/N]? y
Token successfully created
</code></pre></div>
<p>Bitte erstellen Sie einen Autorisierungstoken für den Endpunkt <code>collections/stations</code> gemäß den obigen Anweisungen.</p>
<h2 id="de-practical-sessions-configuring-station-metadata-hinzufugen-von-stationsmetadaten-mit-der-wis2box-webapp">Hinzufügen von Stationsmetadaten mit der <strong>wis2box-webapp</strong></h2>
<p>Die <strong>wis2box-webapp</strong> bietet eine grafische Benutzeroberfläche zur Bearbeitung von Stationsmetadaten.</p>
<p>Öffnen Sie die <strong>wis2box-webapp</strong> in Ihrem Browser, indem Sie zu <code>http://&lt;ihr-host&gt;/wis2box-webapp</code> navigieren:</p>
<p><img alt="wis2box-webapp" src="../de/assets/img/wis2box-webapp.png" width="800"></p>
<p>Und wählen Sie Stationen:</p>
<p><img alt="wis2box-webapp-select-stations" src="../de/assets/img/wis2box-webapp-select-stations.png" width="250"></p>
<p>Wenn Sie auf 'Neue Station hinzufügen' klicken, werden Sie aufgefordert, den WIGOS-Station-Identifier für die Station, die Sie hinzufügen möchten, anzugeben:</p>
<p><img alt="wis2box-webapp-import-station-from-oscar" src="../de/assets/img/wis2box-webapp-import-station-from-oscar.png" width="800"></p>
<div class="admonition note">
<p class="admonition-title">Fügen Sie Stationsmetadaten für 3 oder mehr Stationen hinzu</p>
<p>Bitte fügen Sie drei oder mehr Stationen zur Stationsmetadatensammlung Ihrer wis2box hinzu.</p>
<p>Bitte verwenden Sie nach Möglichkeit Stationen aus Ihrem Land, insbesondere wenn Sie eigene Daten mitgebracht haben.</p>
<p>Wenn Ihr Land keine Stationen in OSCAR/Surface hat, können Sie die folgenden Stationen für diese Übung verwenden:</p>
<ul>
<li>0-20000-0-91334</li>
<li>0-20000-0-96323 (beachten Sie die fehlende Stationshöhe in OSCAR)</li>
<li>0-20000-0-96749 (beachten Sie die fehlende Stationshöhe in OSCAR)</li>
</ul>
</div>
<p>Wenn Sie die Suche starten, werden die Stationsdaten von OSCAR/Surface abgerufen, bitte beachten Sie, dass dies einige Sekunden dauern kann.</p>
<p>Überprüfen Sie die von OSCAR/Surface zurückgegebenen Daten und fügen Sie fehlende Daten hinzu, wo erforderlich. Wählen Sie ein Thema für die Station und geben Sie Ihren Autorisierungstoken für den Endpunkt <code>collections/stations</code> ein und klicken Sie auf 'speichern':</p>
<p><img alt="wis2box-webapp-create-station-save" src="../de/assets/img/wis2box-webapp-create-station-save.png" width="800"></p>
<p><img alt="wis2box-webapp-create-station-success" src="../de/assets/img/wis2box-webapp-create-station-success.png" width="500"></p>
<p>Gehen Sie zurück zur Stationsliste und Sie werden die hinzugefügte Station sehen:</p>
<p><img alt="wis2box-webapp-stations-with-one-station" src="../de/assets/img/wis2box-webapp-stations-with-one-station.png" width="800"></p>
<p>Wiederholen Sie diesen Vorgang, bis Sie mindestens 3 Stationen konfiguriert haben.</p>
<div class="admonition tip">
<p class="admonition-title">Ermitteln fehlender Höheninformationen</p>
<p>Wenn die Höhe Ihrer Station fehlt, gibt es Online-Dienste, die helfen, die Höhe mit offenen Höhendaten zu ermitteln. Ein solches Beispiel ist die <a href="https://www.opentopodata.org">Open Topo Data API</a>.</p>
<p>Zum Beispiel, um die Höhe bei Breitengrad -6.15558 und Längengrad 106.84204 zu erhalten, können Sie die folgende URL in einem neuen Browser-Tab kopieren und einfügen:</p>
<div class="highlight"><pre><span></span><code>https://api.opentopodata.org/v1/aster30m?locations=-6.15558,106.84204
</code></pre></div>
<p>Ausgabe:</p>
<div class="highlight"><pre><span></span><code>{
  &quot;results&quot;: [
    {
      &quot;dataset&quot;: &quot;aster30m&quot;, 
      &quot;elevation&quot;: 7.0, 
      &quot;location&quot;: {
        &quot;lat&quot;: -6.15558, 
        &quot;lng&quot;: 106.84204
      }
    }
  ], 
  &quot;status&quot;: &quot;OK&quot;
}
</code></pre></div>
</div>
<h2 id="de-practical-sessions-configuring-station-metadata-uberprufen-ihrer-stationsmetadaten">Überprüfen Ihrer Stationsmetadaten</h2>
<p>Die Stationsmetadaten werden im Backend von wis2box gespeichert und über die <strong>wis2box-api</strong> zur Verfügung gestellt.</p>
<p>Wenn Sie einen Browser öffnen und zu <code>http://&lt;ihr-host&gt;/oapi/collections/stations/items</code> navigieren, sehen Sie die Stationsmetadaten, die Sie hinzugefügt haben:</p>
<p><img alt="wis2box-api-stations" src="../de/assets/img/wis2box-api-stations.png" width="800"></p>
<div class="admonition note">
<p class="admonition-title">Überprüfen Sie Ihre Stationsmetadaten</p>
<p>Überprüfen Sie, ob die von Ihnen hinzugefügten Stationen Ihrem Datensatz zugeordnet sind, indem Sie <code>http://&lt;ihr-host&gt;/oapi/collections/stations/items</code> in Ihrem Browser besuchen.</p>
</div>
<p>Sie haben auch die Möglichkeit, die Station in der <strong>wis2box-webapp</strong> anzusehen/zu aktualisieren/zu löschen. Beachten Sie, dass Sie Ihren Autorisierungstoken für den Endpunkt <code>collections/stations</code> angeben müssen, um die Station zu aktualisieren/löschen.</p>
<div class="admonition note">
<p class="admonition-title">Aktualisieren/Löschen von Stationsmetadaten</p>
<p>Versuchen Sie, die Stationsmetadaten für eine der Stationen, die Sie hinzugefügt haben, mit der <strong>wis2box-webapp</strong> zu aktualisieren/löschen.</p>
</div>
<h2 id="de-practical-sessions-configuring-station-metadata-massenupload-von-stationsmetadaten">Massenupload von Stationsmetadaten</h2>
<p>Beachten Sie, dass wis2box auch die Möglichkeit bietet, "massenhaft" Stationsmetadaten aus einer CSV-Datei über die Befehlszeile im <strong>wis2box-management</strong>-Container hochzuladen.</p>
<div class="highlight"><pre><span></span><code>python3<span class="w"> </span>wis2box-ctl.py<span class="w"> </span>login
wis2box<span class="w"> </span>metadata<span class="w"> </span>station<span class="w"> </span>publish-collection<span class="w"> </span>-p<span class="w"> </span>/data/wis2box/metadata/station/station_list.csv<span class="w"> </span>-th<span class="w"> </span>origin/a/wis2/centre-id/weather/surface-based-observations/synop
</code></pre></div>
<p>Dies ermöglicht es Ihnen, eine große Anzahl von Stationen auf einmal hochzuladen und sie einem spezifischen Thema zuzuordnen.</p>
<p>Sie können die CSV-Datei mit Excel oder einem Texteditor erstellen und dann in wis2box-host-datadir hochladen, um sie im Verzeichnis <code>/data/wis2box/</code> des <strong>wis2box-management</strong>-Containers verfügbar zu machen.</p>
<p>Nach einem Massenupload von Stationen wird empfohlen, die Stationen in der <strong>wis2box-webapp</strong> zu überprüfen, um sicherzustellen, dass die Daten korrekt hochgeladen wurden.</p>
<p>Weitere Informationen zur Nutzung dieser Funktion finden Sie in der offiziellen <a href="https://docs.wis2box.wis.wmo.int">wis2box-Dokumentation</a>.</p>
<h2 id="de-practical-sessions-configuring-station-metadata-schlussfolgerung">Schlussfolgerung</h2>
<div class="admonition success">
<p class="admonition-title">Herzlichen Glückwunsch!</p>
<p>In dieser praktischen Sitzung haben Sie gelernt, wie Sie:</p>
<ul>
<li>einen Autorisierungstoken für den Endpunkt <code>collections/stations</code> erstellen, der mit der <strong>wis2box-webapp</strong> verwendet wird</li>
<li>Stationsmetadaten zu wis2box hinzufügen mit der <strong>wis2box-webapp</strong></li>
<li>Stationsmetadaten mit der <strong>wis2box-webapp</strong> ansehen/aktualisieren/löschen</li>
</ul>
</div></section><section class="print-page" id="de-practical-sessions-monitoring-wis2-notifications" heading-number="2.6"><h1 id="de-practical-sessions-monitoring-wis2-notifications-uberwachung-von-wis2-benachrichtigungen">Überwachung von WIS2-Benachrichtigungen</h1>
<div class="admonition abstract">
<p class="admonition-title">Lernergebnisse</p>
<p>Am Ende dieser praktischen Sitzung werden Sie in der Lage sein:</p>
<ul>
<li>den wis2box-Workflow durch Hochladen von Daten in MinIO mit dem Befehl <code>wis2box data ingest</code> auszulösen</li>
<li>Warnungen und Fehler anzeigen, die im Grafana-Dashboard angezeigt werden</li>
<li>den Inhalt der veröffentlichten Daten überprüfen</li>
</ul>
</div>
<h2 id="de-practical-sessions-monitoring-wis2-notifications-einfuhrung">Einführung</h2>
<p>Das <strong>Grafana-Dashboard</strong> verwendet Daten von Prometheus und Loki, um den Status Ihrer wis2box anzuzeigen. Prometheus speichert Zeitreihendaten aus den gesammelten Metriken, während Loki die Protokolle von den Containern speichert, die auf Ihrer wis2box-Instanz laufen. Diese Daten ermöglichen es Ihnen zu überprüfen, wie viele Daten auf MinIO empfangen werden, wie viele WIS2-Benachrichtigungen veröffentlicht werden und ob Fehler in den Protokollen erkannt wurden.</p>
<p>Um den Inhalt der WIS2-Benachrichtigungen zu sehen, die auf verschiedenen Themen Ihrer wis2box veröffentlicht werden, können Sie die Registerkarte 'Überwachen' in der <strong>wis2box-webapp</strong> verwenden.</p>
<h2 id="de-practical-sessions-monitoring-wis2-notifications-vorbereitung">Vorbereitung</h2>
<p>In diesem Abschnitt wird das zuvor im praktischen Kurs <a href="#practical-sessions-configuring-wis2box-datasets">Konfigurieren von Datensätzen in wis2box</a> erstellte Datenset "surface-based-observations/synop" verwendet.</p>
<p>Melden Sie sich mit Ihrem SSH-Client (PuTTY oder einem anderen) an Ihrer Studenten-VM an.</p>
<p>Stellen Sie sicher, dass wis2box läuft:</p>
<div class="highlight"><pre><span></span><code><span class="nb">cd</span><span class="w"> </span>~/wis2box-1.0.0rc1/
python3<span class="w"> </span>wis2box-ctl.py<span class="w"> </span>start
python3<span class="w"> </span>wis2box-ctl.py<span class="w"> </span>status
</code></pre></div>
<p>Stellen Sie sicher, dass Sie MQTT Explorer laufen haben und mit Ihrer Instanz unter Verwendung der öffentlichen Anmeldeinformationen <code>everyone/everyone</code> mit einem Abonnement für das Thema <code>origin/a/wis2/#</code> verbunden sind.</p>
<p>Stellen Sie sicher, dass Sie Zugriff auf die MinIO-Web-Oberfläche haben, indem Sie <code>http://&lt;your-host&gt;:9000</code> aufrufen und Sie angemeldet sind (mit <code>WIS2BOX_STORAGE_USERNAME</code> und <code>WIS2BOX_STORAGE_PASSWORD</code> aus Ihrer <code>wis2box.env</code>-Datei).</p>
<p>Stellen Sie sicher, dass Sie einen Webbrowser mit dem Grafana-Dashboard für Ihre Instanz geöffnet haben, indem Sie <code>http://&lt;your-host&gt;:3000</code> aufrufen.</p>
<h2 id="de-practical-sessions-monitoring-wis2-notifications-einige-daten-eingeben">Einige Daten eingeben</h2>
<p>Bitte führen Sie die folgenden Befehle von Ihrer SSH-Client-Sitzung aus:</p>
<p>Kopieren Sie die Beispieldatendatei <code>aws-example.csv</code> in das Verzeichnis, das Sie als <code>WI2BOX_HOST_DATADIR</code> in Ihrer <code>wis2box.env</code>-Datei definiert haben.</p>
<div class="highlight"><pre><span></span><code>cp<span class="w"> </span>~/exercise-materials/monitoring-exercises/aws-example.csv<span class="w"> </span>~/wis2box-data/
</code></pre></div>
<p>Stellen Sie sicher, dass Sie sich im Verzeichnis <code>wis2box-1.0.0rc1</code> befinden und melden Sie sich am <strong>wis2box-management</strong>-Container an:</p>
<div class="highlight"><pre><span></span><code><span class="nb">cd</span><span class="w"> </span>~/wis2box-1.0.0rc1
python3<span class="w"> </span>wis2box-ctl.py<span class="w"> </span>login
</code></pre></div>
<p>Überprüfen Sie, ob die Beispieldaten im Verzeichnis <code>/data/wis2box/</code> innerhalb des <strong>wis2box-management</strong>-Containers verfügbar sind:</p>
<div class="highlight"><pre><span></span><code>ls<span class="w"> </span>-lh<span class="w"> </span>/data/wis2box/aws-example.csv
</code></pre></div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Das <code>WIS2BOX_HOST_DATADIR</code> wird als <code>/data/wis2box/</code> innerhalb des wis2box-management-Containers durch die <code>docker-compose.yml</code>-Datei im Verzeichnis <code>wis2box-1.0.0rc1</code> eingebunden.</p>
<p>Dies ermöglicht Ihnen, Daten zwischen dem Host und dem Container zu teilen.</p>
</div>
<div class="admonition question">
<p class="admonition-title">Übung 1: Daten eingeben mit <code>wis2box data ingest</code></p>
<p>Führen Sie den folgenden Befehl aus, um die Beispieldatendatei <code>aws-example.csv</code> in Ihre wis2box-Instanz einzugeben:</p>
<div class="highlight"><pre><span></span><code>wis2box<span class="w"> </span>data<span class="w"> </span>ingest<span class="w"> </span>-p<span class="w"> </span>/data/wis2box/aws-example.csv<span class="w"> </span>--metadata-id<span class="w"> </span>urn:wmo:md:not-my-centre:core.surface-based-observations.synop
</code></pre></div>
<p>Wurden die Daten erfolgreich eingefügt? Wenn nicht, welche Fehlermeldung wurde angezeigt und wie können Sie sie beheben?</p>
</div>
<details class="success">
<summary>Klicken, um Antwort zu enthüllen</summary>
<p>Sie werden die folgende Ausgabe sehen:</p>
<div class="highlight"><pre><span></span><code>Error:<span class="w"> </span><span class="nv">metadata_id</span><span class="o">=</span>urn:wmo:md:not-my-centre:core.surface-based-observations.synop<span class="w"> </span>not<span class="w"> </span>found<span class="w"> </span><span class="k">in</span><span class="w"> </span>data<span class="w"> </span>mappings
</code></pre></div>
<p>Die Fehlermeldung zeigt an, dass der von Ihnen bereitgestellte Metadaten-Identifikator mit keinem der Datensätze übereinstimmt, die Sie in Ihrer wis2box-Instanz konfiguriert haben.</p>
<p>Geben Sie die korrekte Metadaten-ID an, die mit dem von Ihnen im vorherigen praktischen Kurs erstellten Datensatz übereinstimmt, und wiederholen Sie den Befehl zur Dateneingabe, bis Sie die folgende Ausgabe sehen sollten:</p>
<div class="highlight"><pre><span></span><code>Processing<span class="w"> </span>/data/wis2box/aws-example.csv
Done
</code></pre></div>
</details>
<p>Gehen Sie zur MinIO-Konsole in Ihrem Browser und überprüfen Sie, ob die Datei <code>aws-example.csv</code> im <code>wis2box-incoming</code>-Bucket hochgeladen wurde. Sie sollten dort ein neues Verzeichnis mit dem Namen des Datensatzes sehen, den Sie in der Option <code>--metadata-id</code> angegeben haben:</p>
<p><img alt="minio-wis2box-incoming-dataset-folder" src="../de/assets/img/minio-wis2box-incoming-dataset-folder.png" width="800"></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Der Befehl <code>wis2box data ingest</code> lud die Datei in den <code>wis2box-incoming</code>-Bucket in MinIO in einem Verzeichnis hoch, das nach dem von Ihnen bereitgestellten Metadaten-Identifikator benannt wurde.</p>
</div>
<p>Gehen Sie zum Grafana-Dashboard in Ihrem Browser und überprüfen Sie den Status der Dateneingabe.</p>
<div class="admonition question">
<p class="admonition-title">Übung 2: Überprüfen Sie den Status der Dateneingabe</p>
<p>Gehen Sie zum Grafana-Dashboard in Ihrem Browser und überprüfen Sie den Status der Dateneingabe.</p>
<p>Wurden die Daten erfolgreich eingefügt?</p>
</div>
<details class="success">
<summary>Klicken, um Antwort zu enthüllen</summary>
<p>Das Panel am unteren Rand des Grafana-Start-Dashboards meldet die folgenden Warnungen:    </p>
<p><code>WARNING - input=aws-example.csv warning=Station 0-20000-0-60355 not in station list; skipping</code>
<code>WARNING - input=aws-example.csv warning=Station 0-20000-0-60360 not in station list; skipping</code></p>
<p>Diese Warnung zeigt an, dass die Stationen nicht in der Stationsliste Ihrer wis2box definiert sind. Es werden keine WIS2-Benachrichtigungen für diese Station veröffentlicht, bis Sie sie zur Stationsliste hinzufügen und sie mit dem Thema für Ihren Datensatz verknüpfen.</p>
</details>
<div class="admonition question">
<p class="admonition-title">Übung 3: Fügen Sie die Teststationen hinzu und wiederholen Sie die Dateneingabe</p>
<p>Fügen Sie die Stationen Ihrer wis2box mit dem Stationseditor in <strong>wis2box-webapp</strong> hinzu und verknüpfen Sie die Stationen mit dem Thema für Ihren Datensatz.</p>
<p>Laden Sie nun die Beispieldatendatei <code>aws-example.csv</code> erneut in denselben Pfad in MinIO hoch, den Sie in der vorherigen Übung verwendet haben.</p>
<p>Überprüfen Sie das Grafana-Dashboard, gibt es neue Fehler oder Warnungen? Wie können Sie sehen, dass die Testdaten erfolgreich eingefügt und veröffentlicht wurden?</p>
</div>
<details class="success">
<summary>Klicken, um Antwort zu enthüllen</summary>
<p>Sie können die Diagramme auf dem Grafana-Start-Dashboard überprüfen, um zu sehen, ob die Testdaten erfolgreich eingefügt und veröffentlicht wurden.</p>
<p>Bei Erfolg sollten Sie Folgendes sehen:</p>
<p><img alt="grafana_success" src="../de/assets/img/grafana_success.png" width="800"></p>
</details>
<div class="admonition question">
<p class="admonition-title">Übung 4: Überprüfen Sie den MQTT-Broker auf WIS2-Benachrichtigungen</p>
<p>Gehen Sie zum MQTT Explorer und überprüfen Sie, ob Sie die WIS2-Benachrichtigungsnachricht für die Daten sehen können, die Sie gerade eingefügt haben.</p>
<p>Wie viele WIS2-Datenbenachrichtigungen wurden von Ihrer wis2box veröffentlicht?</p>
<p>Wie greifen Sie auf den Inhalt der veröffentlichten Daten zu?</p>
</div>
<details class="success">
<summary>Klicken, um Antwort zu enthüllen</summary>
<p>Sie sollten 6 WIS2-Datenbenachrichtigungen sehen, die von Ihrer wis2box veröffentlicht wurden.</p>
<p>Um auf den Inhalt der veröffentlichten Daten zuzugreifen, können Sie die Themenstruktur erweitern, um die verschiedenen Ebenen der Nachricht zu sehen, bis Sie die letzte Ebene erreichen und den Nachrichteninhalt einer der Nachrichten überprüfen.</p>
<p>Der Nachrichteninhalt hat einen "links"-Abschnitt mit einem "rel"-Schlüssel von "canonical" und einem "href"-Schlüssel mit der URL zum Herunterladen der Daten. Die URL wird im Format <code>http://&lt;your-host&gt;/data/...</code> sein.</p>
<p>Beachten Sie, dass das Datenformat BUFR ist und Sie einen BUFR-Parser benötigen, um den Inhalt der Daten anzuzeigen. Das BUFR-Format ist ein binäres Format, das von meteorologischen Diensten zur Datenaustausch verwendet wird. Die Daten-Plugins in wis2box haben die Daten von CSV in BUFR umgewandelt, bevor sie veröffentlicht wurden.</p>
</details>
<h2 id="de-practical-sessions-monitoring-wis2-notifications-anzeigen-des-inhalts-der-von-ihnen-veroffentlichten-daten">Anzeigen des Inhalts der von Ihnen veröffentlichten Daten</h2>
<p>Sie können die <strong>wis2box-webapp</strong> verwenden, um den Inhalt der WIS2-Datenbenachrichtigungen anzuzeigen, die von Ihrer wis2box veröffentlicht wurden.</p>
<p>Öffnen Sie die <strong>wis2box-webapp</strong> in Ihrem Browser, indem Sie zu <code>http://&lt;your-host&gt;/wis2box-webapp</code> navigieren und den Reiter <strong>Überwachung</strong> auswählen:</p>
<p><img alt="wis2box-webapp-monitor" src="../de/assets/img/wis2box-webapp-monitor.png" width="220"></p>
<p>Wählen Sie im Überwachungsreiter Ihre Datensatz-ID aus und klicken Sie auf "AKTUALISIEREN"</p>
<details class="question">
<summary>Übung 5: Anzeigen der WIS2-Benachrichtigungen in der wis2box-webapp</summary>
<p>Wie viele WIS2-Datenbenachrichtigungen wurden von Ihrer wis2box veröffentlicht?</p>
<p>Wie hoch ist die Lufttemperatur in der letzten Benachrichtigung an der Station mit dem WIGOS-Identifikator=0-20000-0-60355?</p>
</details>
<details class="success">
<summary>Klicken, um Antwort zu enthüllen</summary>
<p>Wenn Sie die Testdaten erfolgreich eingefügt haben, sollten Sie 6 WIS2-Datenbenachrichtigungen sehen, die von Ihrer wis2box veröffentlicht wurden.</p>
<p>Um die Lufttemperatur zu sehen, die für die Station mit dem WIGOS-Identifikator=0-20000-0-60355 gemessen wurde, klicken Sie auf den "INSPEKTIEREN"-Knopf neben der Datei für diese Station, um ein Popup-Fenster zu öffnen, das den analysierten Inhalt der Datendatei anzeigt. Die gemessene Lufttemperatur an dieser Station betrug 25,0 Grad Celsius.</p>
</details>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Der wis2box-api-Container enthält Werkzeuge zum Parsen von BUFR-Dateien und zur Anzeige des Inhalts in einem für Menschen lesbaren Format. Dies ist keine Kernanforderung für die WIS2.0-Implementierung, wurde jedoch in die wis2box aufgenommen, um Datenveröffentlichern zu helfen, den Inhalt der Daten, die sie veröffentlichen, zu überprüfen.</p>
</div>
<h2 id="de-practical-sessions-monitoring-wis2-notifications-schlussfolgerung">Schlussfolgerung</h2>
<div class="admonition success">
<p class="admonition-title">Herzlichen Glückwunsch!</p>
<p>In dieser praktischen Sitzung haben Sie gelernt, wie Sie:</p>
<ul>
<li>den wis2box-Workflow durch Hochladen von Daten in MinIO mit dem Befehl <code>wis2box data ingest</code> auslösen</li>
<li>die von Ihrer wis2box veröffentlichten WIS2-Benachrichtigungen im Grafana-Dashboard und MQTT Explorer anzeigen</li>
<li>den Inhalt der veröffentlichten Daten mit der <strong>wis2box-webapp</strong> überprüfen</li>
</ul>
</div></section><section class="print-page" id="de-practical-sessions-converting-synop-data-to-bufr" heading-number="2.7"><h1 id="de-practical-sessions-converting-synop-data-to-bufr-umwandlung-von-synop-daten-in-bufr-uber-die-kommandozeile">Umwandlung von SYNOP-Daten in BUFR über die Kommandozeile</h1>
<div class="admonition abstract">
<p class="admonition-title">Lernergebnisse</p>
<p>Am Ende dieser praktischen Sitzung werden Sie in der Lage sein:</p>
<ul>
<li>das Werkzeug synop2bufr zu verwenden, um FM-12 SYNOP-Berichte in BUFR umzuwandeln;</li>
<li>einfache Kodierungsfehler in FM-12 SYNOP-Berichten vor der Formatumwandlung zu diagnostizieren und zu beheben;</li>
</ul>
</div>
<h2 id="de-practical-sessions-converting-synop-data-to-bufr-einfuhrung">Einführung</h2>
<p>Oberflächenwetterberichte von Landstationen wurden historisch stündlich oder zu den Haupt-
(00, 06, 12 und 18 UTC) und Zwischenzeiten (03, 09, 15, 21 UTC) synoptischen Stunden gemeldet. Vor der Umstellung
auf BUFR wurden diese Berichte im Klartext FM-12 SYNOP-Codeformat kodiert. Obwohl die Umstellung auf BUFR
bis 2012 abgeschlossen sein sollte, werden immer noch eine große Anzahl von Berichten im alten
FM-12 SYNOP-Format ausgetauscht. Weitere Informationen zum FM-12 SYNOP-Format finden Sie im WMO-Handbuch über Codes,
Band I.1 (WMO-Nr. 306, Band I.1).</p>
<p><a href="https://library.wmo.int/records/item/35713-manual-on-codes-international-codes-volume-i-1">WMO-Handbuch über Codes, Band I.1</a></p>
<p>Um die Umstellung auf BUFR zu unterstützen, wurden einige Werkzeuge entwickelt, um
FM-12 SYNOP-Berichte in BUFR zu kodieren. In dieser Sitzung lernen Sie, wie man diese Werkzeuge verwendet sowie die Beziehung zwischen den Informationen in den FM-12 SYNOP-Berichten und den BUFR-Nachrichten.</p>
<h2 id="de-practical-sessions-converting-synop-data-to-bufr-vorbereitung">Vorbereitung</h2>
<div class="admonition warning">
<p class="admonition-title">Voraussetzungen</p>
<ul>
<li>Stellen Sie sicher, dass Ihr wis2box konfiguriert und gestartet wurde.</li>
<li>Bestätigen Sie den Status, indem Sie die wis2box API (<code>http://&lt;Ihr-Host-Name&gt;/oapi</code>) besuchen und überprüfen, ob die API läuft.</li>
<li>Lesen Sie die Abschnitte <strong>synop2bufr Primer</strong> und <strong>ecCodes Primer</strong> vor Beginn der Übungen.</li>
</ul>
</div>
<h2 id="de-practical-sessions-converting-synop-data-to-bufr-synop2bufr-primer">synop2bufr Primer</h2>
<p>Nachfolgend finden Sie wesentliche <code>synop2bufr</code> Befehle und Konfigurationen:</p>
<h3 id="de-practical-sessions-converting-synop-data-to-bufr-transform">transform</h3>
<p>Die <code>transform</code> Funktion konvertiert eine SYNOP-Nachricht in BUFR:</p>
<div class="highlight"><pre><span></span><code>synop2bufr<span class="w"> </span>data<span class="w"> </span>transform<span class="w"> </span>--metadata<span class="w"> </span>my_file.csv<span class="w"> </span>--output-dir<span class="w"> </span>./my_directory<span class="w"> </span>--year<span class="w"> </span>message_year<span class="w"> </span>--month<span class="w"> </span>message_month<span class="w"> </span>my_SYNOP.txt
</code></pre></div>
<p>Beachten Sie, dass, wenn die Optionen für Metadaten, Ausgabeverzeichnis, Jahr und Monat nicht angegeben sind, sie ihre Standardwerte annehmen:</p>
<table>
<thead>
<tr>
<th>Option</th>
<th>Standard</th>
</tr>
</thead>
<tbody>
<tr>
<td>--metadata</td>
<td>station_list.csv</td>
</tr>
<tr>
<td>--output-dir</td>
<td>Das aktuelle Arbeitsverzeichnis.</td>
</tr>
<tr>
<td>--year</td>
<td>Das aktuelle Jahr.</td>
</tr>
<tr>
<td>--month</td>
<td>Der aktuelle Monat.</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Man muss vorsichtig mit dem Standardjahr und -monat sein, da der im Bericht angegebene Tag des Monats nicht übereinstimmen könnte (z.B. hat Juni keine 31 Tage).</p>
</div>
<p>In den Beispielen sind Jahr und Monat nicht angegeben, also fühlen Sie sich frei, ein Datum selbst anzugeben oder die Standardwerte zu verwenden.</p>
<h2 id="de-practical-sessions-converting-synop-data-to-bufr-eccodes-primer">ecCodes Primer</h2>
<p>ecCodes bietet sowohl Kommandozeilenwerkzeuge als auch die Möglichkeit, in Ihre eigenen Anwendungen eingebettet zu werden. Nachfolgend einige nützliche Kommandozeilenwerkzeuge für die Arbeit mit BUFR-Daten.</p>
<h3 id="de-practical-sessions-converting-synop-data-to-bufr-bufr_dump">bufr_dump</h3>
<p>Der Befehl <code>bufr_dump</code> ist ein generisches BUFR-Informationswerkzeug. Es hat viele Optionen, aber die folgenden werden für die Übungen am meisten zutreffen:</p>
<div class="highlight"><pre><span></span><code>bufr_dump<span class="w"> </span>-p<span class="w"> </span>my_bufr.bufr4
</code></pre></div>
<p>Dies zeigt den BUFR-Inhalt auf Ihrem Bildschirm an. Wenn Sie an den Werten interessiert sind, die eine bestimmte Variable annimmt, verwenden Sie den Befehl <code>egrep</code>:</p>
<div class="highlight"><pre><span></span><code>bufr_dump<span class="w"> </span>-p<span class="w"> </span>my_bufr.bufr4<span class="w"> </span><span class="p">|</span><span class="w"> </span>egrep<span class="w"> </span>-i<span class="w"> </span>temperature
</code></pre></div>
<p>Dies zeigt Variablen an, die mit der Temperatur in Ihren BUFR-Daten zusammenhängen. Wenn Sie dies für mehrere Arten von Variablen tun möchten, filtern Sie die Ausgabe mit einem Pipe (<code>|</code>):</p>
<div class="highlight"><pre><span></span><code>bufr_dump<span class="w"> </span>-p<span class="w"> </span>my_bufr.bufr4<span class="w"> </span><span class="p">|</span><span class="w"> </span>egrep<span class="w"> </span>-i<span class="w"> </span><span class="s1">&#39;temperature|wind&#39;</span>
</code></pre></div>
<h2 id="de-practical-sessions-converting-synop-data-to-bufr-umwandlung-von-fm-12-synop-in-bufr-mit-synop2bufr-uber-die-kommandozeile">Umwandlung von FM-12 SYNOP in BUFR mit synop2bufr über die Kommandozeile</h2>
<p>Die eccodes-Bibliothek und das synop2bufr-Modul sind im wis2box-api-Container installiert. Um die nächsten Übungen durchzuführen, werden wir das Verzeichnis synop2bufr-exercises in den wis2box-api-Container kopieren und die Übungen von dort aus durchführen.</p>
<div class="highlight"><pre><span></span><code>docker<span class="w"> </span>cp<span class="w"> </span>~/exercise-materials/synop2bufr-exercises<span class="w"> </span>wis2box-api:/root
</code></pre></div>
<p>Nun können wir den Container betreten und die Übungen durchführen:</p>
<div class="highlight"><pre><span></span><code>docker<span class="w"> </span><span class="nb">exec</span><span class="w"> </span>-it<span class="w"> </span>wis2box-api<span class="w"> </span>/bin/bash
</code></pre></div>
<h3 id="de-practical-sessions-converting-synop-data-to-bufr-ubung-1">Übung 1</h3>
<p>Navigieren Sie zum Verzeichnis <code>/root/synop2bufr-exercises/ex_1</code> und inspizieren Sie die SYNOP-Nachrichtendatei message.txt:</p>
<div class="highlight"><pre><span></span><code><span class="nb">cd</span><span class="w"> </span>/root/synop2bufr-exercises/ex_1
more<span class="w"> </span>message.txt
</code></pre></div>
<div class="admonition question">
<p class="admonition-title">Question</p>
<p>Wie viele SYNOP-Berichte sind in dieser Datei?</p>
</div>
<details class="success">
<summary>Klicken, um die Antwort zu sehen</summary>
<p>Es gibt 1 SYNOP-Bericht, da nur 1 Trennzeichen (=) am Ende der Nachricht vorhanden ist.</p>
</details>
<p>Inspizieren Sie die Stationsliste:</p>
<div class="highlight"><pre><span></span><code>more<span class="w"> </span>station_list.csv
</code></pre></div>
<div class="admonition question">
<p class="admonition-title">Question</p>
<p>Wie viele Stationen sind in der Stationsliste aufgeführt?</p>
</div>
<details class="success">
<summary>Klicken, um die Antwort zu sehen</summary>
<p>Es gibt 1 Station, die station_list.csv enthält eine Zeile mit Stationsmetadaten.</p>
</details>
<div class="admonition question">
<p class="admonition-title">Question</p>
<p>Versuchen Sie, <code>message.txt</code> in das BUFR-Format zu konvertieren.</p>
</div>
<details class="success">
<summary>Klicken, um die Antwort zu sehen</summary>
<p>Um die SYNOP-Nachricht in das BUFR-Format zu konvertieren, verwenden Sie den folgenden Befehl:</p>
<div class="highlight"><pre><span></span><code>synop2bufr<span class="w"> </span>data<span class="w"> </span>transform<span class="w"> </span>--metadata<span class="w"> </span>station_list.csv<span class="w"> </span>--output-dir<span class="w"> </span>./<span class="w"> </span>--year<span class="w"> </span><span class="m">2024</span><span class="w"> </span>--month<span class="w"> </span><span class="m">09</span><span class="w"> </span>message.txt
</code></pre></div>
</details>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Sehen Sie sich den Abschnitt <a href="#de-practical-sessions-converting-synop-data-to-bufr-synop2bufr-primer">synop2bufr Primer</a> an.</p>
</div>
<p>Inspizieren Sie die resultierenden BUFR-Daten mit <code>bufr_dump</code>.</p>
<div class="admonition question">
<p class="admonition-title">Question</p>
<p>Finden Sie heraus, wie Sie die Werte für Breite und Länge mit denen in der Stationsliste vergleichen können.</p>
</div>
<details class="success">
<summary>Klicken, um die Antwort zu sehen</summary>
<p>Um die Werte für Breite und Länge in den BUFR-Daten mit denen in der Stationsliste zu vergleichen, verwenden Sie den folgenden Befehl:</p>
<div class="highlight"><pre><span></span><code>bufr_dump<span class="w"> </span>-p<span class="w"> </span>WIGOS_0-20000-0-15015_20240921T120000.bufr4<span class="w"> </span><span class="p">|</span><span class="w"> </span>egrep<span class="w"> </span>-i<span class="w"> </span><span class="s1">&#39;latitude|longitude&#39;</span>
</code></pre></div>
<p>Dies zeigt die Werte für Breite und Länge in den BUFR-Daten an.</p>
</details>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Sehen Sie sich den Abschnitt <a href="#de-practical-sessions-converting-synop-data-to-bufr-eccodes-primer">ecCodes Primer</a> an.</p>
</div>
<h3 id="de-practical-sessions-converting-synop-data-to-bufr-ubung-2">Übung 2</h3>
<p>Navigieren Sie zum Verzeichnis <code>exercise-materials/synop2bufr-exercises/ex_2</code> und inspizieren Sie die SYNOP-Nachrichtendatei message.txt:</p>
<div class="highlight"><pre><span></span><code><span class="nb">cd</span><span class="w"> </span>/root/synop2bufr-exercises/ex_2
more<span class="w"> </span>message.txt
</code></pre></div>
<div class="admonition question">
<p class="admonition-title">Question</p>
<p>Wie viele SYNOP-Berichte sind in dieser Datei?</p>
</div>
<details class="success">
<summary>Klicken, um die Antwort zu sehen</summary>
<p>Es gibt 3 SYNOP-Berichte, da es 3 Trennzeichen (=) am Ende der Nachricht gibt.</p>
</details>
<p>Inspizieren Sie die Stationsliste:</p>
<div class="highlight"><pre><span></span><code>more<span class="w"> </span>station_list.csv
</code></pre></div>
<div class="admonition question">
<p class="admonition-title">Question</p>
<p>Wie viele Stationen sind in der Stationsliste aufgeführt?</p>
</div>
<details class="success">
<summary>Klicken, um die Antwort zu sehen</summary>
<p>Es gibt 3 Stationen, die station_list.csv enthält drei Zeilen mit Stationsmetadaten.</p>
</details>
<div class="admonition question">
<p class="admonition-title">Question</p>
<p>Konvertieren Sie <code>message.txt</code> in das BUFR-Format.</p>
</div>
<details class="success">
<summary>Klicken, um die Antwort zu sehen</summary>
<p>Um die SYNOP-Nachricht in das BUFR-Format zu konvertieren, verwenden Sie den folgenden Befehl:</p>
<div class="highlight"><pre><span></span><code>synop2bufr<span class="w"> </span>data<span class="w"> </span>transform<span class="w"> </span>--metadata<span class="w"> </span>station_list.csv<span class="w"> </span>--output-dir<span class="w"> </span>./<span class="w"> </span>--year<span class="w"> </span><span class="m">2024</span><span class="w"> </span>--month<span class="w"> </span><span class="m">09</span><span class="w"> </span>message.txt
</code></pre></div>
</details>
<div class="admonition question">
<p class="admonition-title">Question</p>
<p>Basierend auf den Ergebnissen der Übungen in dieser und der vorherigen Übung, wie würden Sie die Anzahl der
resultierenden BUFR-Dateien vorhersagen, basierend auf der Anzahl der SYNOP-Berichte und der in der Stationsmetadatendatei aufgeführten Stationen?</p>
</div>
<details class="success">
<summary>Klicken, um die Antwort zu sehen</summary>
<p>Um die produzierten BUFR-Dateien zu sehen, führen Sie den folgenden Befehl aus:</p>
<div class="highlight"><pre><span></span><code>ls<span class="w"> </span>-l<span class="w"> </span>*.bufr4
</code></pre></div>
<p>Die Anzahl der produzierten BUFR-Dateien entspricht der Anzahl der SYNOP-Berichte in der Nachrichtendatei.</p>
</details>
<p>Inspizieren Sie die resultierenden BUFR-Daten mit <code>bufr_dump</code>.</p>
<div class="admonition question">
<p class="admonition-title">Question</p>
<p>Wie können Sie die WIGOS-Station-ID, die in den BUFR-Daten jeder produzierten Datei kodiert ist, überprüfen?</p>
</div>
<details class="success">
<summary>Klicken, um die Antwort zu sehen</summary>
<p>Dies kann mit den folgenden Befehlen erfolgen:</p>
<div class="highlight"><pre><span></span><code>bufr_dump<span class="w"> </span>-p<span class="w"> </span>WIGOS_0-20000-0-15015_20240921T120000.bufr4<span class="w"> </span><span class="p">|</span><span class="w"> </span>egrep<span class="w"> </span>-i<span class="w"> </span><span class="s1">&#39;wigos&#39;</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code>bufr_dump<span class="w"> </span>-p<span class="w"> </span>WIGOS_0-20000-0-15020_20240921T120000.bufr4<span class="w"> </span><span class="p">|</span><span class="w"> </span>egrep<span class="w"> </span>-i<span class="w"> </span><span class="s1">&#39;wigos&#39;</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code>bufr_dump<span class="w"> </span>-p<span class="w"> </span>WIGOS_0-20000-0-15090_20240921T120000.bufr4<span class="w"> </span><span class="p">|</span><span class="w"> </span>egrep<span class="w"> </span>-i<span class="w"> </span><span class="s1">&#39;wigos&#39;</span>
</code></pre></div>
<p>Beachten Sie, dass wenn Sie ein Verzeichnis mit nur diesen 3 BUFR-Dateien haben, Sie Linux-Wildcards wie folgt verwenden können:</p>
<div class="highlight"><pre><span></span><code>bufr_dump<span class="w"> </span>-p<span class="w"> </span>*.bufr4<span class="w"> </span><span class="p">|</span><span class="w"> </span>egrep<span class="w"> </span>-i<span class="w"> </span><span class="s1">&#39;wigos&#39;</span>
</code></pre></div>
</details>
<h3 id="de-practical-sessions-converting-synop-data-to-bufr-ubung-3">Übung 3</h3>
<p>Navigieren Sie zum Verzeichnis <code>exercise-materials/synop2bufr-exercises/ex_3</code> und inspizieren Sie die SYNOP-Nachrichtendatei message.txt:</p>
<div class="highlight"><pre><span></span><code><span class="nb">cd</span><span class="w"> </span>/root/synop2bufr-exercises/ex_3
more<span class="w"> </span>message.txt
</code></pre></div>
<p>Diese SYNOP-Nachricht enthält nur einen längeren Bericht mit mehreren Abschnitten.</p>
<p>Inspizieren Sie die Stationsliste:</p>
<div class="highlight"><pre><span></span><code>more<span class="w"> </span>station_list.csv
</code></pre></div>
<div class="admonition question">
<p class="admonition-title">Question</p>
<p>Ist es problematisch, dass diese Datei mehr Stationen enthält, als es Berichte in der SYNOP-Nachricht gibt?</p>
</div>
<details class="success">
<summary>Klicken, um die Antwort zu sehen</summary>
<p>Nein, das ist kein Problem, solange es eine Zeile in der Stationslistendatei gibt, die zu der Station TSI passt, die wir zu konvertieren versuchen.</p>
</details>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Die Stationslistendatei ist eine Quelle für Metadaten für <code>synop2bufr</code>, um die Informationen bereitzustellen, die im alphanumerischen SYNOP-Bericht fehlen und im BUFR SYNOP erforderlich sind.</p>
</div>
<div class="admonition question">
<p class="admonition-title">Question</p>
<p>Konvertieren Sie <code>message.txt</code> in das BUFR-Format.</p>
</div>
<details class="success">
<summary>Klicken, um die Antwort zu sehen</summary>
<p>Dies erfolgt mit dem <code>transform</code> Befehl, zum Beispiel:</p>
<div class="highlight"><pre><span></span><code>synop2bufr<span class="w"> </span>data<span class="w"> </span>transform<span class="w"> </span>--metadata<span class="w"> </span>station_list.csv<span class="w"> </span>--output-dir<span class="w"> </span>./<span class="w"> </span>--year<span class="w"> </span><span class="m">2024</span><span class="w"> </span>--month<span class="w"> </span><span class="m">09</span><span class="w"> </span>message.txt
</code></pre></div>
</details>
<p>Inspizieren Sie die resultierenden BUFR-Daten mit <code>bufr_dump</code>.</p>
<div class="admonition question">
<p class="admonition-title">Question</p>
<p>Finden Sie die folgenden Variablen:</p>
<ul>
<li>Lufttemperatur (K) des Berichts</li>
<li>Gesamtwolkenbedeckung (%) des Berichts</li>
<li>Gesamte Sonnenscheindauer (Minuten) des Berichts</li>
<li>Windgeschwindigkeit (m/s) des Berichts</li>
</ul>
</div>
<details class="success">
<summary>Klicken, um die Antwort zu sehen</summary>
<p>Um die Variablen nach Stichwort in den BUFR-Daten zu finden, können Sie die folgenden Befehle verwenden:</p>
<div class="highlight"><pre><span></span><code>bufr_dump<span class="w"> </span>-p<span class="w"> </span>WIGOS_0-20000-0-15260_20240921T115500.bufr4<span class="w"> </span><span class="p">|</span><span class="w"> </span>egrep<span class="w"> </span>-i<span class="w"> </span><span class="s1">&#39;temperature&#39;</span>
</code></pre></div>
<p>Sie können den folgenden Befehl verwenden, um nach mehreren Stichwörtern zu suchen:</p>
<div class="highlight"><pre><span></span><code>bufr_dump<span class="w"> </span>-p<span class="w"> </span>WIGOS_0-20000-0-15260_20240921T115500.bufr4<span class="w"> </span><span class="p">|</span><span class="w"> </span>egrep<span class="w"> </span>-i<span class="w"> </span><span class="s1">&#39;temperature|cover|sunshine|wind&#39;</span>
</code></pre></div>
</details>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Der letzte Befehl im Abschnitt <a href="#de-practical-sessions-converting-synop-data-to-bufr-eccodes-primer">ecCodes Primer</a> könnte nützlich sein.</p>
</div>
<h3 id="de-practical-sessions-converting-synop-data-to-bufr-ubung-4">Übung 4</h3>
<p>Navigieren Sie zum Verzeichnis <code>exercise-materials/synop2bufr-exercises/ex_4</code> und inspizieren Sie die SYNOP-Nachrichtendatei message.txt:</p>
<div class="highlight"><pre><span></span><code><span class="nb">cd</span><span class="w"> </span>/root/synop2bufr-exercises/ex_4
more<span class="w"> </span>message_incorrect.txt
</code></pre></div>
<div class="admonition question">
<p class="admonition-title">Question</p>
<p>Was ist falsch an dieser SYNOP-Datei?</p>
</div>
<details class="success">
<summary>Klicken, um die Antwort zu sehen</summary>
<p>Der SYNOP-Bericht für 15015 fehlt das Trennzeichen (<code>=</code>), das es <code>synop2bufr</code> ermöglicht, diesen Bericht vom nächsten zu unterscheiden.</p>
</details>
<p>Versuchen Sie, <code>message_incorrect.txt</code> mit <code>station_list.csv</code> zu konvertieren</p>
<div class="admonition question">
<p class="admonition-title">Question</p>
<p>Welche Probleme sind Ihnen bei dieser Konvertierung begegnet?</p>
</div>
<details class="success">
<summary>Klicken, um die Antwort zu sehen</summary>
<p>Um die SYNOP-Nachricht in das BUFR-Format zu konvertieren, verwenden Sie den folgenden Befehl:</p>
<div class="highlight"><pre><span></span><code>synop2bufr<span class="w"> </span>data<span class="w"> </span>transform<span class="w"> </span>--metadata<span class="w"> </span>station_list.csv<span class="w"> </span>--output-dir<span class="w"> </span>./<span class="w"> </span>--year<span class="w"> </span><span class="m">2024</span><span class="w"> </span>--month<span class="w"> </span><span class="m">09</span><span class="w"> </span>message_incorrect.txt
</code></pre></div>
<p>Der Versuch der Konvertierung sollte die folgenden Fehler auslösen:</p>
<ul>
<li><code>[ERROR] Unable to decode the SYNOP message</code></li>
<li><code>[ERROR] Error parsing SYNOP report: AAXX 21121 15015 02999 02501 10103 21090 39765 42952 57020 60001 15020 02997 23104 10130 21075 30177 40377 58020 60001 81041. 10130 is not a valid group!</code></li>
</ul>
</details>
<h3 id="de-practical-sessions-converting-synop-data-to-bufr-ubung-5">Übung 5</h3>
<p>Navigieren Sie zum Verzeichnis <code>exercise-materials/synop2bufr-exercises/ex_5</code> und inspizieren Sie die SYNOP-Nachrichtendatei message.txt:</p>
<div class="highlight"><pre><span></span><code><span class="nb">cd</span><span class="w"> </span>/root/synop2bufr-exercises/ex_5
more<span class="w"> </span>message.txt
</code></pre></div>
<p>Versuchen Sie, <code>message.txt</code> in das BUFR-Format zu konvertieren, indem Sie <code>station_list_incorrect.csv</code> verwenden</p>
<div class="admonition question">
<p class="admonition-title">Question</p>
<p>Welche Probleme sind Ihnen bei dieser Konvertierung begegnet?<br />
Angesichts des vorgelegten Fehlers, rechtfertigen Sie die Anzahl der produzierten BUFR-Dateien.</p>
</div>
<details class="success">
<summary>Klicken, um die Antwort zu sehen</summary>
<p>Um die SYNOP-Nachricht in das BUFR-Format zu konvertieren, verwenden Sie den folgenden Befehl:</p>
<div class="highlight"><pre><span></span><code>synop2bufr<span class="w"> </span>data<span class="w"> </span>transform<span class="w"> </span>--metadata<span class="w"> </span>station_list_incorrect.csv<span class="w"> </span>--output-dir<span class="w"> </span>./<span class="w"> </span>--year<span class="w"> </span><span class="m">2024</span><span class="w"> </span>--month<span class="w"> </span><span class="m">09</span><span class="w"> </span>message.txt
</code></pre></div>
<p>Einer der Stations-TSIs (<code>15015</code>) hat keine entsprechenden Metadaten in der Stationsliste, was synop2bufr daran hindert, zusätzliche notwendige Metadaten zu erhalten, um den ersten SYNOP-Bericht in BUFR zu konvertieren.</p>
<p>Sie werden folgende Warnung sehen:</p>
<ul>
<li><code>[WARNING] Station 15015 not found in station file</code></li>
</ul>
<p>Sie können die Anzahl der produzierten BUFR-Dateien sehen, indem Sie den folgenden Befehl ausführen:</p>
<div class="highlight"><pre><span></span><code>ls<span class="w"> </span>-l<span class="w"> </span>*.bufr4
</code></pre></div>
<p>Es gibt 3 SYNOP-Berichte in message.txt, aber nur 2 BUFR-Dateien wurden produziert. Dies liegt daran, dass einem der SYNOP-Berichte die notwendigen Metadaten fehlten, wie oben erwähnt.</p>
</details>
<h2 id="de-practical-sessions-converting-synop-data-to-bufr-schlussfolgerung">Schlussfolgerung</h2>
<div class="admonition success">
<p class="admonition-title">Herzlichen Glückwunsch!</p>
<p>In dieser praktischen Sitzung haben Sie gelernt:</p>
<ul>
<li>wie das Werkzeug synop2bufr verwendet werden kann, um FM-12 SYNOP-Berichte in BUFR umzuwandeln;</li>
<li>wie man einfache Kodierungsfehler in FM-12 SYNOP-Berichten vor der Formatumwandlung diagnostiziert und behebt;</li>
</ul>
</div></section><section class="print-page" id="de-practical-sessions-converting-synop-data-to-bufr-form" heading-number="2.8"><h1 id="de-practical-sessions-converting-synop-data-to-bufr-form-umwandlung-von-synop-daten-in-bufr-mit-der-wis2box-webapp">Umwandlung von SYNOP-Daten in BUFR mit der wis2box-Webapp</h1>
<div class="admonition abstract">
<p class="admonition-title">Lernergebnisse</p>
<p>Am Ende dieser praktischen Sitzung werden Sie in der Lage sein:</p>
<ul>
<li>gültige FM-12 SYNOP-Bulletins über die wis2box-Webanwendung zur Umwandlung in BUFR und zum Austausch über das WIS2.0 einzureichen</li>
<li>einfache Kodierungsfehler in einem FM-12 SYNOP-Bulletin vor der Formatumwandlung und dem Austausch zu validieren, zu diagnostizieren und zu beheben</li>
<li>sicherzustellen, dass die erforderlichen Stationsmetadaten in der wis2box verfügbar sind</li>
<li>erfolgreich umgewandelte Bulletins zu bestätigen und zu inspizieren</li>
</ul>
</div>
<h2 id="de-practical-sessions-converting-synop-data-to-bufr-form-einfuhrung">Einführung</h2>
<p>Um es manuellen Beobachtern zu ermöglichen, Daten direkt an das WIS2.0 zu übermitteln, verfügt die wis2box-Webapp über ein Formular zur Umwandlung von FM-12 SYNOP-Bulletins in BUFR. Das Formular ermöglicht es den Benutzern auch, einfache Kodierungsfehler im FM-12 SYNOP-Bulletin vor der Formatumwandlung und dem Austausch zu diagnostizieren und zu beheben sowie die resultierenden BUFR-Daten zu inspizieren.</p>
<h2 id="de-practical-sessions-converting-synop-data-to-bufr-form-vorbereitung">Vorbereitung</h2>
<div class="admonition warning">
<p class="admonition-title">Voraussetzungen</p>
<ul>
<li>Stellen Sie sicher, dass Ihre wis2box konfiguriert und gestartet wurde.</li>
<li>Öffnen Sie ein Terminal und verbinden Sie sich über SSH mit Ihrer Studenten-VM.</li>
<li>Verbinden Sie sich mit dem MQTT-Broker Ihrer wis2box-Instanz mit MQTT Explorer.</li>
<li>Öffnen Sie die wis2box-Webanwendung (<code>http://&lt;Ihr-Host-Name&gt;/wis2box-webapp</code>) und stellen Sie sicher, dass Sie eingeloggt sind.</li>
</ul>
</div>
<h2 id="de-practical-sessions-converting-synop-data-to-bufr-form-verwendung-der-wis2box-webapp-zur-umwandlung-von-fm-12-synop-in-bufr">Verwendung der wis2box-Webapp zur Umwandlung von FM-12 SYNOP in BUFR</h2>
<h3 id="de-practical-sessions-converting-synop-data-to-bufr-form-ubung-1-verwendung-der-wis2box-webapp-zur-umwandlung-von-fm-12-synop-in-bufr">Übung 1 - Verwendung der wis2box-Webapp zur Umwandlung von FM-12 SYNOP in BUFR</h3>
<p>Stellen Sie sicher, dass Sie das Auth-Token für "processes/wis2box" haben, das Sie in der vorherigen Übung generiert haben, und dass Sie mit Ihrem wis2box-Broker im MQTT Explorer verbunden sind.</p>
<p>Kopieren Sie die folgende Nachricht:</p>
<div class="highlight"><pre><span></span><code>AAXX 27031
15015 02999 02501 10103 21090 39765 42952 57020 60001=
</code></pre></div>
<p>Öffnen Sie die wis2box-Webanwendung und navigieren Sie zur Seite synop2bufr über die linke Navigationsleiste und gehen Sie wie folgt vor:</p>
<ul>
<li>Fügen Sie den kopierten Inhalt in das Texteingabefeld ein.</li>
<li>Wählen Sie den Monat und das Jahr mit dem Datumsauswahlwerkzeug aus, gehen Sie für diese Übung vom aktuellen Monat aus.</li>
<li>Wählen Sie ein Thema aus dem Dropdown-Menü (die Optionen basieren auf den in der wis2box konfigurierten Datensätzen).</li>
<li>Geben Sie das "processes/wis2box" Auth-Token ein, das Sie zuvor generiert haben.</li>
<li>Stellen Sie sicher, dass "Publish on WIS2" eingeschaltet ist.</li>
<li>Klicken Sie auf "SUBMIT"</li>
</ul>
<p><center><img alt="Dialog zeigt die synop2bufr-Seite, einschließlich Umschaltknopf" src="../de/assets/img/synop2bufr-toggle.png"></center></p>
<p>Klicken Sie auf submit. Sie erhalten eine Warnmeldung, da die Station nicht in der wis2box registriert ist. Gehen Sie zum Station-Editor und importieren Sie die folgende Station:</p>
<div class="highlight"><pre><span></span><code>0-20000-0-15015
</code></pre></div>
<p>Stellen Sie sicher, dass die Station mit dem Thema verbunden ist, das Sie im vorherigen Schritt ausgewählt haben, und kehren Sie dann zur Seite synop2bufr zurück und wiederholen Sie den Vorgang mit denselben Daten wie zuvor.</p>
<div class="admonition question">
<p class="admonition-title">Question</p>
<p>Wie können Sie das Ergebnis der Umwandlung von FM-12 SYNOP in BUFR sehen?</p>
</div>
<details class="success">
<summary>Klicken Sie, um die Antwort zu enthüllen</summary>
<p>Der Ergebnisbereich der Seite zeigt Warnungen, Fehler und ausgegebene BUFR-Dateien.</p>
<p>Klicken Sie auf "Output BUFR files", um eine Liste der generierten Dateien zu sehen. Es sollte eine Datei aufgelistet sein.</p>
<p>Der Download-Button ermöglicht es, die BUFR-Daten direkt auf Ihren Computer herunterzuladen.</p>
<p>Der Inspektionsbutton führt einen Prozess aus, um die Daten aus BUFR zu konvertieren und zu extrahieren.</p>
<p><center><img alt="Dialog zeigt das Ergebnis der erfolgreich übermittelten Nachricht"
     src="../de/assets/img/synop2bufr-ex2-success.png"></center></p>
</details>
<div class="admonition question">
<p class="admonition-title">Question</p>
<p>Die FM-12 SYNOP-Eingabedaten enthielten keine Angaben zum Standort der Station, zur Höhe oder zur Barometerhöhe.
Bestätigen Sie, dass diese im ausgegebenen BUFR-Daten vorhanden sind, woher kommen diese?</p>
</div>
<details class="success">
<summary>Klicken Sie, um die Antwort zu enthüllen</summary>
<p>Ein Klick auf den Inspektionsbutton sollte einen Dialog wie den unten gezeigten öffnen.</p>
<p><center><img alt="Ergebnisse des Inspektionsbuttons, die die grundlegenden Stationsmetadaten, den Standort der Station und die beobachteten Eigenschaften zeigen"
     src="../de/assets/img/synop2bufr-ex2.png"></center></p>
<p>Dies schließt den Standort der Station, der auf einer Karte angezeigt wird, und grundlegende Metadaten sowie die Beobachtungen in der Nachricht ein.</p>
<p>Als Teil der Umwandlung von FM-12 SYNOP in BUFR wurden zusätzliche Metadaten zur BUFR-Datei hinzugefügt.</p>
<p>Die BUFR-Datei kann auch durch Herunterladen der Datei und Validierung mit einem Tool wie dem ECMWF ecCodes BUFR-Validator inspiziert werden.</p>
</details>
<p>Gehen Sie zu MQTT Explorer und überprüfen Sie das WIS2-Benachrichtigungsthema, um die veröffentlichten WIS2-Benachrichtigungen zu sehen.</p>
<h3 id="de-practical-sessions-converting-synop-data-to-bufr-form-ubung-2-verstandnis-der-stationsliste">Übung 2 - Verständnis der Stationsliste</h3>
<p>In dieser nächsten Übung werden Sie eine Datei mit mehreren Berichten konvertieren, siehe die Daten unten:</p>
<div class="highlight"><pre><span></span><code>AAXX 27031
15015 02999 02501 10103 21090 39765 42952 57020 60001=
15020 02997 23104 10130 21075 30177 40377 58020 60001 81041=
15090 02997 53102 10139 21075 30271 40364 58031 60001 82046=
</code></pre></div>
<div class="admonition question">
<p class="admonition-title">Question</p>
<p>Basierend auf der vorherigen Übung, betrachten Sie die FM-12 SYNOP-Nachricht und sagen Sie voraus, wie viele Ausgabe-BUFR-Nachrichten generiert werden.</p>
<p>Kopieren Sie nun diese Nachricht in das SYNOP-Formular und übermitteln Sie die Daten.</p>
<p>Entsprach die Anzahl der generierten Nachrichten Ihren Erwartungen und wenn nicht, warum nicht?</p>
</div>
<details class="warning">
<summary>Klicken Sie, um die Antwort zu enthüllen</summary>
<p>Sie hätten vielleicht erwartet, dass drei BUFR-Nachrichten generiert werden, eine für jeden Wetterbericht. Stattdessen haben Sie jedoch 2 Warnungen erhalten und nur eine BUFR-Datei.</p>
<p>Damit ein Wetterbericht in BUFR umgewandelt werden kann, sind die grundlegenden Metadaten, die in der Stationsliste enthalten sind, erforderlich. Während das obige Beispiel drei Wetterberichte enthält, waren zwei der drei berichtenden Stationen nicht in Ihrer wis2box registriert.</p>
<p>Infolgedessen führte nur einer der drei Wetterberichte zu einer generierten BUFR-Datei und einer veröffentlichten WIS2-Benachrichtigung. Die anderen zwei Wetterberichte wurden ignoriert und Warnungen wurden generiert.</p>
</details>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>Beachten Sie die Beziehung zwischen dem WIGOS-Identifier und dem traditionellen Stationsidentifier, der in der BUFR-Ausgabe enthalten ist. In vielen Fällen, für Stationen, die zum Zeitpunkt der Migration zu WIGOS-Stationenidentifiern in WMO-No. 9 Volume A aufgeführt sind, wird der WIGOS-Stationenidentifier durch Voranstellen von <code>0-20000-0</code> zum traditionellen Stationsidentifier gegeben, z. B. ist <code>15015</code> zu <code>0-20000-0-15015</code> geworden.</p>
</div>
<p>Verwenden Sie die Stationslistenseite, um die folgenden Stationen zu importieren:</p>
<div class="highlight"><pre><span></span><code>0-20000-0-15020
0-20000-0-15090
</code></pre></div>
<p>Stellen Sie sicher, dass die Stationen mit dem Thema verbunden sind, das Sie in der vorherigen Übung ausgewählt haben, und kehren Sie dann zur Seite synop2bufr zurück und wiederholen Sie den Vorgang.</p>
<p>Es sollten nun drei BUFR-Dateien generiert werden, und es sollten keine Warnungen oder Fehler in der Webanwendung aufgeführt sein.</p>
<p>Zusätzlich zu den grundlegenden Stationsinformationen sind zusätzliche Metadaten wie die Höhe der Station über dem Meeresspiegel und die Höhe des Barometers über dem Meeresspiegel für die Kodierung zu BUFR erforderlich. Die Felder sind in den Seiten Stationsliste und Stationseditor enthalten.</p>
<h3 id="de-practical-sessions-converting-synop-data-to-bufr-form-ubung-3-debugging">Übung 3 - Debugging</h3>
<p>In dieser letzten Übung werden Sie zwei der häufigsten Probleme identifizieren und korrigieren, die beim Einsatz dieses Tools zur Umwandlung von FM-12 SYNOP in BUFR auftreten.</p>
<p>Beispiel Daten sind unten im Kasten gezeigt, untersuchen Sie die Daten und versuchen Sie, eventuelle Probleme zu lösen, bevor Sie die Daten über die Webanwendung einreichen.</p>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>Sie können die Daten im Eingabefeld auf der Seite der Webanwendung bearbeiten. Wenn Sie irgendwelche Probleme übersehen, sollten diese als Warnung oder Fehler hervorgehoben werden, sobald der Submit-Button geklickt wurde.</p>
</div>
<div class="highlight"><pre><span></span><code>AAXX 27031
15015 02999 02501 10103 21090 39765 42952 57020 60001
15020 02997 23104 10130 21075 30177 40377 58020 60001 81041=
15090 02997 53102 10139 21075 30271 40364 58031 60001 82046=
</code></pre></div>
<div class="admonition question">
<p class="admonition-title">Question</p>
<p>Welche Probleme haben Sie erwartet, beim Umwandeln der Daten in BUFR zu begegnen, und wie haben Sie diese überwunden? Gab es Probleme, die Sie nicht erwartet hatten?</p>
</div>
<details class="success">
<summary>Klicken Sie, um die Antwort zu enthüllen</summary>
<p>Im ersten Beispiel fehlt das "Ende des Textes"-Symbol (=) oder der Datensatzbegrenzer zwischen dem ersten und zweiten Wetterbericht. Folglich werden die Zeilen 2 und 3 als ein einziger Bericht behandelt, was zu Fehlern bei der Interpretation der Nachricht führt.</p>
</details>
<p>Das zweite Beispiel unten enthält mehrere häufige Probleme, die in FM-12 SYNOP-Berichten gefunden werden. Untersuchen Sie die Daten und versuchen Sie, die Probleme zu identifizieren, und reichen Sie dann die korrigierten Daten über die Webanwendung ein.</p>
<div class="highlight"><pre><span></span><code>AAXX 27031
15020 02997 23104 10/30 21075 30177 40377 580200 60001 81041=
</code></pre></div>
<div class="admonition question">
<p class="admonition-title">Question</p>
<p>Welche Probleme haben Sie gefunden und wie haben Sie diese gelöst?</p>
</div>
<details class="success">
<summary>Klicken Sie, um die Antwort zu enthüllen</summary>
<p>Es gibt zwei Probleme im Wetterbericht.</p>
<p>Das erste, in der Gruppe der signierten Lufttemperatur, hat den Zehnercharakter auf fehlend (/) gesetzt, was zu einer ungültigen Gruppe führt. In diesem Beispiel wissen wir, dass die Temperatur 13,0 Grad Celsius beträgt (aus den obigen Beispielen), und daher kann dieses Problem korrigiert werden. Betrieblich müsste der korrekte Wert mit dem Beobachter bestätigt werden.</p>
<p>Das zweite Problem tritt in Gruppe 5 auf, wo ein zusätzlicher Charakter vorhanden ist, mit dem letzten Charakter dupliziert. Dieses Problem kann behoben werden, indem der zusätzliche Charakter entfernt wird.</p>
</details>
<h2 id="de-practical-sessions-converting-synop-data-to-bufr-form-hausarbeit">Hausarbeit</h2>
<p>Während der Übungen in dieser Sitzung haben Sie mehrere Dateien in Ihre Stationsliste importiert. Navigieren Sie zur Stationslistenseite und klicken Sie auf die Mülleimer-Symbole, um die Stationen zu löschen. Möglicherweise müssen Sie die Seite aktualisieren, um die Stationen aus der Liste zu entfernen, nachdem sie gelöscht wurden.</p>
<p><center><img alt="Stationsmetadaten-Viewer"
         src="../de/assets/img/synop2bufr-trash.png" width="600"></center></p>
<h2 id="de-practical-sessions-converting-synop-data-to-bufr-form-schlussfolgerung">Schlussfolgerung</h2>
<div class="admonition success">
<p class="admonition-title">Herzlichen Glückwunsch!</p>
<p>In dieser praktischen Sitzung haben Sie gelernt:</p>
<ul>
<li>wie das synop2bufr-Tool verwendet werden kann, um FM-12 SYNOP-Berichte in BUFR zu konvertieren;</li>
<li>wie ein FM-12 SYNOP-Bericht über die Web-App eingereicht wird;</li>
<li>wie einfache Fehler in einem FM-12 SYNOP-Bericht diagnostiziert und korrigiert werden;</li>
<li>die Bedeutung der Registrierung von Stationen in der wis2box (und OSCAR/Surface);</li>
<li>und die Verwendung des Inspektionsbuttons, um den Inhalt von BUFR-Daten anzusehen.</li>
</ul>
</div></section><section class="print-page" id="de-practical-sessions-converting-csv-data-to-bufr" heading-number="2.9"><h1 id="de-practical-sessions-converting-csv-data-to-bufr-konvertierung-von-csv-daten-in-bufr">Konvertierung von CSV-Daten in BUFR</h1>
<div class="admonition abstract">
<p class="admonition-title">Lernergebnisse</p>
<p>Am Ende dieser praktischen Sitzung werden Sie in der Lage sein:</p>
<ul>
<li>die <strong>MinIO UI</strong> zu nutzen, um Eingabe-CSV-Dateien hochzuladen und das Ergebnis zu überwachen</li>
<li>das Format für CSV-Daten zu kennen, das mit der Standardvorlage für automatische Wetterstationen BUFR verwendet wird</li>
<li>den Datensatz-Editor in der <strong>wis2box Webapp</strong> zu verwenden, um einen Datensatz für die Veröffentlichung von DAYCLI-Nachrichten zu erstellen</li>
<li>das Format für CSV-Daten zu kennen, das mit der DAYCLI BUFR-Vorlage verwendet wird</li>
<li>die <strong>wis2box Webapp</strong> zu verwenden, um Beispiel-Daten für AWS-Stationen zu validieren und in BUFR zu konvertieren (optional)</li>
</ul>
</div>
<h2 id="de-practical-sessions-converting-csv-data-to-bufr-einfuhrung">Einführung</h2>
<p>Daten in kommagetrennten Werten (CSV) werden häufig verwendet, um Beobachtungs- und andere Daten in tabellarischer Form aufzuzeichnen.
Die meisten Datenlogger, die zur Aufzeichnung von Sensordaten verwendet werden, können die Beobachtungen in begrenzten Dateien exportieren, einschließlich in CSV.
Ebenso ist es einfach, die erforderlichen Daten in CSV-formatierten Dateien zu exportieren, wenn Daten in eine Datenbank eingespeist werden.
Um den Austausch von Daten, die ursprünglich in tabellarischen Datenformaten gespeichert wurden, zu erleichtern, wurde ein CSV-zu-BUFR-Konverter in der
wis2box implementiert, der die gleiche Software wie für SYNOP zu BUFR verwendet.</p>
<p>In dieser Sitzung lernen Sie die Verwendung des csv2bufr-Konverters in der wis2box für die folgenden integrierten Vorlagen:</p>
<ul>
<li><strong>AWS</strong> (aws-template.json) : Mapping-Vorlage für die Konvertierung von CSV-Daten aus einer vereinfachten Datei einer automatischen Wetterstation in die BUFR-Sequenz 301150, 307096"</li>
<li><strong>DayCLI</strong> (daycli-template.json) : Mapping-Vorlage für die Konvertierung von täglichen Klima-CSV-Daten in die BUFR-Sequenz 307075</li>
</ul>
<h2 id="de-practical-sessions-converting-csv-data-to-bufr-vorbereitung">Vorbereitung</h2>
<p>Stellen Sie sicher, dass der wis2box-Stack mit <code>python3 wis2box.py start</code> gestartet wurde.</p>
<p>Stellen Sie sicher, dass Sie einen Webbrowser geöffnet haben mit der MinIO UI für Ihre Instanz, indem Sie zu <code>http://&lt;Ihr-Host&gt;:9000</code> gehen.
Wenn Sie sich an Ihre MinIO-Zugangsdaten nicht erinnern können, finden Sie diese in der Datei <code>wis2box.env</code> im Verzeichnis <code>wis2box-1.0.0rc1</code> auf Ihrer Studenten-VM.</p>
<p>Stellen Sie sicher, dass Sie MQTT Explorer geöffnet und mit Ihrem Broker verbunden haben, indem Sie die Zugangsdaten <code>everyone/everyone</code> verwenden.</p>
<h2 id="de-practical-sessions-converting-csv-data-to-bufr-ubung-1-verwendung-von-csv2bufr-mit-der-aws-vorlage">Übung 1: Verwendung von csv2bufr mit der 'AWS'-Vorlage</h2>
<p>Die 'AWS'-Vorlage bietet eine vordefinierte Mapping-Vorlage zur Konvertierung von CSV-Daten von AWS-Stationen zur Unterstützung der GBON-Berichtsanforderungen.</p>
<p>Die Beschreibung der AWS-Vorlage finden Sie <a href="#csv2bufr-templates-aws-template">hier</a>.</p>
<h3 id="de-practical-sessions-converting-csv-data-to-bufr-uberprufen-der-aws-example-eingabedaten">Überprüfen der aws-example Eingabedaten</h3>
<p>Laden Sie das Beispiel für diese Übung von untenstehendem Link herunter:</p>
<p><a href="/sample-data/aws-example.csv">aws-example.csv</a></p>
<p>Öffnen Sie die heruntergeladene Datei in einem Editor und überprüfen Sie den Inhalt:</p>
<div class="admonition question">
<p class="admonition-title">Question</p>
<p>Wenn Sie das Datum, die Zeit und die Identifikationsfelder (WIGOS und traditionelle Kennungen) untersuchen, was fällt Ihnen auf? Wie würde das heutige Datum dargestellt?</p>
</div>
<details class="success">
<summary>Klicken, um die Antwort zu enthüllen</summary>
<p>Jede Spalte enthält eine einzelne Information. Zum Beispiel ist das Datum aufgeteilt in
Jahr, Monat und Tag, was widerspiegelt, wie die Daten in BUFR gespeichert sind. Das heutige Datum wäre 
auf die Spalten "Jahr", "Monat" und "Tag" verteilt. Ähnlich muss die Zeit in "Stunde" und "Minute" aufgeteilt werden und die WIGOS-Stationkennung in ihre jeweiligen Komponenten.</p>
</details>
<div class="admonition question">
<p class="admonition-title">Question</p>
<p>Wenn Sie sich die Datendatei ansehen, wie sind fehlende Daten kodiert?</p>
</div>
<details class="success">
<summary>Klicken, um die Antwort zu enthüllen</summary>
<p>Fehlende Daten in der Datei werden durch leere Zellen dargestellt. In einer CSV-Datei würde dies durch <code>,,</code> kodiert. Beachten Sie, dass dies eine leere Zelle ist und nicht als Zeichenkette der Länge null kodiert wird, z. B. <code>,"",</code>.</p>
</details>
<div class="admonition hint">
<p class="admonition-title">Fehlende Daten</p>
<p>Es wird anerkannt, dass Daten aus verschiedenen Gründen fehlen können, sei es aufgrund eines Sensorausfalls oder weil der Parameter nicht beobachtet wurde. In diesen Fällen können fehlende Daten gemäß der obigen Antwort kodiert werden, die anderen Daten im Bericht bleiben gültig.</p>
</div>
<div class="admonition question">
<p class="admonition-title">Question</p>
<p>Was sind die WIGOS-Stationkennungen für die Stationen, die Daten in der Beispieldatei melden? Wie sind sie in der Eingabedatei definiert?</p>
</div>
<details class="success">
<summary>Klicken, um die Antwort zu enthüllen</summary>
<p>Die WIGOS-Stationkennung wird durch 4 separate Spalten in der Datei definiert:</p>
<ul>
<li><strong>wsi_series</strong>: WIGOS-Kennungsserie</li>
<li><strong>wsi_issuer</strong>: WIGOS-Aussteller der Kennung</li>
<li><strong>wsi_issue_number</strong>: WIGOS-Ausgabenummer</li>
<li><strong>wsi_local</strong>: WIGOS-lokale Kennung</li>
</ul>
<p>Die WIGOS-Stationkennungen, die in der Beispieldatei verwendet werden, sind <code>0-20000-0-60351</code>, <code>0-20000-0-60355</code> und <code>0-20000-0-60360</code>. </p>
</details>
<h3 id="de-practical-sessions-converting-csv-data-to-bufr-aktualisieren-der-beispieldatei">Aktualisieren der Beispieldatei</h3>
<p>Aktualisieren Sie die heruntergeladene Beispieldatei, um das heutige Datum und die Uhrzeit zu verwenden, und ändern Sie die WIGOS-Stationkennungen, um Stationen zu verwenden, die Sie in der wis2box-Webapp registriert haben.</p>
<h3 id="de-practical-sessions-converting-csv-data-to-bufr-hochladen-der-daten-zu-minio-und-uberprufen-des-ergebnisses">Hochladen der Daten zu MinIO und Überprüfen des Ergebnisses</h3>
<p>Navigieren Sie zur MinIO UI und melden Sie sich mit den Anmeldeinformationen aus der Datei <code>wis2box.env</code> an.</p>
<p>Navigieren Sie zu <strong>wis2box-incoming</strong> und klicken Sie auf die Schaltfläche "Neuen Pfad erstellen":</p>
<p><img alt="Bild zeigt MinIO UI mit hervorgehobenem Button zum Erstellen eines Ordners" src="../de/assets/img/minio-create-new-path.png"/></p>
<p>Erstellen Sie einen neuen Ordner im MinIO-Bucket, der der dataset-id für den Datensatz entspricht, den Sie mit der Vorlage='weather/surface-weather-observations/synop' erstellt haben:</p>
<p><img alt="Bild zeigt MinIO UI mit hervorgehobenem Button zum Erstellen eines Ordners" src="../de/assets/img/minio-create-new-path-metadata_id.png"/></p>
<p>Laden Sie die heruntergeladene Beispieldatei in den Ordner hoch, den Sie im MinIO-Bucket erstellt haben:</p>
<p><img alt="Bild zeigt MinIO UI mit hochgeladener aws-example" src="../de/assets/img/minio-upload-aws-example.png"/></center></p>
<p>Überprüfen Sie das Grafana-Dashboard unter <code>http://&lt;Ihr-Host&gt;:3000</code>, um zu sehen, ob WARNUNGEN oder FEHLER vorliegen. Wenn Sie welche sehen, versuchen Sie, sie zu beheben und wiederholen Sie die Übung.</p>
<p>Überprüfen Sie den MQTT Explorer, um zu sehen, ob Sie WIS2-Datenbenachrichtigungen erhalten.</p>
<p>Wenn Sie die Daten erfolgreich eingespeist haben, sollten Sie 3 Benachrichtigungen im MQTT Explorer zum Thema <code>origin/a/wis2/&lt;centre-id&gt;/data/weather/surface-weather-observations/synop</code> für die 3 Stationen sehen, für die Sie Daten gemeldet haben:</p>
<p><img width="450" alt="Bild zeigt MQTT Explorer nach dem Hochladen von AWS" src="../de/assets/img/mqtt-explorer-aws-upload.png"/></p>
<h2 id="de-practical-sessions-converting-csv-data-to-bufr-ubung-2-verwendung-der-daycli-vorlage">Übung 2 - Verwendung der 'DayCLI'-Vorlage</h2>
<p>In der vorherigen Übung haben wir den Datensatz verwendet, den Sie mit Data-type='weather/surface-weather-observations/synop' erstellt haben, der die CSV-zu-BUFR-Konvertierungsvorlage auf die AWS-Vorlage voreingestellt hat.</p>
<p>In der nächsten Übung werden wir die 'DayCLI'-Vorlage verwenden, um tägliche Klimadaten in BUFR zu konvertieren.</p>
<p>Die Beschreibung der DAYCLI-Vorlage finden Sie <a href="#csv2bufr-templates-daycli-template">hier</a>.</p>
<div class="admonition note">
<p class="admonition-title">Über die DAYCLI-Vorlage</p>
<p>Bitte beachten Sie, dass die DAYCLI BUFR-Sequenz während 2025 aktualisiert wird, um zusätzliche Informationen und überarbeitete QC-Flags einzubeziehen. Die DAYCLI-Vorlage in der wis2box wird aktualisiert, um diese Änderungen widerzuspiegeln. Die WMO wird mitteilen, wann die wis2box-Software aktualisiert wird, um die neue DAYCLI-Vorlage einzubeziehen, damit die Benutzer ihre Systeme entsprechend aktualisieren können.</p>
</div>
<h3 id="de-practical-sessions-converting-csv-data-to-bufr-erstellen-eines-wis2box-datensatzes-zur-veroffentlichung-von-daycli-nachrichten">Erstellen eines wis2box-Datensatzes zur Veröffentlichung von DAYCLI-Nachrichten</h3>
<p>Gehen Sie zum Datensatz-Editor in der wis2box-Webapp und erstellen Sie einen neuen Datensatz. Verwenden Sie dieselbe centre-id wie in den vorherigen praktischen Sitzungen und wählen Sie <strong>Data Type='climate/surface-based-observations/daily'</strong>:</p>
<p><img alt="Erstellen eines neuen Datensatzes in der wis2box-Webapp für DAYCLI" src="../de/assets/img/wis2box-webapp-create-dataset-daycli.png"/></p>
<p>Klicken Sie auf "CONTINUE TO FORM" und fügen Sie eine Beschreibung für Ihren Datensatz hinzu, legen Sie das Begrenzungsrechteck fest und geben Sie die Kontaktdaten für den Datensatz an. Sobald Sie alle Abschnitte ausgefüllt haben, klicken Sie auf 'VALIDATE FORM' und überprüfen Sie das Formular.</p>
<p>Überprüfen Sie die Daten-Plugins für die Datensätze. Klicken Sie auf "UPDATE" neben dem Plugin mit dem Namen "CSV data converted to BUFR" und Sie werden sehen, dass die Vorlage auf <strong>DayCLI</strong> eingestellt ist:</p>
<p><img alt="Aktualisieren des Daten-Plugins für den Datensatz zur Verwendung der DAYCLI-Vorlage" src="../de/assets/img/wis2box-webapp-update-data-plugin-daycli.png"/></p>
<p>Schließen Sie die Plugin-Konfiguration und senden Sie das Formular mit dem Authentifizierungstoken ab, das Sie in der vorherigen praktischen Sitzung erstellt haben.</p>
<p>Sie sollten nun einen zweiten Datensatz in der wis2box-Webapp haben, der so konfiguriert ist, dass er die DAYCLI-Vorlage zur Konvertierung von CSV-Daten in BUFR verwendet.</p>
<h3 id="de-practical-sessions-converting-csv-data-to-bufr-uberprufen-der-daycli-example-eingabedaten">Überprüfen der daycli-example Eingabedaten</h3>
<p>Laden Sie das Beispiel für diese Übung von untenstehendem Link herunter:</p>
<p><a href="/sample-data/daycli-example.csv">daycli-example.csv</a></p>
<p>Öffnen Sie die heruntergeladene Datei in einem Editor und überprüfen Sie den Inhalt:</p>
<div class="admonition question">
<p class="admonition-title">Question</p>
<p>Welche zusätzlichen Variablen sind in der daycli-Vorlage enthalten?</p>
</div>
<details class="success">
<summary>Klicken, um die Antwort zu enthüllen</summary>
<p>Die daycli-Vorlage enthält wichtige Metadaten über die Instrumentenplatzierung und die Messqualitätsklassifikationen für Temperatur und Feuchtigkeit, Qualitätskontrollflags und Informationen darüber, wie die tägliche Durchschnittstemperatur berechnet wurde.</p>
</details>
<h3 id="de-practical-sessions-converting-csv-data-to-bufr-aktualisieren-der-beispieldatei_1">Aktualisieren der Beispieldatei</h3>
<p>Die Beispieldatei enthält eine Zeile Daten für jeden Tag in einem Monat und meldet Daten für eine Station. Aktualisieren Sie die heruntergeladene Beispieldatei, um das heutige Datum und die Uhrzeit zu verwenden, und ändern Sie die WIGOS-Stationkennungen, um eine Station zu verwenden, die Sie in der wis2box-Webapp registriert haben.</p>
<h3 id="de-practical-sessions-converting-csv-data-to-bufr-hochladen-der-daten-zu-minio-und-uberprufen-des-ergebnisses_1">Hochladen der Daten zu MinIO und Überprüfen des Ergebnisses</h3>
<p>Wie zuvor müssen Sie die Daten in den 'wis2box-incoming'-Bucket in MinIO hochladen, damit sie vom csv2bufr-Konverter verarbeitet werden. Diesmal müssen Sie einen neuen Ordner im MinIO-Bucket erstellen, der der dataset-id für den Datensatz entspricht, den Sie mit der Vorlage='climate/surface-based-observations/daily' erstellt haben, der sich von der dataset-id unterscheidet, die Sie in der vorherigen Übung verwendet haben:</p>
<p><img alt="Bild zeigt MinIO UI mit hochgeladenem DAYCLI-example" src="../de/assets/img/minio-upload-daycli-example.png"/></center></p>
<p>Nachdem Sie die Daten hochgeladen haben, überprüfen Sie, ob keine WARNUNGEN oder FEHLER im Grafana-Dashboard vorliegen, und überprüfen Sie den MQTT Explorer, um zu sehen, ob Sie WIS2-Datenbenachrichtigungen erhalten.</p>
<p>Wenn Sie die Daten erfolgreich eingespeist haben, sollten Sie 30 Benachrichtigungen im MQTT Explorer zum Thema <code>origin/a/wis2/&lt;centre-id&gt;/data/climate/surface-based-observations/daily</code> für die 30 Tage im Monat sehen, für die Sie Daten gemeldet haben:</p>
<p><img width="450" alt="Bild zeigt MQTT Explorer nach dem Hochladen von DAYCLI" src="../de/assets/img/mqtt-daycli-template-success.png"/></p>
<h2 id="de-practical-sessions-converting-csv-data-to-bufr-ubung-3-verwendung-des-csv-formulars-in-der-wis2box-webapp-optional">Übung 3 - Verwendung des CSV-Formulars in der wis2box-Webapp (optional)</h2>
<p>Die wis2box-Webanwendung bietet eine Schnittstelle zum Hochladen von CSV-Daten und deren Konvertierung in BUFR, bevor sie im WIS2 veröffentlicht werden, unter Verwendung der AWS-Vorlage.</p>
<p>Die Verwendung dieses Formulars ist für Debugging- und Validierungszwecke vorgesehen, die empfohlene Übermittlungsmethode für die Veröffentlichung von Daten von automatischen Wetterstationen besteht darin, einen Prozess einzurichten, der die Daten automatisch in den MinIO-Bucket hochlädt.</p>
<h3 id="de-practical-sessions-converting-csv-data-to-bufr-verwendung-des-csv-formulars-in-der-wis2box-webanwendung">Verwendung des CSV-Formulars in der wis2box-Webanwendung</h3>
<p>Navigieren Sie zum CSV-Formular in der wis2box-Webanwendung
(<code>http://&lt;Ihr-Hostname&gt;/wis2box-webapp/csv2bufr_form</code>).
Verwenden Sie die Datei <a href="/sample-data/aws-example.csv">aws-example.csv</a> für diese Übung.
Sie sollten jetzt in der Lage sein, neben der Datei auf Weiter zu klicken, um eine Vorschau zu sehen und die Datei zu validieren.</p>
<p><center><img alt="Bild zeigt CSV-zu-BUFR-Upload-Bildschirm" src="../de/assets/img/csv2bufr-ex1.png"/></center></p>
<p>Wenn Sie auf die Schaltfläche Weiter klicken, wird die Datei in den Browser geladen und der Inhalt gegen ein vordefiniertes Schema validiert.
Noch wurden keine Daten konvertiert oder veröffentlicht. Auf der Registerkarte Vorschau/Validierung sollten Ihnen eine Liste von Warnungen
über fehlende Daten angezeigt werden, die in dieser Übung jedoch ignoriert werden können.</p>
<p><center><img alt="Bild zeigt CSV-zu-BUFR-Beispielvalidierungsseite mit Warnungen" src="../de/assets/img/csv2bufr-warnings.png"/></center></p>
<p>Klicken Sie auf <em>Weiter</em>, um fortzufahren, und Sie werden aufgefordert, eine dataset-id für die zu veröffentlichenden Daten anzugeben. Wählen Sie die dataset-id, die Sie zuvor erstellt haben, und klicken Sie auf <em>Weiter</em>.</p>
<p>Sie sollten jetzt auf einer Autorisierungsseite sein, auf der Sie aufgefordert werden, den <code>processes/wis2box</code>
Token einzugeben, den Sie zuvor erstellt haben. Geben Sie diesen Token ein und klicken Sie auf den Schalter "Publish on WIS2", um sicherzustellen,
dass "Publish to WIS2" ausgewählt ist (siehe Screenshot unten).</p>
<p><center><img alt="csv2bufr Authentifizierungs- und Veröffentlichungsbildschirm" src="../de/assets/img/csv2bufr-toggle-publish.png"/></center></p>
<p>Klicken Sie auf Weiter, um in BUFR zu konvertieren und zu veröffentlichen. Anschließend sollten Sie den folgenden Bildschirm sehen:</p>
<p><center><img alt="Bild zeigt CSV-zu-BUFR-Erfolgsbildschirm" src="../de/assets/img/csv2bufr-success.png"/></center></p>
<p>Wenn Sie auf den nach unten zeigenden Pfeil rechts von <code>Output BUFR files</code> klicken, sollten die Schaltflächen <code>Download</code> und <code>Inspect</code> angezeigt werden.
Klicken Sie auf Inspect, um die Daten anzusehen und zu bestätigen, dass die Werte wie erwartet sind.</p>
<p><center><img alt="Bild zeigt CSV-zu-BUFR-Inspektionsausgabe" src="../de/assets/img/csv2bufr-inspect.png"/></center></p>
<h3 id="de-practical-sessions-converting-csv-data-to-bufr-debugging-ungultiger-eingabedaten">Debugging ungültiger Eingabedaten</h3>
<p>In dieser Übung werden wir untersuchen, was mit ungültigen Eingabedaten passiert. Laden Sie die nächste Beispieldatei herunter, indem Sie auf den
untenstehenden Link klicken. Diese enthält dieselben Daten wie die erste Datei, jedoch wurden die leeren Spalten entfernt.
Überprüfen Sie die Datei und best</p></section><section class="print-page" id="de-practical-sessions-automating-data-ingestion" heading-number="2.10"><h1 id="de-practical-sessions-automating-data-ingestion-automatisierung-der-dateneingabe">Automatisierung der Dateneingabe</h1>
<div class="admonition abstract">
<p class="admonition-title">Lernergebnisse</p>
<p>Am Ende dieser praktischen Sitzung werden Sie in der Lage sein:</p>
<ul>
<li>zu verstehen, wie die Daten-Plugins Ihres Datensatzes den Workflow zur Dateneingabe bestimmen</li>
<li>Daten in wis2box mittels eines Skripts über den MinIO Python-Client einzuspeisen</li>
<li>Daten in wis2box durch Zugriff auf MinIO über SFTP einzuspeisen</li>
</ul>
</div>
<h2 id="de-practical-sessions-automating-data-ingestion-einfuhrung">Einführung</h2>
<p>Der <strong>wis2box-management</strong> Container reagiert auf Ereignisse vom MinIO Speicherdienst, um die Dateneingabe basierend auf den für Ihren Datensatz konfigurierten Daten-Plugins auszulösen. Dies ermöglicht es Ihnen, Daten in den MinIO-Bucket hochzuladen und den wis2box-Workflow zum Veröffentlichen der Daten auf dem WIS2-Broker zu starten.</p>
<p>Die Daten-Plugins definieren die Python-Module, die vom <strong>wis2box-management</strong> Container geladen werden und bestimmen, wie die Daten transformiert und veröffentlicht werden.</p>
<p>Im vorherigen Übungsteil sollten Sie einen Datensatz mit der Vorlage <code>surface-based-observations/synop</code> erstellt haben, der die folgenden Daten-Plugins enthielt:</p>
<p><img alt="Daten-Zuordnungen" src="../de/assets/img/wis2box-data-mappings.png" width="800"></p>
<p>Wenn eine Datei in MinIO hochgeladen wird, ordnet wis2box die Datei einem Datensatz zu, wenn der Dateipfad die Datensatz-ID (<code>metadata_id</code>) enthält, und es wird bestimmt, welche Daten-Plugins basierend auf der Dateierweiterung und dem in den Datensatz-Zuordnungen definierten Dateimuster verwendet werden.</p>
<p>In den vorherigen Sitzungen haben wir den Workflow zur Dateneingabe durch die Verwendung der wis2box-Befehlszeilenfunktionalität ausgelöst, die Daten im richtigen Pfad in den MinIO-Speicher hochlädt.</p>
<p>Die gleichen Schritte können programmatisch durchgeführt werden, indem Sie jede MinIO- oder S3-Client-Software verwenden, was Ihnen ermöglicht, Ihre Dateneingabe als Teil Ihrer betrieblichen Workflows zu automatisieren.</p>
<p>Alternativ können Sie auch über das SFTP-Protokoll auf MinIO zugreifen, um Daten hochzuladen und den Workflow zur Dateneingabe auszulösen.</p>
<h2 id="de-practical-sessions-automating-data-ingestion-vorbereitung">Vorbereitung</h2>
<p>Loggen Sie sich in Ihre Studenten-VM ein, indem Sie Ihren SSH-Client (PuTTY oder einen anderen) verwenden.</p>
<p>Stellen Sie sicher, dass wis2box läuft:</p>
<div class="highlight"><pre><span></span><code><span class="nb">cd</span><span class="w"> </span>~/wis2box-1.0.0rc1/
python3<span class="w"> </span>wis2box-ctl.py<span class="w"> </span>start
python3<span class="w"> </span>wis2box-ctl.py<span class="w"> </span>status
</code></pre></div>
<p>Stellen Sie sicher, dass MQTT Explorer läuft und mit Ihrer Instanz verbunden ist. Wenn Sie noch von der vorherigen Sitzung verbunden sind, löschen Sie alle vorherigen Nachrichten, die Sie aus der Warteschlange erhalten haben.
Dies kann entweder durch Trennen und erneutes Verbinden oder durch Klicken auf das Mülleimer-Symbol für das gegebene Thema erfolgen.</p>
<p>Stellen Sie sicher, dass Sie einen Webbrowser geöffnet haben mit dem Grafana-Dashboard für Ihre Instanz, indem Sie zu <code>http://&lt;Ihr-Host&gt;:3000</code> gehen.</p>
<p>Und stellen Sie sicher, dass Sie einen zweiten Tab offen haben mit der MinIO-Benutzeroberfläche unter <code>http://&lt;Ihr-Host&gt;:9001</code>. Denken Sie daran, dass Sie sich mit dem <code>WIS2BOX_STORAGE_USER</code> und dem <code>WIS2BOX_STORAGE_PASSWORD</code> anmelden müssen, die in Ihrer <code>wis2box.env</code>-Datei definiert sind.</p>
<h2 id="de-practical-sessions-automating-data-ingestion-ubung-1-einrichten-eines-python-skripts-zur-dateneingabe-in-minio">Übung 1: Einrichten eines Python-Skripts zur Dateneingabe in MinIO</h2>
<p>In dieser Übung verwenden wir den MinIO Python-Client, um Daten in MinIO zu kopieren.</p>
<p>MinIO bietet einen Python-Client, der wie folgt installiert werden kann:</p>
<div class="highlight"><pre><span></span><code>pip3<span class="w"> </span>install<span class="w"> </span>minio
</code></pre></div>
<p>Auf Ihrer Studenten-VM ist das 'minio'-Paket für Python bereits installiert.</p>
<p>Gehen Sie in das Verzeichnis <code>exercise-materials/data-ingest-exercises</code>; dieses Verzeichnis enthält ein Beispiel-Skript <code>copy_file_to_incoming.py</code>, das den MinIO Python-Client verwendet, um eine Datei in MinIO zu kopieren.</p>
<p>Versuchen Sie, das Skript auszuführen, um die Beispieldatendatei <code>csv-aws-example.csv</code> in den <code>wis2box-incoming</code>-Bucket in MinIO zu kopieren, wie folgt:</p>
<div class="highlight"><pre><span></span><code><span class="nb">cd</span><span class="w"> </span>~/exercise-materials/data-ingest-exercises
python3<span class="w"> </span>copy_file_to_incoming.py<span class="w"> </span>csv-aws-example.csv
</code></pre></div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Sie erhalten einen Fehler, da das Skript noch nicht konfiguriert ist, um auf den MinIO-Endpunkt auf Ihrer wis2box zuzugreifen.</p>
</div>
<p>Das Skript muss den richtigen Endpunkt kennen, um auf MinIO auf Ihrer wis2box zuzugreifen. Wenn wis2box auf Ihrem Host läuft, ist der MinIO-Endpunkt unter <code>http://&lt;Ihr-Host&gt;:9000</code> verfügbar. Das Skript muss auch mit Ihrem Speicherpasswort aktualisiert werden und dem Pfad im MinIO-Bucket, um die Daten zu speichern.</p>
<div class="admonition question">
<p class="admonition-title">Aktualisieren Sie das Skript und speisen Sie die CSV-Daten ein</p>
<p>Bearbeiten Sie das Skript <code>copy_file_to_incoming.py</code>, um die Fehler zu beheben, indem Sie eine der folgenden Methoden verwenden:
- Von der Befehlszeile: verwenden Sie den Texteditor <code>nano</code> oder <code>vim</code>, um das Skript zu bearbeiten
- Mit WinSCP: starten Sie eine neue Verbindung mit dem Dateiprotokoll <code>SCP</code> und denselben Anmeldeinformationen wie Ihr SSH-Client. Navigieren Sie zu dem Verzeichnis <code>exercise-materials/data-ingest-exercises</code> und bearbeiten Sie <code>copy_file_to_incoming.py</code> mit dem integrierten Texteditor</p>
<p>Stellen Sie sicher, dass Sie:</p>
<ul>
<li>den richtigen MinIO-Endpunkt für Ihren Host definieren</li>
<li>das richtige Speicherpasswort für Ihre MinIO-Instanz angeben</li>
<li>den richtigen Pfad im MinIO-Bucket angeben, um die Daten zu speichern</li>
</ul>
<p>Führen Sie das Skript erneut aus, um die Beispieldatendatei <code>csv-aws-example.csv</code> in MinIO einzuspeisen:</p>
<div class="highlight"><pre><span></span><code>python3<span class="w"> </span>copy_file_to_incoming.py<span class="w"> </span>csv-aws-example.csv
</code></pre></div>
<p>Und stellen Sie sicher, dass die Fehler behoben sind.</p>
</div>
<p>Sie können überprüfen, ob die Daten korrekt hochgeladen wurden, indem Sie die MinIO-Benutzeroberfläche überprüfen und sehen, ob die Beispieldaten im richtigen Verzeichnis im <code>wis2box-incoming</code>-Bucket verfügbar sind.</p>
<p>Sie können das Grafana-Dashboard verwenden, um den Status des Workflows zur Dateneingabe zu überprüfen.</p>
<p>Schließlich können Sie MQTT Explorer verwenden, um zu überprüfen, ob Benachrichtigungen für die eingegebenen Daten veröffentlicht wurden. Sie sollten sehen, dass die CSV-Daten in das BUFR-Format umgewandelt wurden und dass eine WIS2-Datenbenachrichtigung mit einer "kanonischen" URL veröffentlicht wurde, um den Download der BUFR-Daten zu ermöglichen.</p>
<h2 id="de-practical-sessions-automating-data-ingestion-ubung-2-eingabe-von-binardaten">Übung 2: Eingabe von Binärdaten</h2>
<p>Als Nächstes versuchen wir, Binärdaten im BUFR-Format mit dem MinIO Python-Client einzugeben.</p>
<p>wis2box kann Binärdaten im BUFR-Format mit dem Plugin <code>wis2box.data.bufr4.ObservationDataBUFR</code> eingeben, das in wis2box enthalten ist.</p>
<p>Dieses Plugin teilt die BUFR-Datei in einzelne BUFR-Nachrichten auf und veröffentlicht jede Nachricht an den MQTT-Broker. Wenn die Station für die entsprechende BUFR-Nachricht nicht in den wis2box-Stationenmetadaten definiert ist, wird die Nachricht nicht veröffentlicht.</p>
<p>Da Sie in der vorherigen Sitzung die Vorlage <code>surface-based-observations/synop</code> verwendet haben, enthalten Ihre Daten-Zuordnungen das Plugin <code>FM-12 data converted to BUFR</code> für die Datensatz-Zuordnungen. Dieses Plugin lädt das Modul <code>wis2box.data.synop2bufr.ObservationDataSYNOP2BUFR</code> zum Eingeben der Daten.</p>
<div class="admonition question">
<p class="admonition-title">Eingabe von Binärdaten im BUFR-Format</p>
<p>Führen Sie den folgenden Befehl aus, um die Binärdatendatei <code>bufr-example.bin</code> in den <code>wis2box-incoming</code>-Bucket in MinIO zu kopieren:</p>
<div class="highlight"><pre><span></span><code>python3<span class="w"> </span>copy_file_to_incoming.py<span class="w"> </span>bufr-example.bin
</code></pre></div>
</div>
<p>Überprüfen Sie das Grafana-Dashboard und MQTT Explorer, um zu sehen, ob die Testdaten erfolgreich eingegangen und veröffentlicht wurden, und wenn Sie Fehler sehen, versuchen Sie, sie zu beheben.</p>
<div class="admonition question">
<p class="admonition-title">Überprüfen Sie die Dateneingabe</p>
<p>Wie viele Nachrichten wurden für diese Datenprobe an den MQTT-Broker gesendet?</p>
</div>
<details class="success">
<summary>Klicken Sie, um die Antwort zu enthüllen</summary>
<p>Wenn Sie die letzte Datenprobe erfolgreich eingegangen und veröffentlicht haben, sollten Sie 10 neue Benachrichtigungen auf dem wis2box MQTT-Broker erhalten haben. Jede Benachrichtigung entspricht Daten für eine Station zu einem Beobachtungszeitpunkt.</p>
<p>Das Plugin <code>wis2box.data.bufr4.ObservationDataBUFR</code> teilt die BUFR-Datei in einzelne BUFR-Nachrichten auf und veröffentlicht eine Nachricht für jede Station und jeden Beobachtungszeitpunkt.</p>
</details>
<h2 id="de-practical-sessions-automating-data-ingestion-ubung-3-eingabe-von-synop-daten-im-ascii-format">Übung 3: Eingabe von SYNOP-Daten im ASCII-Format</h2>
<p>In der vorherigen Sitzung haben wir das SYNOP-Formular in der <strong>wis2box-webapp</strong> verwendet, um SYNOP-Daten im ASCII-Format einzugeben. Sie können auch SYNOP-Daten im ASCII-Format eingeben, indem Sie die Daten in MinIO hochladen.</p>
<p>In der vorherigen Sitzung sollten Sie einen Datensatz erstellt haben, der das Plugin 'FM-12 data converted to BUFR' für die Datensatz-Zuordnungen enthielt:</p>
<p><img alt="Datensatz-Zuordnungen" src="../de/assets/img/wis2box-data-mappings.png" width="800"></p>
<p>Dieses Plugin lädt das Modul <code>wis2box.data.synop2bufr.ObservationDataSYNOP2BUFR</code> zum Eingeben der Daten.</p>
<p>Versuchen Sie, den MinIO Python-Client zu verwenden, um die Testdaten <code>synop-202307.txt</code> und <code>synop-202308.txt</code> in Ihre wis2box-Instanz einzugeben.</p>
<p>Beachten Sie, dass die 2 Dateien denselben Inhalt enthalten, aber der Dateiname unterschiedlich ist. Der Dateiname wird verwendet, um das Datum der Datenprobe zu bestimmen.</p>
<p>Das synop2bufr-Plugin stützt sich auf ein Dateimuster, um das Datum aus dem Dateinamen zu extrahieren. Die erste Gruppe im regulären Ausdruck wird verwendet, um das Jahr zu extrahieren, und die zweite Gruppe wird verwendet, um den Monat zu extrahieren.</p>
<div class="admonition question">
<p class="admonition-title">Eingabe von FM-12 SYNOP-Daten im ASCII-Format</p>
<p>Gehen Sie zurück zur MinIO-Oberfläche in Ihrem Browser und navigieren Sie zum <code>wis2box-incoming</code>-Bucket und zum Pfad, in den Sie die Testdaten im vorherigen Übungsteil hochgeladen haben.</p>
<p>Laden Sie die neuen Dateien im richtigen Pfad im <code>wis2box-incoming</code>-Bucket in MinIO hoch, um den Workflow zur Dateneingabe auszulösen.</p>
<p>Überprüfen Sie das Grafana-Dashboard und MQTT Explorer, um zu sehen, ob die Testdaten erfolgreich eingegangen und veröffentlicht wurden.</p>
<p>Was ist der Unterschied im <code>properties.datetime</code> zwischen den zwei an den MQTT-Broker gesendeten Nachrichten?</p>
</div>
<details class="success">
<summary>Klicken Sie, um die Antwort zu enthüllen</summary>
<p>Überprüfen Sie die Eigenschaften der letzten 2 Benachrichtigungen im MQTT Explorer und Sie werden feststellen, dass eine Benachrichtigung hat:</p>
<div class="highlight"><pre><span></span><code>&quot;properties&quot;: {
    &quot;data_id&quot;: &quot;wis2/urn:wmo:md:nl-knmi-test:surface-based-observations.synop/WIGOS_0-20000-0-60355_20230703T090000&quot;,
    &quot;datetime&quot;: &quot;2023-07-03T09:00:00Z&quot;,
    ...
</code></pre></div>
<p>und die andere Benachrichtigung hat:</p>
<div class="highlight"><pre><span></span><code>&quot;properties&quot;: {
    &quot;data_id&quot;: &quot;wis2/urn:wmo:md:nl-knmi-test:surface-based-observations.synop/WIGOS_0-20000-0-60355_20230803T09:00:00Z&quot;,
    &quot;datetime&quot;: &quot;2023-08-03T09:00:00Z&quot;,
    ...
</code></pre></div>
<p>Der Dateiname wurde verwendet, um das Jahr und den Monat der Datenprobe zu bestimmen.</p>
</details>
<h2 id="de-practical-sessions-automating-data-ingestion-ubung-4-eingabe-von-daten-in-minio-uber-sftp">Übung 4: Eingabe von Daten in MinIO über SFTP</h2>
<p>Daten können auch über SFTP in MinIO eingegangen werden.</p>
<p>Der MinIO-Dienst, der im wis2box-Stack aktiviert ist, hat SFTP auf Port 8022 aktiviert. Sie können über SFTP auf MinIO zugreifen, indem Sie dieselben Anmeldeinformationen wie für die MinIO-Benutzeroberfläche verwenden. In dieser Übung verwenden wir die Admin-Anmeldeinformationen für den MinIO-Dienst, wie in <code>wis2box.env</code> definiert, aber Sie können auch zusätzliche Benutzer in der MinIO-Benutzeroberfläche erstellen.</p>
<p>Um auf MinIO über SFTP zuzugreifen, können Sie jede SFTP-Client-Software verwenden. In dieser Übung verwenden wir WinSCP, das ein kostenloser SFTP-Client für Windows ist.</p>
<p>Mit WinSCP sieht Ihre Verbindung wie folgt aus:</p>
<p><img alt="winscp-sftp-Verbindung" src="../de/assets/img/winscp-sftp-connection.png" width="400"></p>
<p>Für Benutzername und Passwort verwenden Sie die Werte der Umgebungsvariablen <code>WIS2BOX_STORAGE_USERNAME</code> und <code>WIS2BOX_STORAGE_PASSWORD</code> aus Ihrer <code>wis2box.env</code>-Datei. Klicken Sie auf 'speichern', um die Sitzung zu speichern, und dann auf 'login', um sich zu verbinden.</p>
<p>Wenn Sie sich anmelden, sehen Sie den MinIO-Bucket <code>wis2box-incoming</code> und <code>wis2box-public</code> im Stammverzeichnis. Sie können Daten in den <code>wis2box-incoming</code>-Bucket hochladen, um den Workflow zur Dateneingabe auszulösen.</p>
<p>Klicken Sie auf den <code>wis2box-incoming</code>-Bucket, um in diesen Bucket zu navigieren, dann klicken Sie mit der rechten Maustaste und wählen <em>Neu</em>-&gt;<em>Verzeichnis</em>, um ein neues Verzeichnis im <code>wis2box-incoming</code>-Bucket zu erstellen.</p>
<p>Erstellen Sie das Verzeichnis <em>not-a-valid-path</em> und laden Sie die Datei <em>randomfile.txt</em> in dieses Verzeichnis hoch (Sie können jede beliebige Datei verwenden).</p>
<p>Überprüfen Sie das Grafana-Dashboard auf Port 3000, um zu sehen, ob der Workflow zur Dateneingabe ausgelöst wurde. Sie sollten sehen:</p>
<p><em>ERROR - Pfadvalidierungsfehler: Konnte http://minio:9000/wis2box-incoming/not-a-valid-path/randomfile.txt nicht einem Datensatz zuordnen, der Pfad sollte eines der folgenden enthalten: ...</em></p>
<p>Der Fehler zeigt an, dass die Datei in MinIO hochgeladen und der Workflow zur Dateneingabe ausgelöst wurde, aber da der Pfad keinem Datensatz in der wis2box-Instanz entspricht, ist das Daten-Mapping fehlgeschlagen.</p>
<p>Sie können auch <code>sftp</code> von der Befehlszeile aus verwenden:</p>
<p><div class="highlight"><pre><span></span><code>sftp<span class="w"> </span>-P<span class="w"> </span><span class="m">8022</span><span class="w"> </span>-oBatchMode<span class="o">=</span>no<span class="w"> </span>-o<span class="w"> </span><span class="nv">StrictHostKeyChecking</span><span class="o">=</span>no<span class="w"> </span>&lt;mein-Hostname-oder-IP&gt;
</code></pre></div>
Melden Sie sich mit den in <code>wis2box.env</code> für die Umgebungsvariablen <code>WIS2BOX_STORAGE_USERNAME</code> und <code>WIS2BOX_STORAGE_PASSWORD</code> definierten Anmeldeinformationen an, navigieren Sie zum <code>wis2box-incoming</code>-Bucket und erstellen Sie dann ein Verzeichnis und laden Sie eine Datei wie folgt hoch:</p>
<div class="highlight"><pre><span></span><code><span class="nb">cd</span><span class="w"> </span>wis2box-incoming
mkdir<span class="w"> </span>not-a-valid-path
<span class="nb">cd</span><span class="w"> </span>not-a-valid-path
put<span class="w"> </span>~/exercise-materials/data-ingest-exercises/synop.txt<span class="w"> </span>.
</code></pre></div>
<p>Dies führt zu einem "Pfadvalidierungsfehler" im Grafana-Dashboard, der anzeigt, dass die Datei in MinIO hochgeladen wurde.</p>
<p>Um den sftp-Client zu verlassen, geben Sie <code>exit</code> ein.</p>
<div class="admonition frage">
<p class="admonition-title">Daten in MinIO über SFTP eingeben</p>
<p>Versuchen Sie, die Datei <code>synop.txt</code> in Ihre wis2box-Instanz über SFTP einzugeben, um den Workflow zur Dateneingabe auszulösen.</p>
<p>Überprüfen Sie die MinIO-Benutzeroberfläche, um zu sehen, ob die Datei im richtigen Pfad im <code>wis2box-incoming</code>-Bucket hochgeladen wurde.</p>
<p>Überprüfen Sie das Grafana-Dashboard, um zu sehen, ob der Workflow zur Dateneingabe ausgelöst wurde oder ob es Fehler gab.</p>
</div>
<p>Um sicherzustellen, dass Ihre Daten korrekt eingegangen sind, stellen Sie sicher, dass die Datei im <code>wis2box-incoming</code>-Bucket in einem Verzeichnis hochgeladen wird</p></section><section class="print-page" id="de-practical-sessions-adding-gts-headers-to-wis2-notifications" heading-number="2.11"><h1 id="de-practical-sessions-adding-gts-headers-to-wis2-notifications-hinzufugen-von-gts-headern-zu-wis2-benachrichtigungen">Hinzufügen von GTS-Headern zu WIS2-Benachrichtigungen</h1>
<div class="admonition abstract">
<p class="admonition-title">Lernergebnisse</p>
<p>Am Ende dieser praktischen Einheit werden Sie in der Lage sein:</p>
<ul>
<li>eine Zuordnung zwischen Dateiname und GTS-Headern zu konfigurieren</li>
<li>Daten mit einem Dateinamen, der den GTS-Headern entspricht, einzuspeisen</li>
<li>die GTS-Header in den WIS2-Benachrichtigungen anzusehen</li>
</ul>
</div>
<h2 id="de-practical-sessions-adding-gts-headers-to-wis2-notifications-einfuhrung">Einführung</h2>
<p>WMO-Mitglieder, die während der Übergangsphase zu WIS2 ihre Datentransmission über GTS einstellen möchten, müssen GTS-Header zu ihren WIS2-Benachrichtigungen hinzufügen. Diese Header ermöglichen es dem WIS2-zu-GTS-Gateway, die Daten an das GTS-Netzwerk weiterzuleiten.</p>
<p>Dies ermöglicht es den Mitgliedern, die auf einen WIS2-Knoten für die Datenpublikation umgestiegen sind, ihr MSS-System zu deaktivieren und sicherzustellen, dass ihre Daten weiterhin für Mitglieder verfügbar sind, die noch nicht zu WIS2 migriert sind.</p>
<p>Die GTS-Eigenschaft in der WIS2-Benachrichtigungsnachricht muss als zusätzliche Eigenschaft zur WIS2-Benachrichtigungsnachricht hinzugefügt werden. Die GTS-Eigenschaft ist ein JSON-Objekt, das die für die Weiterleitung an das GTS-Netzwerk erforderlichen GTS-Header enthält.</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;gts&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;ttaaii&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;FTAE31&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;cccc&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;VTBB&quot;</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>Innerhalb von wis2box können Sie dies automatisch zu WIS2-Benachrichtigungen hinzufügen, indem Sie eine zusätzliche Datei namens <code>gts_headers_mapping.csv</code> bereitstellen, die die erforderlichen Informationen enthält, um die GTS-Header den eingehenden Dateinamen zuzuordnen.</p>
<p>Diese Datei sollte im Verzeichnis abgelegt werden, das durch <code>WIS2BOX_HOST_DATADIR</code> in Ihrer <code>wis2box.env</code> definiert ist und sollte folgende Spalten haben:</p>
<ul>
<li><code>string_in_filepath</code>: ein String, der Teil des Dateinamens ist, der verwendet wird, um die GTS-Header zuzuordnen</li>
<li><code>TTAAii</code>: der TTAAii-Header, der zur WIS2-Benachrichtigung hinzugefügt werden soll</li>
<li><code>CCCC</code>: der CCCC-Header, der zur WIS2-Benachrichtigung hinzugefügt werden soll</li>
</ul>
<h2 id="de-practical-sessions-adding-gts-headers-to-wis2-notifications-vorbereitung">Vorbereitung</h2>
<p>Stellen Sie sicher, dass Sie SSH-Zugang zu Ihrer Studenten-VM haben und dass Ihre wis2box-Instanz läuft.</p>
<p>Stellen Sie sicher, dass Sie mit dem MQTT-Broker Ihrer wis2box-Instanz mit MQTT Explorer verbunden sind. Sie können die öffentlichen Anmeldeinformationen <code>everyone/everyone</code> verwenden, um sich mit dem Broker zu verbinden.</p>
<p>Stellen Sie sicher, dass Sie einen Webbrowser geöffnet haben mit dem Grafana-Dashboard Ihrer Instanz, indem Sie zu <code>http://&lt;your-host&gt;:3000</code> gehen.</p>
<h2 id="de-practical-sessions-adding-gts-headers-to-wis2-notifications-erstellung-von-gts_headers_mappingcsv">Erstellung von <code>gts_headers_mapping.csv</code></h2>
<p>Um GTS-Header zu Ihren WIS2-Benachrichtigungen hinzuzufügen, wird eine CSV-Datei benötigt, die GTS-Header den eingehenden Dateinamen zuordnet.</p>
<p>Die CSV-Datei sollte genau <code>gts_headers_mapping.csv</code> benannt sein und im Verzeichnis abgelegt werden, das durch <code>WIS2BOX_HOST_DATADIR</code> in Ihrer <code>wis2box.env</code> definiert ist.</p>
<h2 id="de-practical-sessions-adding-gts-headers-to-wis2-notifications-ubung-1-bereitstellung-einer-gts_headers_mappingcsv-datei">Übung 1: Bereitstellung einer <code>gts_headers_mapping.csv</code>-Datei</h2>
<p>Kopieren Sie die Datei <code>exercise-materials/gts-headers-exercises/gts_headers_mapping.csv</code> zu Ihrer wis2box-Instanz und legen Sie sie im Verzeichnis ab, das durch <code>WIS2BOX_HOST_DATADIR</code> in Ihrer <code>wis2box.env</code> definiert ist.</p>
<div class="highlight"><pre><span></span><code>cp<span class="w"> </span>~/exercise-materials/gts-headers-exercises/gts_headers_mapping.csv<span class="w"> </span>~/wis2box-data
</code></pre></div>
<p>Starten Sie dann den wis2box-management-Container neu, um die Änderungen anzuwenden:</p>
<div class="highlight"><pre><span></span><code>docker<span class="w"> </span>restart<span class="w"> </span>wis2box-management
</code></pre></div>
<h2 id="de-practical-sessions-adding-gts-headers-to-wis2-notifications-ubung-2-einspeisen-von-daten-mit-gts-headern">Übung 2: Einspeisen von Daten mit GTS-Headern</h2>
<p>Kopieren Sie die Datei <code>exercise-materials/gts-headers-exercises/A_SMRO01YRBK171200_C_EDZW_20240717120502.txt</code> in das Verzeichnis, das durch <code>WIS2BOX_HOST_DATADIR</code> in Ihrer <code>wis2box.env</code> definiert ist:</p>
<div class="highlight"><pre><span></span><code>cp<span class="w"> </span>~/exercise-materials/gts-headers-exercises/A_SMRO01YRBK171200_C_EDZW_20240717120502.txt<span class="w"> </span>~/wis2box-data
</code></pre></div>
<p>Loggen Sie sich dann in den <strong>wis2box-management</strong>-Container ein:</p>
<div class="highlight"><pre><span></span><code><span class="nb">cd</span><span class="w"> </span>~/wis2box-1.0.0rc1
python3<span class="w"> </span>wis2box-ctl.py<span class="w"> </span>login
</code></pre></div>
<p>Von der wis2box-Kommandozeile aus können wir die Beispieldatei <code>A_SMRO01YRBK171200_C_EDZW_20240717120502.txt</code> in ein spezifisches Dataset wie folgt einspeisen:</p>
<div class="highlight"><pre><span></span><code>wis2box<span class="w"> </span>data<span class="w"> </span>ingest<span class="w"> </span>-p<span class="w"> </span>/data/wis2box/A_SMRO01YRBK171200_C_EDZW_20240717120502.txt<span class="w"> </span>--metadata-id<span class="w"> </span>urn:wmo:md:not-my-centre:core.surface-based-observations.synop
</code></pre></div>
<p>Stellen Sie sicher, dass Sie die Option <code>metadata-id</code> durch den korrekten Bezeichner für Ihr Dataset ersetzen.</p>
<p>Überprüfen Sie das Grafana-Dashboard, um zu sehen, ob die Daten korrekt eingespeist wurden. Wenn Sie WARNUNGEN oder FEHLER sehen, versuchen Sie, diese zu beheben und wiederholen Sie den Befehl <code>wis2box data ingest</code>.</p>
<h2 id="de-practical-sessions-adding-gts-headers-to-wis2-notifications-ubung-3-ansehen-der-gts-header-in-der-wis2-benachrichtigung">Übung 3: Ansehen der GTS-Header in der WIS2-Benachrichtigung</h2>
<p>Gehen Sie zum MQTT Explorer und überprüfen Sie die WIS2-Benachrichtigungsnachricht für die Daten, die Sie gerade eingespeist haben.</p>
<p>Die WIS2-Benachrichtigungsnachricht sollte die GTS-Header enthalten, die Sie in der Datei <code>gts_headers_mapping.csv</code> angegeben haben.</p>
<h2 id="de-practical-sessions-adding-gts-headers-to-wis2-notifications-schlussfolgerung">Schlussfolgerung</h2>
<div class="admonition success">
<p class="admonition-title">Herzlichen Glückwunsch!</p>
<p>In dieser praktischen Sitzung haben Sie gelernt, wie Sie:
  - GTS-Header zu Ihren WIS2-Benachrichtigungen hinzufügen
  - überprüfen, ob GTS-Header über Ihre wis2box-Installation verfügbar gemacht werden</p>
</div></section><section class="print-page" id="de-practical-sessions-datasets-with-access-control" heading-number="2.12"><h1 id="de-practical-sessions-datasets-with-access-control-einrichten-eines-empfohlenen-datensatzes-mit-zugriffskontrolle">Einrichten eines empfohlenen Datensatzes mit Zugriffskontrolle</h1>
<div class="admonition abstract">
<p class="admonition-title">Lernergebnisse</p>
<p>Am Ende dieser praktischen Sitzung werden Sie in der Lage sein:</p>
<ul>
<li>einen neuen Datensatz mit der Datenrichtlinie 'empfohlen' zu erstellen</li>
<li>einen Zugriffstoken zum Datensatz hinzuzufügen</li>
<li>zu überprüfen, dass der Datensatz ohne den Zugriffstoken nicht zugänglich ist</li>
<li>den Zugriffstoken zu den HTTP-Headern hinzuzufügen, um auf den Datensatz zuzugreifen</li>
</ul>
</div>
<h2 id="de-practical-sessions-datasets-with-access-control-einfuhrung">Einführung</h2>
<p>Datensätze, die nicht als 'Kern'-Datensatz in der WMO betrachtet werden, können optional mit einer Zugriffskontrollrichtlinie konfiguriert werden. wis2box bietet einen Mechanismus, um einen Zugriffstoken zu einem Datensatz hinzuzufügen, der verhindert, dass Benutzer Daten herunterladen, es sei denn, sie geben den Zugriffstoken in den HTTP-Headern an.</p>
<h2 id="de-practical-sessions-datasets-with-access-control-vorbereitung">Vorbereitung</h2>
<p>Stellen Sie sicher, dass Sie SSH-Zugriff auf Ihre Studenten-VM haben und dass Ihre wis2box-Instanz aktiv ist.</p>
<p>Stellen Sie sicher, dass Sie mit dem MQTT-Broker Ihrer wis2box-Instanz über MQTT Explorer verbunden sind. Sie können die öffentlichen Anmeldeinformationen <code>everyone/everyone</code> verwenden, um sich mit dem Broker zu verbinden.</p>
<p>Stellen Sie sicher, dass Sie einen Webbrowser geöffnet haben mit der wis2box-Webapp für Ihre Instanz, indem Sie <code>http://&lt;Ihr-Host&gt;/wis2box-webapp</code> besuchen.</p>
<h2 id="de-practical-sessions-datasets-with-access-control-ubung-1-erstellen-eines-neuen-datensatzes-mit-der-datenrichtlinie-empfohlen">Übung 1: Erstellen eines neuen Datensatzes mit der Datenrichtlinie 'empfohlen'</h2>
<p>Gehen Sie auf die Seite 'Datensatzeditor' in der wis2box-Webapp und erstellen Sie einen neuen Datensatz. Verwenden Sie dieselbe Zentrum-ID wie in den vorherigen praktischen Sitzungen und verwenden Sie die Vorlage='surface-weather-observations/synop'.</p>
<p>Klicken Sie auf 'OK', um fortzufahren.</p>
<p>Im Datensatzeditor setzen Sie die Datenrichtlinie auf 'empfohlen' (beachten Sie, dass das Ändern der Datenrichtlinie die 'Themenhierarchie' aktualisiert).
Ersetzen Sie die automatisch generierte 'Lokale ID' durch einen beschreibenden Namen für den Datensatz, z.B. 'empfohlene-daten-mit-zugriffskontrolle':</p>
<p><img alt="create-dataset-recommended" src="../de/assets/img/create-dataset-recommended.png" width="800"></p>
<p>Fahren Sie fort, die erforderlichen Felder für räumliche Eigenschaften und Kontaktinformationen auszufüllen, und 'Überprüfen Sie das Formular' auf Fehler.</p>
<p>Senden Sie schließlich den Datensatz ab, unter Verwendung des zuvor erstellten Authentifizierungstokens, und überprüfen Sie, dass der neue Datensatz in der wis2box-Webapp erstellt wurde.</p>
<p>Überprüfen Sie den MQTT-Explorer, um zu sehen, dass Sie die WIS2-Benachrichtigungsnachricht über den neuen Discovery-Metadatensatz im Thema <code>origin/a/wis2/&lt;Ihr-Zentrum-ID&gt;/metadata</code> erhalten.</p>
<h2 id="de-practical-sessions-datasets-with-access-control-ubung-2-einen-zugriffstoken-zum-datensatz-hinzufugen">Übung 2: Einen Zugriffstoken zum Datensatz hinzufügen</h2>
<p>Melden Sie sich am wis2box-Management-Container an,</p>
<div class="highlight"><pre><span></span><code><span class="nb">cd</span><span class="w"> </span>~/wis2box-1.0.0rc1
python3<span class="w"> </span>wis2box-ctl.py<span class="w"> </span>login
</code></pre></div>
<p>Vom Befehlszeileninneren des Containers können Sie einen Datensatz sichern, indem Sie den Befehl <code>wis2box auth add-token</code> verwenden, mit der Option <code>--metadata-id</code>, um den Metadaten-Identifikator des Datensatzes und den Zugriffstoken als Argument anzugeben.</p>
<p>Zum Beispiel, um den Zugriffstoken <code>S3cr3tT0k3n</code> zum Datensatz mit dem Metadaten-Identifikator <code>urn:wmo:md:not-my-centre:core.surface-based-observations.synop</code> hinzuzufügen:</p>
<div class="highlight"><pre><span></span><code>wis2box<span class="w"> </span>auth<span class="w"> </span>add-token<span class="w"> </span>--metadata-id<span class="w"> </span>urn:wmo:md:not-my-centre:reco.surface-based-observations.synop<span class="w"> </span>S3cr3tT0k3n
</code></pre></div>
<p>Verlassen Sie den wis2box-Management-Container:</p>
<div class="highlight"><pre><span></span><code><span class="nb">exit</span>
</code></pre></div>
<h2 id="de-practical-sessions-datasets-with-access-control-ubung-3-veroffentlichen-sie-einige-daten-zum-datensatz">Übung 3: Veröffentlichen Sie einige Daten zum Datensatz</h2>
<p>Kopieren Sie die Datei <code>exercise-materials/access-control-exercises/aws-example2.csv</code> in das Verzeichnis, das durch <code>WIS2BOX_HOST_DATADIR</code> in Ihrer <code>wis2box.env</code> definiert ist:</p>
<div class="highlight"><pre><span></span><code>cp<span class="w"> </span>~/exercise-materials/access-control-exercises/aws-example2.csv<span class="w"> </span>~/wis2box-data
</code></pre></div>
<p>Verwenden Sie dann WinSCP oder einen Befehlszeilen-Editor, um die Datei <code>aws-example2.csv</code> zu bearbeiten und die WIGOS-Station-Identifikatoren in den Eingabedaten zu aktualisieren, um den Stationen in Ihrer wis2box-Instanz zu entsprechen.</p>
<p>Gehen Sie anschließend zum Stations-Editor in der wis2box-Webapp. Für jede Station, die Sie in <code>aws-example2.csv</code> verwendet haben, aktualisieren Sie das 'Thema'-Feld, um es mit dem 'Thema' des Datensatzes abzugleichen, den Sie in der vorherigen Übung erstellt haben.</p>
<p>Diese Station wird nun mit 2 Themen verbunden sein, einem für den 'Kern'-Datensatz und einem für den 'empfohlenen' Datensatz:</p>
<p><img alt="edit-stations-add-topics" src="../de/assets/img/edit-stations-add-topics.png" width="600"></p>
<p>Sie müssen Ihren Token für <code>collections/stations</code> verwenden, um die aktualisierten Stationsdaten zu speichern.</p>
<p>Melden Sie sich anschließend erneut am wis2box-Management-Container an:</p>
<div class="highlight"><pre><span></span><code><span class="nb">cd</span><span class="w"> </span>~/wis2box-1.0.0rc1
python3<span class="w"> </span>wis2box-ctl.py<span class="w"> </span>login
</code></pre></div>
<p>Von der wis2box-Befehlszeile aus können wir die Beispieldatendatei <code>aws-example2.csv</code> in einen bestimmten Datensatz wie folgt einpflegen:</p>
<div class="highlight"><pre><span></span><code>wis2box<span class="w"> </span>data<span class="w"> </span>ingest<span class="w"> </span>-p<span class="w"> </span>/data/wis2box/aws-example2.csv<span class="w"> </span>--metadata-id<span class="w"> </span>urn:wmo:md:not-my-centre:reco.surface-based-observations.synop
</code></pre></div>
<p>Stellen Sie sicher, dass Sie den richtigen Metadaten-Identifikator für Ihren Datensatz angeben und <strong>überprüfen Sie, dass Sie WIS2-Datenbenachrichtigungen im MQTT Explorer erhalten</strong>, im Thema <code>origin/a/wis2/&lt;Ihr-Zentrum-ID&gt;/data/recommended/surface-based-observations/synop</code>.</p>
<p>Überprüfen Sie den kanonischen Link in der WIS2-Benachrichtigungsnachricht und kopieren/einfügen Sie den Link in den Browser, um zu versuchen, die Daten herunterzuladen.</p>
<p>Sie sollten einen 403 Forbidden-Fehler sehen.</p>
<h2 id="de-practical-sessions-datasets-with-access-control-ubung-4-den-zugriffstoken-zu-http-headern-hinzufugen-um-auf-den-datensatz-zuzugreifen">Übung 4: Den Zugriffstoken zu HTTP-Headern hinzufügen, um auf den Datensatz zuzugreifen</h2>
<p>Um zu demonstrieren, dass der Zugriffstoken erforderlich ist, um auf den Datensatz zuzugreifen, werden wir den Fehler, den Sie im Browser gesehen haben, mit der Befehlszeilenfunktion <code>wget</code> reproduzieren.</p>
<p>Von der Befehlszeile in Ihrer Studenten-VM verwenden Sie den Befehl <code>wget</code> mit dem kanonischen Link, den Sie aus der WIS2-Benachrichtigungsnachricht kopiert haben.</p>
<div class="highlight"><pre><span></span><code>wget<span class="w"> </span>&lt;kanonischer-link&gt;
</code></pre></div>
<p>Sie sollten sehen, dass die HTTP-Anfrage mit <em>401 Unauthorized</em> zurückkommt und die Daten nicht heruntergeladen werden.</p>
<p>Fügen Sie nun den Zugriffstoken zu den HTTP-Headern hinzu, um auf den Datensatz zuzugreifen.</p>
<div class="highlight"><pre><span></span><code>wget<span class="w"> </span>--header<span class="o">=</span><span class="s2">&quot;Authorization: Bearer S3cr3tT0k3n&quot;</span><span class="w"> </span>&lt;kanonischer-link&gt;
</code></pre></div>
<p>Nun sollten die Daten erfolgreich heruntergeladen werden.</p>
<h2 id="de-practical-sessions-datasets-with-access-control-schlussfolgerung">Schlussfolgerung</h2>
<div class="admonition success">
<p class="admonition-title">Herzlichen Glückwunsch!</p>
<p>In dieser praktischen Sitzung haben Sie gelernt, wie man:</p>
<ul>
<li>einen neuen Datensatz mit der Datenrichtlinie 'empfohlen' erstellt</li>
<li>einen Zugriffstoken zum Datensatz hinzufügt</li>
<li>überprüft, dass der Datensatz ohne den Zugriffstoken nicht zugänglich ist</li>
<li>den Zugriffstoken zu den HTTP-Headern hinzufügt, um auf den Datensatz zuzugreifen</li>
</ul>
</div></section><section class="print-page" id="de-practical-sessions-downloading-data-from-wis2" heading-number="2.13"><h1 id="de-practical-sessions-downloading-data-from-wis2-herunterladen-und-dekodieren-von-daten-aus-wis2">Herunterladen und Dekodieren von Daten aus WIS2</h1>
<div class="admonition abstract">
<p class="admonition-title">Lernergebnisse!</p>
<p>Am Ende dieser praktischen Sitzung werden Sie in der Lage sein:</p>
<ul>
<li>den "wis2downloader" zu verwenden, um WIS2-Datenbenachrichtigungen zu abonnieren und Daten auf Ihr lokales System herunterzuladen</li>
<li>den Status der Downloads im Grafana-Dashboard anzusehen</li>
<li>einige heruntergeladene Daten mit dem "decode-bufr-jupyter" Container zu dekodieren</li>
</ul>
</div>
<h2 id="de-practical-sessions-downloading-data-from-wis2-einfuhrung">Einführung</h2>
<p>In dieser Sitzung lernen Sie, wie Sie ein Abonnement für einen WIS2 Broker einrichten und automatisch Daten auf Ihr lokales System herunterladen, indem Sie den im wis2box enthaltenen "wis2downloader"-Dienst verwenden.</p>
<div class="admonition note">
<p class="admonition-title">Über wis2downloader</p>
<p>Der wis2downloader ist auch als eigenständiger Dienst verfügbar, der auf einem anderen System als dem, das die WIS2-Benachrichtigungen veröffentlicht, ausgeführt werden kann. Siehe <a href="https://pypi.org/project/wis2downloader/">wis2downloader</a> für weitere Informationen zur Verwendung des wis2downloader als eigenständigen Dienst.</p>
<p>Wenn Sie Ihren eigenen Dienst zum Abonnieren von WIS2-Benachrichtigungen und zum Herunterladen von Daten entwickeln möchten, können Sie den <a href="https://github.com/wmo-im/wis2downloader">wis2downloader-Quellcode</a> als Referenz verwenden.</p>
</div>
<div class="admonition andere werkzeuge zum zugriff auf wis2-daten">
<p class="admonition-title">Andere</p>
<p>Die folgenden Werkzeuge können auch verwendet werden, um Daten aus WIS2 zu entdecken und darauf zuzugreifen:</p>
<ul>
<li><a href="https://github.com/wmo-im/pywiscat">pywiscat</a> bietet Suchfunktionen auf dem WIS2 Global Discovery Catalogue zur Unterstützung der Berichterstattung und Analyse des WIS2-Katalogs und seiner zugehörigen Entdeckungsmetadaten</li>
<li><a href="https://github.com/wmo-im/pywis-pubsub">pywis-pubsub</a> bietet Abonnement- und Download-Fähigkeiten für WMO-Daten aus WIS2-Infrastrukturdiensten</li>
</ul>
</div>
<h2 id="de-practical-sessions-downloading-data-from-wis2-vorbereitung">Vorbereitung</h2>
<p>Bitte loggen Sie sich vor Beginn in Ihre Studenten-VM ein und stellen Sie sicher, dass Ihre wis2box-Instanz läuft.</p>
<h2 id="de-practical-sessions-downloading-data-from-wis2-ubung-1-anzeigen-des-wis2download-dashboards-in-grafana">Übung 1: Anzeigen des wis2download-Dashboards in Grafana</h2>
<p>Öffnen Sie einen Webbrowser und navigieren Sie zum Grafana-Dashboard Ihrer wis2box-Instanz, indem Sie <code>http://&lt;Ihr-Host&gt;:3000</code> aufrufen.</p>
<p>Klicken Sie im linken Menü auf Dashboards und dann auf das <strong>wis2downloader-Dashboard</strong>.</p>
<p>Sie sollten das folgende Dashboard sehen:</p>
<p><img alt="wis2downloader dashboard" src="../de/assets/img/wis2downloader-dashboard.png" /></p>
<p>Dieses Dashboard basiert auf Metriken, die vom wis2downloader-Dienst veröffentlicht werden, und zeigt Ihnen den Status der derzeit laufenden Downloads.</p>
<p>In der oberen linken Ecke können Sie die derzeit aktiven Abonnements sehen.</p>
<p>Halten Sie dieses Dashboard offen, da Sie es verwenden werden, um den Fortschritt des Downloads in der nächsten Übung zu überwachen.</p>
<h2 id="de-practical-sessions-downloading-data-from-wis2-ubung-2-uberprufung-der-konfiguration-des-wis2downloader">Übung 2: Überprüfung der Konfiguration des wis2downloader</h2>
<p>Der wis2downloader-Dienst, der vom wis2box-Stack gestartet wurde, kann mit den Umgebungsvariablen konfiguriert werden, die in Ihrer wis2box.env-Datei definiert sind.</p>
<p>Die folgenden Umgebungsvariablen werden vom wis2downloader verwendet:</p>
<pre><code>- DOWNLOAD_BROKER_HOST: Der Hostname des MQTT-Brokers, mit dem eine Verbindung hergestellt werden soll. Standardmäßig auf globalbroker.meteo.fr eingestellt
- DOWNLOAD_BROKER_PORT: Der Port des MQTT-Brokers, mit dem eine Verbindung hergestellt werden soll. Standardmäßig auf 443 eingestellt (HTTPS für Websockets)
- DOWNLOAD_BROKER_USERNAME: Der Benutzername, der verwendet werden soll, um eine Verbindung zum MQTT-Broker herzustellen. Standardmäßig auf everyone eingestellt
- DOWNLOAD_BROKER_PASSWORD: Das Passwort, das verwendet werden soll, um eine Verbindung zum MQTT-Broker herzustellen. Standardmäßig auf everyone eingestellt
- DOWNLOAD_BROKER_TRANSPORT: Websockets oder tcp, der Transportmechanismus, der verwendet werden soll, um eine Verbindung zum MQTT-Broker herzustellen. Standardmäßig auf Websockets eingestellt,
- DOWNLOAD_RETENTION_PERIOD_HOURS: Die Aufbewahrungszeit in Stunden für die heruntergeladenen Daten. Standardmäßig auf 24 eingestellt
- DOWNLOAD_WORKERS: Die Anzahl der Download-Worker, die verwendet werden sollen. Standardmäßig auf 8 eingestellt. Bestimmt die Anzahl der parallelen Downloads.
- DOWNLOAD_MIN_FREE_SPACE_GB: Der minimale freie Speicherplatz in GB, der auf dem Volume, das die Downloads hostet, freigehalten werden soll. Standardmäßig auf 1 eingestellt.
</code></pre>
<p>Um die aktuelle Konfiguration des wis2downloader zu überprüfen, können Sie den folgenden Befehl verwenden:</p>
<div class="highlight"><pre><span></span><code>cat<span class="w"> </span>~/wis2box-1.0.0rc1/wis2box.env<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>DOWNLOAD
</code></pre></div>
<div class="admonition question">
<p class="admonition-title">Überprüfen Sie die Konfiguration des wis2downloader</p>
<p>Was ist der Standard-MQTT-Broker, mit dem sich der wis2downloader verbindet?</p>
<p>Was ist die Standard-Aufbewahrungszeit für die heruntergeladenen Daten?</p>
</div>
<details class="success">
<summary>Klicken Sie, um die Antwort zu enthüllen</summary>
<p>Der Standard-MQTT-Broker, mit dem sich der wis2downloader verbindet, ist <code>globalbroker.meteo.fr</code>.</p>
<p>Die Standard-Aufbewahrungszeit für die heruntergeladenen Daten beträgt 24 Stunden.</p>
</details>
<div class="admonition note">
<p class="admonition-title">Aktualisieren der Konfiguration des wis2downloader</p>
<p>Um die Konfiguration des wis2downloader zu aktualisieren, können Sie die Datei wis2box.env bearbeiten. Um die Änderungen anzuwenden, können Sie den Startbefehl für den wis2box-Stack erneut ausführen:</p>
<div class="highlight"><pre><span></span><code>python3<span class="w"> </span>wis2box-ctl.py<span class="w"> </span>start
</code></pre></div>
<p>Und Sie werden sehen, dass der wis2downloader-Dienst mit der neuen Konfiguration neu gestartet wird.</p>
</div>
<p>Sie können die Standardkonfiguration für den Zweck dieser Übung beibehalten.</p>
<h2 id="de-practical-sessions-downloading-data-from-wis2-ubung-3-hinzufugen-von-abonnements-zum-wis2downloader">Übung 3: Hinzufügen von Abonnements zum wis2downloader</h2>
<p>Im <strong>wis2downloader</strong>-Container können Sie die Befehlszeile verwenden, um Abonnements aufzulisten, hinzuzufügen und zu löschen.</p>
<p>Um sich beim <strong>wis2downloader</strong>-Container anzumelden, verwenden Sie den folgenden Befehl:</p>
<div class="highlight"><pre><span></span><code>python3<span class="w"> </span>wis2box-ctl.py<span class="w"> </span>login<span class="w"> </span>wis2downloader
</code></pre></div>
<p>Verwenden Sie dann den folgenden Befehl, um die Abonnements aufzulisten, die derzeit aktiv sind:</p>
<div class="highlight"><pre><span></span><code>wis2downloader<span class="w"> </span>list-subscriptions
</code></pre></div>
<p>Dieser Befehl gibt eine leere Liste zurück, da derzeit keine Abonnements aktiv sind.</p>
<p>Zu Übungszwecken werden wir das folgende Thema abonnieren <code>cache/a/wis2/de-dwd-gts-to-wis2/#</code>, um Daten zu abonnieren, die vom DWD-gehosteten GTS-to-WIS2-Gateway veröffentlicht wurden, und Benachrichtigungen aus dem Global Cache herunterzuladen.</p>
<p>Um dieses Abonnement hinzuzufügen, verwenden Sie den folgenden Befehl:</p>
<div class="highlight"><pre><span></span><code>wis2downloader<span class="w"> </span>add-subscription<span class="w"> </span>--topic<span class="w"> </span>cache/a/wis2/de-dwd-gts-to-wis2/#
</code></pre></div>
<p>Verlassen Sie dann den <strong>wis2downloader</strong>-Container, indem Sie <code>exit</code> eingeben:</p>
<div class="highlight"><pre><span></span><code><span class="nb">exit</span>
</code></pre></div>
<p>Überprüfen Sie das wis2downloader-Dashboard in Grafana, um das neue Abonnement hinzugefügt zu sehen. Warten Sie einige Minuten und Sie sollten sehen, dass die ersten Downloads beginnen. Gehen Sie zur nächsten Übung, sobald Sie bestätigt haben, dass die Downloads beginnen.</p>
<h2 id="de-practical-sessions-downloading-data-from-wis2-ubung-4-anzeigen-der-heruntergeladenen-daten">Übung 4: Anzeigen der heruntergeladenen Daten</h2>
<p>Der wis2downloader-Dienst im wis2box-Stack lädt die Daten im Verzeichnis 'downloads' im Verzeichnis herunter, das Sie als WIS2BOX_HOST_DATADIR in Ihrer wis2box.env-Datei definiert haben. Um den Inhalt des Downloads-Verzeichnisses anzuzeigen, können Sie den folgenden Befehl verwenden:</p>
<div class="highlight"><pre><span></span><code>ls<span class="w"> </span>-R<span class="w"> </span>~/wis2box-data/downloads
</code></pre></div>
<p>Beachten Sie, dass die heruntergeladenen Daten in Verzeichnissen gespeichert sind, die nach dem Thema benannt sind, auf dem die WIS2-Benachrichtigung veröffentlicht wurde.</p>
<h2 id="de-practical-sessions-downloading-data-from-wis2-ubung-5-entfernen-von-abonnements-aus-dem-wis2downloader">Übung 5: Entfernen von Abonnements aus dem wis2downloader</h2>
<p>Melden Sie sich als nächstes wieder im wis2downloader-Container an:</p>
<div class="highlight"><pre><span></span><code>python3<span class="w"> </span>wis2box-ctl.py<span class="w"> </span>login<span class="w"> </span>wis2downloader
</code></pre></div>
<p>und entfernen Sie das Abonnement, das Sie vom wis2downloader gemacht haben, mit dem folgenden Befehl:</p>
<div class="highlight"><pre><span></span><code>wis2downloader<span class="w"> </span>remove-subscription<span class="w"> </span>--topic<span class="w"> </span>cache/a/wis2/de-dwd-gts-to-wis2/#
</code></pre></div>
<p>Und verlassen Sie den wis2downloader-Container, indem Sie <code>exit</code> eingeben:</p>
<div class="highlight"><pre><span></span><code><span class="nb">exit</span>
</code></pre></div>
<p>Überprüfen Sie das wis2downloader-Dashboard in Grafana, um das entfernte Abonnement zu sehen. Sie sollten sehen, dass die Downloads stoppen.</p>
<h2 id="de-practical-sessions-downloading-data-from-wis2-ubung-6-abonnieren-des-wis2training-brokers-und-einrichten-eines-neuen-abonnements">Übung 6: Abonnieren des wis2training-Brokers und Einrichten eines neuen Abonnements</h2>
<p>Für die nächste Übung werden wir den wis2training-Broker abonnieren.</p>
<p>Dies zeigt, wie Sie einen Broker abonnieren, der nicht der Standard-Broker ist, und ermöglicht es Ihnen, einige Daten herunterzuladen, die vom WIS2 Training Broker veröffentlicht wurden.</p>
<p>Bearbeiten Sie die Datei wis2box.env und ändern Sie DOWNLOAD_BROKER_HOST in <code>wis2training-broker.wis2dev.io</code>, ändern Sie DOWNLOAD_BROKER_PORT in <code>1883</code> und ändern Sie DOWNLOAD_BROKER_TRANSPORT in <code>tcp</code>:</p>
<div class="highlight"><pre><span></span><code># downloader settings
DOWNLOAD_BROKER_HOST=wis2training-broker.wis2dev.io
DOWNLOAD_BROKER_PORT=1883
DOWNLOAD_BROKER_USERNAME=everyone
DOWNLOAD_BROKER_PASSWORD=everyone
# download transport mechanism (tcp or websockets)
DOWNLOAD_BROKER_TRANSPORT=tcp
</code></pre></div>
<p>Starten Sie dann den wis2box-Stack neu, um die Änderungen anzuwenden:</p>
<div class="highlight"><pre><span></span><code>python3<span class="w"> </span>wis2box-ctl.py<span class="w"> </span>start
</code></pre></div>
<p>Überprüfen Sie die Protokolle des wis2downloader, um zu sehen, ob die Verbindung zum neuen Broker erfolgreich war:</p>
<div class="highlight"><pre><span></span><code>docker<span class="w"> </span>logs<span class="w"> </span>wis2downloader
</code></pre></div>
<p>Sie sollten die folgende Protokollmeldung sehen:</p>
<div class="highlight"><pre><span></span><code>...
INFO - Connecting...
INFO - Host: wis2training-broker.wis2dev.io, port: 1883
INFO - Connected successfully
</code></pre></div>
<p>Nun richten wir ein neues Abonnement für das Thema ein, um Zyklonspurdaten vom WIS2 Training Broker herunterzuladen.</p>
<p>Melden Sie sich beim <strong>wis2downloader</strong>-Container an:</p>
<div class="highlight"><pre><span></span><code>python3<span class="w"> </span>wis2box-ctl.py<span class="w"> </span>login<span class="w"> </span>wis2downloader
</code></pre></div>
<p>Und führen Sie den folgenden Befehl aus (kopieren Sie diesen, um Tippfehler zu vermeiden):</p>
<div class="highlight"><pre><span></span><code>wis2downloader<span class="w"> </span>add-subscription<span class="w"> </span>--topic<span class="w"> </span>origin/a/wis2/int-wis2-training/data/core/weather/prediction/forecast/medium-range/probabilistic/trajectory
</code></pre></div>
<p>Verlassen Sie den <strong>wis2downloader</strong>-Container, indem Sie <code>exit</code> eingeben.</p>
<p>Warten Sie, bis Sie sehen, dass die Downloads im wis2downloader-Dashboard in Grafana beginnen.</p>
<div class="admonition note">
<p class="admonition-title">Daten vom WIS2 Training Broker herunterladen</p>
<p>Der WIS2 Training Broker ist ein Test-Broker, der zu Schulungszwecken verwendet wird und möglicherweise nicht die ganze Zeit Daten veröffentlicht.</p>
<p>Während der Präsenzschulungen wird der lokale Trainer sicherstellen, dass der WIS2 Training Broker Daten für Sie zum Herunterladen veröffentlicht.</p>
<p>Wenn Sie diese Übung außerhalb einer Schulungssitzung durchführen, sehen Sie möglicherweise keine heruntergeladenen Daten.</p>
</div>
<p>Überprüfen Sie, ob die Daten heruntergeladen wurden, indem Sie die Protokolle des wis2downloader erneut überprüfen:</p>
<div class="highlight"><pre><span></span><code>docker<span class="w"> </span>logs<span class="w"> </span>wis2downloader
</code></pre></div>
<p>Sie sollten eine Protokollmeldung sehen, die der folgenden ähnelt:</p>
<div class="highlight"><pre><span></span><code>[...] INFO - Nachricht unter dem Thema origin/a/wis2/int-wis2-training/data/core/weather/prediction/forecast/medium-range/probabilistic/trajectory erhalten
[...] INFO - Heruntergeladen A_JSXX05ECEP020000_C_ECMP_...
</code></pre></div>
<h2 id="de-practical-sessions-downloading-data-from-wis2-ubung-7-dekodieren-der-heruntergeladenen-daten">Übung 7: Dekodieren der heruntergeladenen Daten</h2>
<p>Um zu demonstrieren, wie Sie die heruntergeladenen Daten dekodieren können, werden wir einen neuen Container mit dem Bild 'decode-bufr-jupyter' starten.</p>
<p>Dieser Container wird einen Jupyter-Notebook-Server auf Ihrer Instanz starten, der die "ecCodes"-Bibliothek enthält, die Sie zum Dekodieren von BUFR-Daten verwenden können.</p>
<p>Wir werden die Beispiel-Notebooks in <code>~/exercise-materials/notebook-examples</code> verwenden, um die heruntergeladenen Daten für die Zyklonspuren zu dekodieren.</p>
<p>Um den Container zu starten, verwenden Sie den folgenden Befehl:</p>
<div class="highlight"><pre><span></span><code>docker<span class="w"> </span>run<span class="w"> </span>-d<span class="w"> </span>--name<span class="w"> </span>decode-bufr-jupyter<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-v<span class="w"> </span>~/wis2box-data/downloads:/root/downloads<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-p<span class="w"> </span><span class="m">8888</span>:8888<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-e<span class="w"> </span><span class="nv">JUPYTER_TOKEN</span><span class="o">=</span>dataismagic!<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>mlimper/decode-bufr-jupyter
</code></pre></div>
<div class="admonition note">
<p class="admonition-title">Über den decode-bufr-jupyter Container</p>
<p>Der <code>decode-bufr-jupyter</code> Container ist ein benutzerdefinierter Container, der die ecCodes-Bibliothek enthält und einen Jupyter-Notebook-Server ausführt. Der Container basiert auf einem Bild, das die <code>ecCodes</code>-Bibliothek zum Dekodieren von BUFR-Daten enthält, zusammen mit Bibliotheken für das Plotten und die Datenanalyse.</p>
<p>Der obige Befehl startet den Container im abgetrennten Modus, mit dem Namen <code>decode-bufr-jupyter</code>, der Port 8888 wird auf das Hostsystem abgebildet und die Umgebungsvariable <code>JUPYTER_TOKEN</code> ist auf <code>dataismagic!</code> eingestellt.</p>
<p>Der obige Befehl montiert auch das Verzeichnis <code>~/wis2box-data/downloads</code> auf <code>/root/downloads</code> im Container. Dies stellt sicher, dass die heruntergeladenen Daten dem Jupyter-Notebook-Server zur Verfügung stehen.</p>
</div>
<p>Sobald der Container gestartet ist, können Sie auf den Jupyter-Notebook-Server zugreifen, indem Sie in Ihrem Webbrowser zu <code>http://&lt;Ihr-Host&gt;:8888</code> navigieren.</p>
<p>Sie sehen einen Bildschirm, auf dem Sie aufgefordert werden, ein "Passwort oder Token" einzugeben.</p>
<p>Geben Sie das Token <code>dataismagic!</code> ein, um sich beim Jupyter-Notebook-Server anzumelden.</p>
<p>Nachdem Sie sich angemeldet haben, sollten Sie den folgenden Bildschirm sehen, der die Verzeichnisse im Container auflistet:</p>
<p><img alt="Jupyter notebook home" src="../de/assets/img/jupyter-files-screen1.png" /></p>
<p>Doppelklicken Sie auf das Verzeichnis <code>example-notebooks</code>, um es zu öffnen.</p>
<p>Sie sollten den folgenden Bildschirm sehen, der die Beispiel-Notebooks auflistet, doppelklicken Sie auf das Notebook <code>tropical_cyclone_track.ipynb</code>, um es zu öffnen:</p>
<p><img alt="Jupyter notebook example notebooks" src="../de/assets/img/jupyter-files-screen2.png" /></p>
<p>Sie sollten sich nun im Jupyter-Notebook für die Dekodierung der tropischen Zyklonspurdaten befinden:</p>
<p><img alt="Jupyter notebook tropical cyclone track" src="../de/assets/img/jupyter-tropical-cyclone-track.png" /></p>
<p>Lesen Sie die Anweisungen im Notebook und führen Sie die Zellen aus, um die heruntergeladenen Daten für die tropischen Zyklonspuren zu dekodieren. Führen Sie jede Zelle aus, indem Sie auf die Zelle klicken und dann auf die Schaltfläche Ausführen in der Symbolleiste klicken oder <code>Shift+Enter</code> drücken.</p>
<p>Am Ende sollten Sie eine Darstellung der Schlagwahrscheinlichkeit für die tropischen Zyklonspuren sehen:</p>
<p><img alt="Tropical cyclone tracks" src="../de/assets/img/tropical-cyclone-track-map.png" /></p>
<div class="admonition question">
<p class="admonition-title">Question</p>
<p>Das Ergebnis zeigt die vorhergesagte Wahrscheinlichkeit einer tropischen Sturmspur innerhalb von 200 km. Wie würden Sie das Notebook aktualisieren, um die vorhergesagte Wahrscheinlichkeit einer tropischen Sturmspur innerhalb von 300 km anzuzeigen?</p>
</div>
<details class="success">
<summary>Klicken Sie, um die Antwort zu enthüllen</summary>
<p>Um das Notebook zu aktualisieren, damit die vorhergesagte Wahrscheinlichkeit einer tropischen Sturmspur innerhalb einer anderen Entfernung angezeigt wird, können Sie die Variable <code>distance_threshold</code> im Code-Block aktualisieren, der die Schlagwahrscheinlichkeit berechnet.</p>
<p>Um die vorhergesagte Wahrscheinlichkeit einer tropischen Sturmspur innerhalb von 300 km anzuzeigen,</p>
<p>```python</p>
<h1 id="de-practical-sessions-downloading-data-from-wis2-entfernungsschwelle-festlegen-meter">Entfernungsschwelle festlegen (Meter)</h1>
<p>distance_threshold =</p>
</details></section><section class="print-page" id="de-practical-sessions-discovering-datasets-from-wis2-gdc" heading-number="2.14"><h1 id="de-practical-sessions-discovering-datasets-from-wis2-gdc-entdecken-von-datensatzen-aus-dem-wis2-global-discovery-katalog">Entdecken von Datensätzen aus dem WIS2 Global Discovery Katalog</h1>
<div class="admonition abstract">
<p class="admonition-title">Lernergebnisse!</p>
<p>Am Ende dieser praktischen Sitzung werden Sie in der Lage sein:</p>
<ul>
<li>pywiscat zu verwenden, um Datensätze aus dem Global Discovery Katalog (GDC) zu entdecken</li>
</ul>
</div>
<h2 id="de-practical-sessions-discovering-datasets-from-wis2-gdc-einfuhrung">Einführung</h2>
<p>In dieser Sitzung lernen Sie, wie man Daten aus dem WIS2 Global Discovery Katalog (GDC) entdeckt.</p>
<p>Derzeit sind die folgenden GDCs verfügbar:</p>
<ul>
<li>Umwelt und Klimawandel Kanada, Meteorologischer Dienst von Kanada: <a href="https://wis2-gdc.weather.gc.ca">https://wis2-gdc.weather.gc.ca</a></li>
<li>China Meteorological Administration: <a href="https://gdc.wis.cma.cn/api">https://gdc.wis.cma.cn/api</a></li>
<li>Deutscher Wetterdienst: <a href="https://wis2.dwd.de/gdc">https://wis2.dwd.de/gdc</a></li>
</ul>
<p>Während lokaler Trainingssitzungen wird ein lokaler GDC eingerichtet, um den Teilnehmern zu ermöglichen, den GDC nach den von ihnen aus ihren wis2box-Instanzen veröffentlichten Metadaten zu durchsuchen. In diesem Fall werden die Trainer die URL zum lokalen GDC bereitstellen.</p>
<h2 id="de-practical-sessions-discovering-datasets-from-wis2-gdc-vorbereitung">Vorbereitung</h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Bitte loggen Sie sich vor Beginn in Ihre Studenten-VM ein.</p>
</div>
<h2 id="de-practical-sessions-discovering-datasets-from-wis2-gdc-installation-von-pywiscat">Installation von pywiscat</h2>
<p>Verwenden Sie den Python-Paketinstaller <code>pip3</code>, um pywiscat auf Ihrer VM zu installieren:
<div class="highlight"><pre><span></span><code>pip3<span class="w"> </span>install<span class="w"> </span>pywiscat
</code></pre></div></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Wenn Sie auf den folgenden Fehler stoßen:</p>
<div class="highlight"><pre><span></span><code>WARNING: The script pywiscat is installed in &#39;/home/username/.local/bin&#39; which is not on PATH.
Consider adding this directory to PATH or, if you prefer to suppress this warning, use --no-warn-script-location.
</code></pre></div>
<p>Dann führen Sie den folgenden Befehl aus:</p>
<div class="highlight"><pre><span></span><code><span class="nb">export</span><span class="w"> </span><span class="nv">PATH</span><span class="o">=</span><span class="nv">$PATH</span>:/home/<span class="nv">$USER</span>/.local/bin
</code></pre></div>
<p>...wobei <code>$USER</code> Ihr Benutzername auf Ihrer VM ist.</p>
</div>
<p>Überprüfen Sie, ob die Installation erfolgreich war:</p>
<div class="highlight"><pre><span></span><code>pywiscat<span class="w"> </span>--version
</code></pre></div>
<h2 id="de-practical-sessions-discovering-datasets-from-wis2-gdc-daten-finden-mit-pywiscat">Daten finden mit pywiscat</h2>
<p>Standardmäßig verbindet sich pywiscat mit Kanadas Global Discovery Katalog. Konfigurieren wir pywiscat, um den Trainings-GDC abzufragen, indem wir die Umgebungsvariable <code>PYWISCAT_GDC_URL</code> setzen:</p>
<div class="highlight"><pre><span></span><code><span class="nb">export</span><span class="w"> </span><span class="nv">PYWISCAT_GDC_URL</span><span class="o">=</span>http://&lt;local-gdc-host-or-ip&gt;
</code></pre></div>
<p>Verwenden wir <a href="https://github.com/wmo-im/pywiscat">pywiscat</a>, um den GDC im Rahmen des Trainings abzufragen.</p>
<div class="highlight"><pre><span></span><code>pywiscat<span class="w"> </span>search<span class="w"> </span>--help
</code></pre></div>
<p>Suchen Sie jetzt im GDC nach allen Datensätzen:</p>
<div class="highlight"><pre><span></span><code>pywiscat<span class="w"> </span>search
</code></pre></div>
<div class="admonition question">
<p class="admonition-title">Question</p>
<p>Wie viele Datensätze werden von der Suche zurückgegeben?</p>
</div>
<details class="success">
<summary>Klicken, um die Antwort zu enthüllen</summary>
<p>Die Anzahl der Datensätze hängt vom abgefragten GDC ab. Wenn Sie den lokalen Trainings-GDC verwenden, sollten Sie sehen, dass die Anzahl der Datensätze gleich der Anzahl der Datensätze ist, die während der anderen praktischen Sitzungen in den GDC eingespeist wurden.</p>
</details>
<p>Versuchen wir, den GDC mit einem Schlüsselwort abzufragen:</p>
<div class="highlight"><pre><span></span><code>pywiscat<span class="w"> </span>search<span class="w"> </span>-q<span class="w"> </span>observations
</code></pre></div>
<div class="admonition question">
<p class="admonition-title">Question</p>
<p>Wie lautet die Datenrichtlinie der Ergebnisse?</p>
</div>
<details class="success">
<summary>Klicken, um die Antwort zu enthüllen</summary>
<p>Alle zurückgegebenen Daten sollten als "Kerndaten" gekennzeichnet sein</p>
</details>
<p>Versuchen Sie zusätzliche Abfragen mit <code>-q</code></p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Das <code>-q</code> Flag ermöglicht die folgende Syntax:</p>
<ul>
<li><code>-q synop</code>: findet alle Datensätze mit dem Wort "synop"</li>
<li><code>-q temp</code>: findet alle Datensätze mit dem Wort "temp"</li>
<li><code>-q "observations AND fiji"</code>: findet alle Datensätze mit den Wörtern "observations" und "fiji"</li>
<li><code>-q "observations NOT fiji"</code>: findet alle Datensätze, die das Wort "observations" enthalten, aber nicht das Wort "fiji"</li>
<li><code>-q "synop OR temp"</code>: findet alle Datensätze mit "synop" oder "temp"</li>
<li><code>-q "obs~"</code>: unscharfe Suche</li>
</ul>
<p>Bei der Suche nach Begriffen mit Leerzeichen setzen Sie diese in Anführungszeichen.</p>
</div>
<p>Lassen Sie uns mehr Details zu einem spezifischen Suchergebnis erhalten, das uns interessiert:</p>
<div class="highlight"><pre><span></span><code>pywiscat<span class="w"> </span>get<span class="w"> </span>&lt;id&gt;
</code></pre></div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Verwenden Sie den <code>id</code>-Wert aus der vorherigen Suche.</p>
</div>
<h2 id="de-practical-sessions-discovering-datasets-from-wis2-gdc-schlussfolgerung">Schlussfolgerung</h2>
<div class="admonition success">
<p class="admonition-title">Herzlichen Glückwunsch!</p>
<p>In dieser praktischen Sitzung haben Sie gelernt, wie man:</p>
<ul>
<li>pywiscat verwendet, um Datensätze aus dem WIS2 Global Discovery Katalog zu entdecken</li>
</ul>
</div></section><section class="print-page" id="de-practical-sessions-querying-data-using-the-wis2box-api" heading-number="2.15"><h1 id="de-practical-sessions-querying-data-using-the-wis2box-api-datenabfrage-mit-der-wis2box-api">Datenabfrage mit der wis2box API</h1>
<div class="admonition abstract">
<p class="admonition-title">Lernergebnisse</p>
<p>Am Ende dieser praktischen Sitzung werden Sie in der Lage sein:</p>
<ul>
<li>die wis2box API zu nutzen, um Ihre Stationen abzufragen und zu filtern</li>
<li>die wis2box API zu nutzen, um Ihre Daten abzufragen und zu filtern</li>
</ul>
</div>
<h2 id="de-practical-sessions-querying-data-using-the-wis2box-api-einfuhrung">Einführung</h2>
<p>Die wis2box API bietet Zugriff auf Entdeckung und Abfrage in maschinenlesbarer Form für die Daten, die in wis2box aufgenommen wurden. Die API basiert auf dem OGC API - Features Standard und wird mit <a href="https://pygeoapi.io">pygeoapi</a> implementiert.</p>
<p>Die wis2box API bietet Zugriff auf die folgenden Sammlungen:</p>
<ul>
<li>Stationen</li>
<li>Entdeckungsmetadaten</li>
<li>Datenbenachrichtigungen</li>
<li>plus eine Sammlung pro konfiguriertem Datensatz, die die Ausgabe von bufr2geojson speichert (das Plugin <code>bufr2geojson</code> muss in der Datenmappingskonfiguration aktiviert sein, um die Elemente in der Datensatzsammlung zu füllen).</li>
</ul>
<p>In dieser praktischen Sitzung lernen Sie, wie Sie die Daten-API verwenden, um Daten, die in wis2box aufgenommen wurden, zu durchsuchen und abzufragen.</p>
<h2 id="de-practical-sessions-querying-data-using-the-wis2box-api-vorbereitung">Vorbereitung</h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Navigieren Sie zur Startseite der wis2box API in Ihrem Webbrowser:</p>
<p><code>http://&lt;your-host&gt;/oapi</code></p>
</div>
<p><img alt="wis2box-api-landing-page" src="../de/assets/img/wis2box-api-landing-page.png" width="600"></p>
<h2 id="de-practical-sessions-querying-data-using-the-wis2box-api-sammlungen-inspizieren">Sammlungen inspizieren</h2>
<p>Von der Startseite aus klicken Sie auf den Link 'Sammlungen'.</p>
<div class="admonition question">
<p class="admonition-title">Question</p>
<p>Wie viele Datensatzsammlungen sehen Sie auf der resultierenden Seite? Was denken Sie, was jede Sammlung darstellt?</p>
</div>
<details class="success">
<summary>Klicken, um Antwort zu enthüllen</summary>
<p>Es sollten 4 Sammlungen angezeigt werden, einschließlich "Stationen", "Entdeckungsmetadaten" und "Datenbenachrichtigungen"</p>
</details>
<h2 id="de-practical-sessions-querying-data-using-the-wis2box-api-stationen-inspizieren">Stationen inspizieren</h2>
<p>Von der Startseite aus klicken Sie auf den Link 'Sammlungen', dann auf den Link 'Stationen'.</p>
<p><img alt="wis2box-api-collections-stations" src="../de/assets/img/wis2box-api-collections-stations.png" width="600"></p>
<p>Klicken Sie auf den Link 'Durchsuchen', dann auf den Link 'json'.</p>
<div class="admonition question">
<p class="admonition-title">Question</p>
<p>Wie viele Stationen werden zurückgegeben? Vergleichen Sie diese Zahl mit der Stationsliste in <code>http://&lt;your-host&gt;/wis2box-webapp/station</code></p>
</div>
<details class="success">
<summary>Klicken, um Antwort zu enthüllen</summary>
<p>Die Anzahl der Stationen aus der API sollte gleich der Anzahl der Stationen sein, die Sie in der wis2box Webapp sehen.</p>
</details>
<div class="admonition question">
<p class="admonition-title">Question</p>
<p>Wie können wir eine einzelne Station (z.B. <code>Balaka</code>) abfragen?</p>
</div>
<details class="success">
<summary>Klicken, um Antwort zu enthüllen</summary>
<p>Abfragen Sie die API mit <code>http://&lt;your-host&gt;/oapi/collections/stations/items?q=Balaka</code>.</p>
</details>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Das obige Beispiel basiert auf den Testdaten aus Malawi. Versuchen Sie, gegen die Stationen zu testen, die Sie als Teil der vorherigen Übungen aufgenommen haben.</p>
</div>
<h2 id="de-practical-sessions-querying-data-using-the-wis2box-api-beobachtungen-inspizieren">Beobachtungen inspizieren</h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Das obige Beispiel basiert auf den Testdaten aus Malawi. Versuchen Sie, gegen die Beobachtungen zu testen, die Sie als Teil der Übungen aufgenommen haben.</p>
</div>
<p>Von der Startseite aus klicken Sie auf den Link 'Sammlungen', dann auf den Link 'Oberflächenwetterbeobachtungen aus Malawi'.</p>
<p><img alt="wis2box-api-collections-malawi-obs" src="../de/assets/img/wis2box-api-collections-malawi-obs.png" width="600"></p>
<p>Klicken Sie auf den Link 'Abfragbare'.</p>
<p><img alt="wis2box-api-collections-malawi-obs-queryables" src="../de/assets/img/wis2box-api-collections-malawi-obs-queryables.png" width="600"></p>
<div class="admonition question">
<p class="admonition-title">Question</p>
<p>Welches abfragbare würde verwendet, um nach Stationskennung zu filtern?</p>
</div>
<details class="success">
<summary>Klicken, um Antwort zu enthüllen</summary>
<p>Das <code>wigos_station_identifer</code> ist das richtige Abfragbare.</p>
</details>
<p>Navigieren Sie zur vorherigen Seite (d.h. <code>http://&lt;your-host&gt;/oapi/collections/urn:wmo:md:mwi:mwi_met_centre:surface-weather-observations</code>)</p>
<p>Klicken Sie auf den Link 'Durchsuchen'.</p>
<div class="admonition question">
<p class="admonition-title">Question</p>
<p>Wie können wir die JSON-Antwort visualisieren?</p>
</div>
<details class="success">
<summary>Klicken, um Antwort zu enthüllen</summary>
<p>Indem Sie auf den Link 'JSON' oben rechts auf der Seite klicken oder <code>f=json</code> zur API-Anfrage im Webbrowser hinzufügen.</p>
</details>
<p>Überprüfen Sie die JSON-Antwort der Beobachtungen.</p>
<div class="admonition question">
<p class="admonition-title">Question</p>
<p>Wie viele Datensätze werden zurückgegeben?</p>
</div>
<div class="admonition question">
<p class="admonition-title">Question</p>
<p>Wie können wir die Antwort auf 3 Beobachtungen begrenzen?</p>
</div>
<details class="success">
<summary>Klicken, um Antwort zu enthüllen</summary>
<p>Fügen Sie <code>limit=3</code> zur API-Anfrage hinzu.</p>
</details>
<div class="admonition question">
<p class="admonition-title">Question</p>
<p>Wie können wir die Antwort nach den neuesten Beobachtungen sortieren?</p>
</div>
<details class="success">
<summary>Klicken, um Antwort zu enthüllen</summary>
<p>Fügen Sie <code>sortby=-resultTime</code> zur API-Anfrage hinzu (beachten Sie das <code>-</code>-Zeichen, um die absteigende Sortierreihenfolge anzugeben). Um nach den frühesten Beobachtungen zu sortieren, aktualisieren Sie die Anfrage, um <code>sortby=resultTime</code> einzuschließen.</p>
</details>
<div class="admonition question">
<p class="admonition-title">Question</p>
<p>Wie können wir die Beobachtungen nach einer einzelnen Station filtern?</p>
</div>
<details class="success">
<summary>Klicken, um Antwort zu enthüllen</summary>
<p>Fügen Sie <code>wigos_station_identifier=&lt;WSI&gt;</code> zur API-Anfrage hinzu.</p>
</details>
<div class="admonition question">
<p class="admonition-title">Question</p>
<p>Wie können wir die Beobachtungen als CSV erhalten?</p>
</div>
<details class="success">
<summary>Klicken, um Antwort zu enthüllen</summary>
<p>Fügen Sie <code>f=csv</code> zur API-Anfrage hinzu.</p>
</details>
<div class="admonition question">
<p class="admonition-title">Question</p>
<p>Wie können wir eine einzelne Beobachtung (id) anzeigen?</p>
</div>
<details class="success">
<summary>Klicken, um Antwort zu enthüllen</summary>
<p>Verwenden Sie den Merkmalsidentifikator aus einer API-Anfrage gegen die Beobachtungen, um die API für <code>http://&lt;your-host&gt;/oapi/collections/{collectionId}/items/{featureId}</code> abzufragen, wobei <code>{collectionId}</code> der Name Ihrer Beobachtungssammlung und <code>{itemId}</code> der Identifikator der einzelnen Beobachtung von Interesse ist.</p>
</details>
<h2 id="de-practical-sessions-querying-data-using-the-wis2box-api-schlussfolgerung">Schlussfolgerung</h2>
<div class="admonition success">
<p class="admonition-title">Herzlichen Glückwunsch!</p>
<p>In dieser praktischen Sitzung haben Sie gelernt, wie Sie:</p>
<ul>
<li>die wis2box API nutzen, um Ihre Stationen abzufragen und zu filtern</li>
<li>die wis2box API nutzen, um Ihre Daten abzufragen und zu filtern</li>
</ul>
</div></section></section>
                    <section class='print-page md-section' id='section-3' heading-number='3'>
                        <h1>Spickzettel<a class='headerlink' href='#section-3' title='Permanent link'></a>
                        </h1>
                    <section class="print-page" id="de-cheatsheets-linux" heading-number="3.1"><h1 id="de-cheatsheets-linux-linux-spickzettel">Linux Spickzettel</h1>
<h2 id="de-cheatsheets-linux-ubersicht">Übersicht</h2>
<p>Die grundlegenden Konzepte der Arbeit in einem Linux-Betriebssystem sind <strong>Dateien</strong> und <strong>Verzeichnisse</strong> (Ordner), die in einer Baumstruktur innerhalb einer <strong>Umgebung</strong> organisiert sind.</p>
<p>Sobald Sie sich in ein Linux-System einloggen, arbeiten Sie in einer <strong>Shell</strong>, in der Sie Dateien und Verzeichnisse bearbeiten können, indem Sie Befehle ausführen, die auf dem System installiert sind. Die Bash-Shell ist eine häufige und beliebte Shell, die typischerweise auf Linux-Systemen zu finden ist.</p>
<h2 id="de-cheatsheets-linux-bash">Bash</h2>
<h3 id="de-cheatsheets-linux-verzeichnisnavigation">Verzeichnisnavigation</h3>
<ul>
<li>Betreten eines absoluten Verzeichnisses:</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="nb">cd</span><span class="w"> </span>/dir1/dir2
</code></pre></div>
<ul>
<li>Betreten eines relativen Verzeichnisses:</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="nb">cd</span><span class="w"> </span>./somedir
</code></pre></div>
<ul>
<li>Ein Verzeichnis nach oben wechseln:</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="nb">cd</span><span class="w"> </span>..
</code></pre></div>
<ul>
<li>Zwei Verzeichnisse nach oben wechseln:</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="nb">cd</span><span class="w"> </span>../..
</code></pre></div>
<ul>
<li>Zum "home"-Verzeichnis wechseln:</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="nb">cd</span><span class="w"> </span>-
</code></pre></div>
<h3 id="de-cheatsheets-linux-dateiverwaltung">Dateiverwaltung</h3>
<ul>
<li>Auflisten der Dateien im aktuellen Verzeichnis:</li>
</ul>
<div class="highlight"><pre><span></span><code>ls
</code></pre></div>
<ul>
<li>Detailliertes Auflisten der Dateien im aktuellen Verzeichnis:</li>
</ul>
<div class="highlight"><pre><span></span><code>ls<span class="w"> </span>-l
</code></pre></div>
<ul>
<li>Auflisten der Wurzel des Dateisystems:</li>
</ul>
<div class="highlight"><pre><span></span><code>ls<span class="w"> </span>-l<span class="w"> </span>/
</code></pre></div>
<ul>
<li>Eine leere Datei erstellen:</li>
</ul>
<div class="highlight"><pre><span></span><code>touch<span class="w"> </span>foo.txt
</code></pre></div>
<ul>
<li>Eine Datei aus einem <code>echo</code>-Befehl erstellen:</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;hi there&quot;</span><span class="w"> </span>&gt;<span class="w"> </span>test-file.txt
</code></pre></div>
<ul>
<li>Den Inhalt einer Datei anzeigen:</li>
</ul>
<div class="highlight"><pre><span></span><code>cat<span class="w"> </span>test-file.txt
</code></pre></div>
<ul>
<li>Eine Datei kopieren:</li>
</ul>
<div class="highlight"><pre><span></span><code>cp<span class="w"> </span>file1<span class="w"> </span>file2
</code></pre></div>
<ul>
<li>Platzhalter: Operieren auf Dateimustern:</li>
</ul>
<div class="highlight"><pre><span></span><code>ls<span class="w"> </span>-l<span class="w"> </span>fil*<span class="w">  </span><span class="c1"># passt zu file1 und file2</span>
</code></pre></div>
<ul>
<li>Zwei Dateien in eine neue Datei namens <code>newfile</code> zusammenführen:</li>
</ul>
<div class="highlight"><pre><span></span><code>cat<span class="w"> </span>file1<span class="w"> </span>file2<span class="w"> </span>&gt;<span class="w"> </span>newfile
</code></pre></div>
<ul>
<li>Eine weitere Datei an <code>newfile</code> anhängen</li>
</ul>
<div class="highlight"><pre><span></span><code>cat<span class="w"> </span>file3<span class="w"> </span>&gt;&gt;<span class="w"> </span>newfile
</code></pre></div>
<ul>
<li>Eine Datei löschen:</li>
</ul>
<div class="highlight"><pre><span></span><code>rm<span class="w"> </span>newfile
</code></pre></div>
<ul>
<li>Alle Dateien mit derselben Dateierweiterung löschen:</li>
</ul>
<div class="highlight"><pre><span></span><code>rm<span class="w"> </span>*.dat
</code></pre></div>
<ul>
<li>Ein Verzeichnis erstellen</li>
</ul>
<div class="highlight"><pre><span></span><code>mkdir<span class="w"> </span>dir1
</code></pre></div>
<h3 id="de-cheatsheets-linux-befehle-mit-pipes-verketten">Befehle mit Pipes verketten</h3>
<p>Pipes erlauben es einem Benutzer, die Ausgabe eines Befehls an einen anderen zu senden, indem das Pipe-Symbol <code>|</code> verwendet wird:</p>
<div class="highlight"><pre><span></span><code><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;hi&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>sed<span class="w"> </span><span class="s1">&#39;s/hi/bye/&#39;</span>
</code></pre></div>
<ul>
<li>Filtern von Befehlsausgaben mit grep:</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;id,title&quot;</span><span class="w"> </span>&gt;<span class="w"> </span>test-file.txt
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;1,birds&quot;</span><span class="w"> </span>&gt;&gt;<span class="w"> </span>test-file.txt
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;2,fish&quot;</span><span class="w"> </span>&gt;&gt;<span class="w"> </span>test-file.txt
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;3,cats&quot;</span><span class="w"> </span>&gt;&gt;<span class="w"> </span>test-file.txt

cat<span class="w"> </span>test-file.txt<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>fish
</code></pre></div>
<ul>
<li>Groß- und Kleinschreibung ignorieren:</li>
</ul>
<div class="highlight"><pre><span></span><code>grep<span class="w"> </span>-i<span class="w"> </span>FISH<span class="w"> </span>test-file.txt
</code></pre></div>
<ul>
<li>Zählen von passenden Zeilen:</li>
</ul>
<div class="highlight"><pre><span></span><code>grep<span class="w"> </span>-c<span class="w"> </span>fish<span class="w"> </span>test-file.txt
</code></pre></div>
<ul>
<li>Ausgaben zurückgeben, die das Schlüsselwort nicht enthalten:</li>
</ul>
<div class="highlight"><pre><span></span><code>grep<span class="w"> </span>-v<span class="w"> </span>birds<span class="w"> </span>test-file.txt
</code></pre></div>
<ul>
<li>Zählen der Zeilen in <code>test-file.txt</code>:</li>
</ul>
<div class="highlight"><pre><span></span><code>wc<span class="w"> </span>-l<span class="w"> </span>test-file.txt
</code></pre></div>
<ul>
<li>Ausgabe seitenweise anzeigen:</li>
</ul>
<div class="highlight"><pre><span></span><code>more<span class="w"> </span>test-file.txt
</code></pre></div>
<p>...mit Steuerungen:</p>
<ul>
<li>Zeile für Zeile nach unten scrollen: <em>Enter</em></li>
<li>Zur nächsten Seite gehen: <em>Leertaste</em></li>
<li>
<p>Eine Seite zurückgehen: <em>b</em></p>
</li>
<li>
<p>Die ersten 3 Zeilen der Datei anzeigen:</p>
</li>
</ul>
<div class="highlight"><pre><span></span><code>head<span class="w"> </span>-3<span class="w"> </span>test-file.txt
</code></pre></div>
<ul>
<li>Die letzten 2 Zeilen der Datei anzeigen:</li>
</ul>
<div class="highlight"><pre><span></span><code>tail<span class="w"> </span>-2<span class="w"> </span>test-file.txt
</code></pre></div></section><section class="print-page" id="de-cheatsheets-docker" heading-number="3.2"><h1 id="de-cheatsheets-docker-docker-spickzettel">Docker Spickzettel</h1>
<h2 id="de-cheatsheets-docker-ubersicht">Übersicht</h2>
<p>Docker ermöglicht das Erstellen von virtuellen Umgebungen auf isolierte Weise zur Unterstützung der Virtualisierung von Rechenressourcen. Das grundlegende Konzept hinter Docker ist die Containerisierung, bei der Software als Dienste ausgeführt werden kann, die mit anderen Softwarecontainern interagieren, zum Beispiel.</p>
<p>Der typische Docker-Arbeitsablauf umfasst das Erstellen und Bauen von <strong>Images</strong>, die dann als laufende <strong>Container</strong> ausgeführt werden.</p>
<p>Docker wird verwendet, um die Dienstesammlung, die wis2box bildet, mit vorab erstellten Images zu betreiben.</p>
<h3 id="de-cheatsheets-docker-bildverwaltung">Bildverwaltung</h3>
<ul>
<li>Liste verfügbarer Images</li>
</ul>
<div class="highlight"><pre><span></span><code>docker<span class="w"> </span>image<span class="w"> </span>ls
</code></pre></div>
<ul>
<li>Ein Image aktualisieren:</li>
</ul>
<div class="highlight"><pre><span></span><code>docker<span class="w"> </span>pull<span class="w"> </span>my-image:latest
</code></pre></div>
<ul>
<li>Ein Image entfernen:</li>
</ul>
<div class="highlight"><pre><span></span><code>docker<span class="w"> </span>rmi<span class="w"> </span>my-image:local
</code></pre></div>
<h3 id="de-cheatsheets-docker-volumenverwaltung">Volumenverwaltung</h3>
<ul>
<li>Liste aller erstellten Volumen:</li>
</ul>
<div class="highlight"><pre><span></span><code>docker<span class="w"> </span>volume<span class="w"> </span>ls
</code></pre></div>
<ul>
<li>Detaillierte Informationen zu einem Volumen anzeigen:</li>
</ul>
<div class="highlight"><pre><span></span><code>docker<span class="w"> </span>volume<span class="w"> </span>inspect<span class="w"> </span>my-volume
</code></pre></div>
<ul>
<li>Ein Volumen entfernen:</li>
</ul>
<div class="highlight"><pre><span></span><code>docker<span class="w"> </span>volume<span class="w"> </span>rm<span class="w"> </span>my-volume
</code></pre></div>
<ul>
<li>Alle ungenutzten Volumen entfernen:</li>
</ul>
<div class="highlight"><pre><span></span><code>docker<span class="w"> </span>volume<span class="w"> </span>prune
</code></pre></div>
<h3 id="de-cheatsheets-docker-containerverwaltung">Containerverwaltung</h3>
<ul>
<li>Liste der aktuell laufenden Container anzeigen:</li>
</ul>
<div class="highlight"><pre><span></span><code>docker<span class="w"> </span>ps
</code></pre></div>
<ul>
<li>Liste aller Container:</li>
</ul>
<div class="highlight"><pre><span></span><code>docker<span class="w"> </span>ps<span class="w"> </span>-a
</code></pre></div>
<ul>
<li>In das interaktive Terminal eines laufenden Containers eintreten:</li>
</ul>
<div class="admonition tipp">
<p class="admonition-title">Tipp</p>
<p>Verwenden Sie <code>docker ps</code>, um die Container-ID im folgenden Befehl zu verwenden</p>
</div>
<div class="highlight"><pre><span></span><code>docker<span class="w"> </span><span class="nb">exec</span><span class="w"> </span>-it<span class="w"> </span>my-container<span class="w"> </span>/bin/bash
</code></pre></div>
<ul>
<li>Einen Container entfernen</li>
</ul>
<div class="highlight"><pre><span></span><code>docker<span class="w"> </span>rm<span class="w"> </span>my-container
</code></pre></div>
<ul>
<li>Einen laufenden Container entfernen:</li>
</ul>
<div class="highlight"><pre><span></span><code>docker<span class="w"> </span>rm<span class="w"> </span>-f<span class="w"> </span>my-container
</code></pre></div></section><section class="print-page" id="de-cheatsheets-wis2box" heading-number="3.3"><h1 id="de-cheatsheets-wis2box-wis2-in-einer-box-spickzettel">WIS2 in einer Box Spickzettel</h1>
<h2 id="de-cheatsheets-wis2box-ubersicht">Übersicht</h2>
<p>wis2box wird als eine Reihe von Docker Compose-Befehlen ausgeführt. Der Befehl <code>wis2box-ctl.py</code> ist ein Hilfsprogramm
(geschrieben in Python), um Docker Compose-Befehle einfach auszuführen.</p>
<h2 id="de-cheatsheets-wis2box-grundlegende-wis2box-befehle">Grundlegende wis2box-Befehle</h2>
<h3 id="de-cheatsheets-wis2box-starten-und-stoppen">Starten und Stoppen</h3>
<ul>
<li>wis2box starten:</li>
</ul>
<div class="highlight"><pre><span></span><code>python3<span class="w"> </span>wis2box-ctl.py<span class="w"> </span>start
</code></pre></div>
<ul>
<li>wis2box stoppen:</li>
</ul>
<div class="highlight"><pre><span></span><code>python3<span class="w"> </span>wis2box-ctl.py<span class="w"> </span>stop
</code></pre></div>
<ul>
<li>Überprüfen, ob alle wis2box-Container laufen:</li>
</ul>
<div class="highlight"><pre><span></span><code>python3<span class="w"> </span>wis2box-ctl.py<span class="w"> </span>status
</code></pre></div>
<ul>
<li>In einen wis2box-Container einloggen (<em>standardmäßig wis2box-management</em>):</li>
</ul>
<div class="highlight"><pre><span></span><code>python3<span class="w"> </span>wis2box-ctl.py<span class="w"> </span>login
</code></pre></div>
<ul>
<li>In einen bestimmten wis2box-Container einloggen:</li>
</ul>
<div class="highlight"><pre><span></span><code>python3<span class="w"> </span>wis2box-ctl.py<span class="w"> </span>login<span class="w"> </span>wis2box-api
</code></pre></div></section></section>
                    <section class='print-page md-section' id='section-4' heading-number='4'>
                        <h1>CSV2BUFR-Vorlagen<a class='headerlink' href='#section-4' title='Permanent link'></a>
                        </h1>
                    <section class="print-page" id="de-csv2bufr-templates-aws-template" heading-number="4.1"><h1 id="de-csv2bufr-templates-aws-template-csv2bufr-vorlage-fur-automatische-wetterstationen-die-stundliche-gbon-daten-melden">csv2bufr Vorlage für automatische Wetterstationen, die stündliche GBON-Daten melden</h1>
<p>Die <strong>AWS Vorlage</strong> verwendet ein standardisiertes CSV-Format, um Daten von automatischen Wetterstationen im Rahmen der GBON-Berichtsanforderungen zu erfassen. Diese Zuordnungsvorlage konvertiert CSV-Daten in die BUFR-Sequenzen 301150, 307096.</p>
<p>Das Format ist für den Einsatz mit automatischen Wetterstationen gedacht, die eine Mindestanzahl von Parametern melden, einschließlich Druck, Lufttemperatur und -feuchtigkeit, Windgeschwindigkeit und -richtung sowie Niederschlag auf stündlicher Basis.</p>
<h2 id="de-csv2bufr-templates-aws-template-csv-spalten-und-beschreibung">CSV-Spalten und Beschreibung</h2>
<table>
<thead>
<tr>
<th style="text-align: left;">Column</th>
<th style="text-align: left;">Units</th>
<th style="text-align: left;">Data type</th>
<th style="text-align: left;">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">wsi_series</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">WIGOS identifier series</td>
</tr>
<tr>
<td style="text-align: left;">wsi_issuer</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">WIGOS issuer of identifier</td>
</tr>
<tr>
<td style="text-align: left;">wsi_issue_number</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">WIGOS issue number</td>
</tr>
<tr>
<td style="text-align: left;">wsi_local</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Character</td>
<td style="text-align: left;">WIGOS local identifier</td>
</tr>
<tr>
<td style="text-align: left;">wmo_block_number</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">WMO block number</td>
</tr>
<tr>
<td style="text-align: left;">wmo_station_number</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">WMO station number</td>
</tr>
<tr>
<td style="text-align: left;">station_type</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">Type of observing station, encoding using code table 0 02 001 (set to 0, automatic)</td>
</tr>
<tr>
<td style="text-align: left;">year</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">Year (UTC), the time of observation (based on the actual time the barometer is read)</td>
</tr>
<tr>
<td style="text-align: left;">month</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">Month (UTC), the time of observation (based on the actual time the barometer is read)</td>
</tr>
<tr>
<td style="text-align: left;">day</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">Day (UTC), the time of observation (based on the actual time the barometer is read)</td>
</tr>
<tr>
<td style="text-align: left;">hour</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">Hour (UTC), the time of observation (based on the actual time the barometer is read)</td>
</tr>
<tr>
<td style="text-align: left;">minute</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">Minute (UTC), the time of observation (based on the actual time the barometer is read)</td>
</tr>
<tr>
<td style="text-align: left;">latitude</td>
<td style="text-align: left;">degrees</td>
<td style="text-align: left;">Decimal</td>
<td style="text-align: left;">Latitude of the station (to 5 decimal places)</td>
</tr>
<tr>
<td style="text-align: left;">longitude</td>
<td style="text-align: left;">degrees</td>
<td style="text-align: left;">Decimal</td>
<td style="text-align: left;">Longitude of the station (to 5 decimal places)</td>
</tr>
<tr>
<td style="text-align: left;">station_height_above_msl</td>
<td style="text-align: left;">meters</td>
<td style="text-align: left;">Decimal</td>
<td style="text-align: left;">Height of the station ground above mean sea level (to 1 decimal place)</td>
</tr>
<tr>
<td style="text-align: left;">barometer_height_above_msl</td>
<td style="text-align: left;">meters</td>
<td style="text-align: left;">Decimal</td>
<td style="text-align: left;">Height of the barometer above mean sea level (to 1 decimal place), typically height of station ground plus the height of the sensor above local ground</td>
</tr>
<tr>
<td style="text-align: left;">station_pressure</td>
<td style="text-align: left;">Pa</td>
<td style="text-align: left;">Decimal</td>
<td style="text-align: left;">Pressure observed at the station level to the nearest 10 pascals</td>
</tr>
<tr>
<td style="text-align: left;">msl_pressure</td>
<td style="text-align: left;">Pa</td>
<td style="text-align: left;">Decimal</td>
<td style="text-align: left;">Pressure reduced to mean sea level to the nearest 10 pascals</td>
</tr>
<tr>
<td style="text-align: left;">geopotential_height</td>
<td style="text-align: left;">gpm</td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">Geoptential height expressed in geopotential meters (gpm) to 0 decimal places</td>
</tr>
<tr>
<td style="text-align: left;">thermometer_height</td>
<td style="text-align: left;">meters</td>
<td style="text-align: left;">Decimal</td>
<td style="text-align: left;">Height of thermometer or temperature sensor above the local ground to 2 decimal places</td>
</tr>
<tr>
<td style="text-align: left;">air_temperature</td>
<td style="text-align: left;">Kelvin</td>
<td style="text-align: left;">Decimal</td>
<td style="text-align: left;">Instantaneous air temperature to 2 decimal places</td>
</tr>
<tr>
<td style="text-align: left;">dewpoint_temperature</td>
<td style="text-align: left;">Kelvin</td>
<td style="text-align: left;">Decimal</td>
<td style="text-align: left;">Instantaneous dewpoint temperature to 2 decimal places</td>
</tr>
<tr>
<td style="text-align: left;">relative_humidity</td>
<td style="text-align: left;">%</td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">Instantaneous relative humidity to zero decimal places</td>
</tr>
<tr>
<td style="text-align: left;">method_of_ground_state_measurement</td>
<td style="text-align: left;">code table</td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">Method of observing the state of the ground, encoded using code table 0 02 176</td>
</tr>
<tr>
<td style="text-align: left;">ground_state</td>
<td style="text-align: left;">code table</td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">State of the ground encoded using code table 0 20 062</td>
</tr>
<tr>
<td style="text-align: left;">method_of_snow_depth_measurement</td>
<td style="text-align: left;">code table</td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">Method of observing the snow depth encoded using code table 0 02 177</td>
</tr>
<tr>
<td style="text-align: left;">snow_depth</td>
<td style="text-align: left;">meters</td>
<td style="text-align: left;">Decimal</td>
<td style="text-align: left;">Snow depth at time of observation to 2 decimal places</td>
</tr>
<tr>
<td style="text-align: left;">precipitation_intensity</td>
<td style="text-align: left;">kg m-2 h-1</td>
<td style="text-align: left;">Decimal</td>
<td style="text-align: left;">Intensity of precipitation at time of observation to 5 decimal places</td>
</tr>
<tr>
<td style="text-align: left;">anemometer_height</td>
<td style="text-align: left;">meters</td>
<td style="text-align: left;">Decimal</td>
<td style="text-align: left;">Height of the anemometer above local ground  to 2 decimal place</td>
</tr>
<tr>
<td style="text-align: left;">time_period_of_wind</td>
<td style="text-align: left;">minutes</td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">Defines the time period over which the wind speed and direction have been averaged. Set to -10 to indicate a measurement period over the preceeding 10 minutes.</td>
</tr>
<tr>
<td style="text-align: left;">wind_direction</td>
<td style="text-align: left;">degrees</td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">Wind direction (at anemometer height) averaged from the caterisan components over the indicated time period, 0 decimal places</td>
</tr>
<tr>
<td style="text-align: left;">wind_speed</td>
<td style="text-align: left;">ms-1</td>
<td style="text-align: left;">Decimal</td>
<td style="text-align: left;">Wind speed (at anemometer height) averaged from the cartesian components over the indicated time period, 1 decimal place</td>
</tr>
<tr>
<td style="text-align: left;">maximum_wind_gust_direction_10_minutes</td>
<td style="text-align: left;">degrees</td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">Highest 3 second average over the preceeding 10 minutes, 0 decimal places</td>
</tr>
<tr>
<td style="text-align: left;">maximum_wind_gust_speed_10_minutes</td>
<td style="text-align: left;">ms-1</td>
<td style="text-align: left;">Decimal</td>
<td style="text-align: left;">Highest 3 second average over the preceeding 10 minutes, 1 decimal place</td>
</tr>
<tr>
<td style="text-align: left;">maximum_wind_gust_direction_1_hour</td>
<td style="text-align: left;">degrees</td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">Highest 3 second average over the preceeding hour, 0 decimal places</td>
</tr>
<tr>
<td style="text-align: left;">maximum_wind_gust_speed_1_hour</td>
<td style="text-align: left;">ms-1</td>
<td style="text-align: left;">Decimal</td>
<td style="text-align: left;">Highest 3 second average over the preceeding hour, 1 decimal place</td>
</tr>
<tr>
<td style="text-align: left;">maximum_wind_gust_direction_3_hours</td>
<td style="text-align: left;">degrees</td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">Highest 3 second average over the preceeding 3 hours, 0 decimal places</td>
</tr>
<tr>
<td style="text-align: left;">maximum_wind_gust_speed_3_hours</td>
<td style="text-align: left;">ms-1</td>
<td style="text-align: left;">Decimal</td>
<td style="text-align: left;">Highest 3 second average over the preceeding 3 hours, 1 decimal place</td>
</tr>
<tr>
<td style="text-align: left;">rain_sensor_height</td>
<td style="text-align: left;">meters</td>
<td style="text-align: left;">Decimal</td>
<td style="text-align: left;">Height of the rain gauge above local ground to 2 decimal place</td>
</tr>
<tr>
<td style="text-align: left;">total_precipitation_1_hour</td>
<td style="text-align: left;">kg m-2</td>
<td style="text-align: left;">Decimal</td>
<td style="text-align: left;">Total precipitation over the past hour, 1 decimal place</td>
</tr>
<tr>
<td style="text-align: left;">total_precipitation_3_hours</td>
<td style="text-align: left;">kg m-2</td>
<td style="text-align: left;">Decimal</td>
<td style="text-align: left;">Total precipitation over the past 3 hours, 1 decimal place</td>
</tr>
<tr>
<td style="text-align: left;">total_precipitation_6_hours</td>
<td style="text-align: left;">kg m-2</td>
<td style="text-align: left;">Decimal</td>
<td style="text-align: left;">Total precipitation over the past 6 hours, 1 decimal place</td>
</tr>
<tr>
<td style="text-align: left;">total_precipitation_12_hours</td>
<td style="text-align: left;">kg m-2</td>
<td style="text-align: left;">Decimal</td>
<td style="text-align: left;">Total precipitation over the past 12 hours, 1 decimal place</td>
</tr>
<tr>
<td style="text-align: left;">total_precipitation_24_hours</td>
<td style="text-align: left;">kg m-2</td>
<td style="text-align: left;">Decimal</td>
<td style="text-align: left;">Total precipitation over the past 24 hours, 1 decimal place</td>
</tr>
</tbody>
</table>
<h2 id="de-csv2bufr-templates-aws-template-beispiel">Beispiel</h2>
<p>Beispiel für eine CSV-Datei, die der AWS-Vorlage entspricht: <a href="/sample-data/aws-example.csv">aws-example.csv</a>.</p></section><section class="print-page" id="de-csv2bufr-templates-daycli-template" heading-number="4.2"><h1 id="de-csv2bufr-templates-daycli-template-csv2bufr-vorlage-fur-tagliche-klimadaten-daycli">csv2bufr Vorlage für tägliche Klimadaten (DAYCLI)</h1>
<p>Die <strong>DAYCLI</strong> Vorlage bietet ein standardisiertes CSV-Format für die Umwandlung von täglichen Klimadaten in die BUFR-Sequenz 307075.</p>
<p>Das Format ist für die Verwendung mit Klimadaten-Management-Systemen gedacht, um Daten auf WIS2 zu veröffentlichen, zur Unterstützung der Berichtsanforderungen für tägliche Klimabeobachtungen.</p>
<p>Diese Vorlage bildet tägliche Beobachtungen ab von:</p>
<ul>
<li>Minimaler, maximaler und durchschnittlicher Temperatur über einen 24-Stunden-Zeitraum</li>
<li>Gesamte angesammelte Niederschlagsmenge über einen 24-Stunden-Zeitraum</li>
<li>Gesamte Schneehöhe zum Zeitpunkt der Beobachtung</li>
<li>Höhe des Neuschnees über einen 24-Stunden-Zeitraum</li>
</ul>
<p>Diese Vorlage erfordert zusätzliche Metadaten im Vergleich zur vereinfachten AWS-Vorlage: Methode zur Berechnung der Durchschnittstemperatur; Sensor- und Stationshöhen; Exposition und Klassifikation der Messqualität.</p>
<div class="admonition hinweis">
<p class="admonition-title">Über die DAYCLI Vorlage</p>
<p>Bitte beachten Sie, dass die DAYCLI BUFR-Sequenz während des Jahres 2025 aktualisiert wird, um zusätzliche Informationen und überarbeitete QC-Flags einzuschließen. Die DAYCLI Vorlage im wis2box wird aktualisiert, um diese Änderungen widerzuspiegeln. Die WMO wird kommunizieren, wenn die wis2box-Software aktualisiert wird, um die neue DAYCLI Vorlage einzuschließen, damit die Benutzer ihre Systeme entsprechend aktualisieren können.</p>
</div>
<h2 id="de-csv2bufr-templates-daycli-template-csv-spalten-und-beschreibung">CSV-Spalten und Beschreibung</h2>
<table>
<thead>
<tr>
<th style="text-align: left;">Column</th>
<th style="text-align: left;">Units</th>
<th style="text-align: left;">Data Type</th>
<th style="text-align: left;">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">wsi_series</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">WIGOS Identifier series, set to 0 for stations</td>
</tr>
<tr>
<td style="text-align: left;">wsi_issuer</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">WIGOS Identifier issue, ISO 3 digit (number) country code or 20000 series</td>
</tr>
<tr>
<td style="text-align: left;">wsi_issue_number</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">WIGOS Identifier issue number</td>
</tr>
<tr>
<td style="text-align: left;">wsi_local</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Character</td>
<td style="text-align: left;">WIGOS Identifier local identifier, alphanumeric, max 16 characters</td>
</tr>
<tr>
<td style="text-align: left;">wmo_block_number</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">WMO block number for station 0 - 99</td>
</tr>
<tr>
<td style="text-align: left;">wmo_station_number</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">WMO station number 0 - 999</td>
</tr>
<tr>
<td style="text-align: left;">latitude</td>
<td style="text-align: left;">Degrees</td>
<td style="text-align: left;">Decimal</td>
<td style="text-align: left;">Latitude of the station (to 5 decimal places)</td>
</tr>
<tr>
<td style="text-align: left;">longitude</td>
<td style="text-align: left;">Degrees</td>
<td style="text-align: left;">Decimal</td>
<td style="text-align: left;">Longitude of the station (to 5 decimal places)</td>
</tr>
<tr>
<td style="text-align: left;">station_height_above_msl</td>
<td style="text-align: left;">Meters</td>
<td style="text-align: left;">Decimal</td>
<td style="text-align: left;">Height of the station ground above mean sea level (to 1 decimal place)</td>
</tr>
<tr>
<td style="text-align: left;">temperature_siting_classification</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">Combined sensor siting and measurement quality classification (temperature). See references for siting classification</td>
</tr>
<tr>
<td style="text-align: left;">precipitation_siting_classification</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">Combined sensor siting and measurement quality classification (precipitation). See references for siting classification</td>
</tr>
<tr>
<td style="text-align: left;">averaging_method</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">Method used to calculate daily average temperature</td>
</tr>
<tr>
<td style="text-align: left;">year</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">Year (UTC) of nominal reporting day</td>
</tr>
<tr>
<td style="text-align: left;">month</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">Month (UTC) of nominal reporting day</td>
</tr>
<tr>
<td style="text-align: left;">day</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">Day (UTC) of month for nominal reporting day</td>
</tr>
<tr>
<td style="text-align: left;">precipitation_day_offset</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">Start of reporting period for precipitation, offset in days relative to nominal reporting day (-1 or 0)</td>
</tr>
<tr>
<td style="text-align: left;">precipitation_hour</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">Beginning hour (UTC) over which the precipitation is measured</td>
</tr>
<tr>
<td style="text-align: left;">precipitation_minute</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">Beginning minute (UTC) over which the precipitation is measured</td>
</tr>
<tr>
<td style="text-align: left;">precipitation_second</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">Beginning second (UTC) over which the precipitation is measured</td>
</tr>
<tr>
<td style="text-align: left;">precipitation</td>
<td style="text-align: left;">kg m-2</td>
<td style="text-align: left;">Decimal</td>
<td style="text-align: left;">Total accumulated precipitation over indicated 24 hour period (kg m-3, equivalent to mm)</td>
</tr>
<tr>
<td style="text-align: left;">precipitation_flag</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">Quality control flag for total accumulated precipitation</td>
</tr>
<tr>
<td style="text-align: left;">fresh_snow_day_offset</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">Start of reporting period for fresh snow depth, offset in days relative to nominal reporting day (-1 or 0)</td>
</tr>
<tr>
<td style="text-align: left;">fresh_snow_hour</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">Beginning hour (UTC) over which the fresh snow depth is measured</td>
</tr>
<tr>
<td style="text-align: left;">fresh_snow_minute</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">Beginning minute (UTC) over which the fresh snow depth is measured</td>
</tr>
<tr>
<td style="text-align: left;">fresh_snow_second</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">Beginning second (UTC) over which the fresh snow depth is measured</td>
</tr>
<tr>
<td style="text-align: left;">fresh_snow_depth</td>
<td style="text-align: left;">Meters</td>
<td style="text-align: left;">Decimal</td>
<td style="text-align: left;">Fresh snow depth over indicated 24 hour period (m, 2 d.p.)</td>
</tr>
<tr>
<td style="text-align: left;">fresh_snow_depth_flag</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">Quality control flag for the fresh snow depth</td>
</tr>
<tr>
<td style="text-align: left;">total_snow_day_offset</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">Start of reporting period for total snow depth, offset in days relative to nominal reporting day (-1 or 0)</td>
</tr>
<tr>
<td style="text-align: left;">total_snow_hour</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">Beginning hour (UTC) over which the total snow depth is measured</td>
</tr>
<tr>
<td style="text-align: left;">total_snow_minute</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">Beginning minute (UTC) over which the total snow depth is measured</td>
</tr>
<tr>
<td style="text-align: left;">total_snow_second</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">Beginning second (UTC) over which the total snow depth is measured</td>
</tr>
<tr>
<td style="text-align: left;">total_snow_depth</td>
<td style="text-align: left;">Meters</td>
<td style="text-align: left;">Decimal</td>
<td style="text-align: left;">Total snow depth over indicated 24 hour period (m, 2 d.p.)</td>
</tr>
<tr>
<td style="text-align: left;">total_snow_depth_flag</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">Quality control flag for the total snow depth</td>
</tr>
<tr>
<td style="text-align: left;">thermometer_height</td>
<td style="text-align: left;">Meters</td>
<td style="text-align: left;">Decimal</td>
<td style="text-align: left;">Height of thermometer above local ground level (m)</td>
</tr>
<tr>
<td style="text-align: left;">maximum_temperature_day_offset</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">Start of reporting period for maximum temperature, offset in days relative to nominal reporting day (-1 or 0)</td>
</tr>
<tr>
<td style="text-align: left;">maximum_temperature_hour</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">Beginning hour (UTC) over which the maximum temmperature is measured</td>
</tr>
<tr>
<td style="text-align: left;">maximum_temperature_minute</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">Beginning minute (UTC) over which the maximum temperature is measured</td>
</tr>
<tr>
<td style="text-align: left;">maximum_temperature_second</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">Beginning second (UTC) over which the maximum temperature is measured</td>
</tr>
<tr>
<td style="text-align: left;">maximum_temperature</td>
<td style="text-align: left;">Kelvin</td>
<td style="text-align: left;">Decimal</td>
<td style="text-align: left;">Maximum temperature over indicated 24 hour period (K, 2 d.p.)</td>
</tr>
<tr>
<td style="text-align: left;">maximum_temperature_flag</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">Quality control flag for the maximum temperature</td>
</tr>
<tr>
<td style="text-align: left;">minimum_temperature_day_offset</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">Start of reporting period for minimum temperature, offset in days relative to nominal reporting day (-1 or 0)</td>
</tr>
<tr>
<td style="text-align: left;">minimum_temperature_hour</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">Beginning hour (UTC) over which the minimum temmperature is measured</td>
</tr>
<tr>
<td style="text-align: left;">minimum_temperature_minute</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">Beginning minute (UTC) over which the minimum temperature is measured</td>
</tr>
<tr>
<td style="text-align: left;">minimum_temperature_second</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">Beginning second (UTC) over which the minimum temperature is measured</td>
</tr>
<tr>
<td style="text-align: left;">minimum_temperature</td>
<td style="text-align: left;">Kelvin</td>
<td style="text-align: left;">Decimal</td>
<td style="text-align: left;">Minimum temperature over indicated 24 hour period (K, 2 d.p.)</td>
</tr>
<tr>
<td style="text-align: left;">minimum_temperature_flag</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">Quality control flag for the minimum temperature</td>
</tr>
<tr>
<td style="text-align: left;">average_temperature_day_offset</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">Start of reporting period for average temperature, offset in days relative to nominal reporting day (-1 or 0)</td>
</tr>
<tr>
<td style="text-align: left;">average_temperature_hour</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">Beginning hour (UTC) over which the average temmperature is measured</td>
</tr>
<tr>
<td style="text-align: left;">average_temperature_minute</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">Beginning minute (UTC) over which the average temperature is measured</td>
</tr>
<tr>
<td style="text-align: left;">average_temperature_second</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">Beginning second (UTC) over which the average temperature is measured</td>
</tr>
<tr>
<td style="text-align: left;">average_temperature</td>
<td style="text-align: left;">Kelvin</td>
<td style="text-align: left;">Decimal</td>
<td style="text-align: left;">Average temperature over indicated 24 hour period (K, 2 d.p.)</td>
</tr>
<tr>
<td style="text-align: left;">average_temperature_flag</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Integer</td>
<td style="text-align: left;">Quality control flag for the average temperature</td>
</tr>
</tbody>
</table>
<h2 id="de-csv2bufr-templates-daycli-template-durchschnittsberechnungsmethode">Durchschnittsberechnungsmethode</h2>
<table>
<thead>
<tr>
<th style="text-align: right;">Integer</th>
<th style="text-align: left;">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: right;">0</td>
<td style="text-align: left;">Average of minimum and maximum temperatures</td>
</tr>
<tr>
<td style="text-align: right;">1</td>
<td style="text-align: left;">Average of 8 tri-hourly observations</td>
</tr>
<tr>
<td style="text-align: right;">2</td>
<td style="text-align: left;">Average of 24 hourly observations</td>
</tr>
<tr>
<td style="text-align: right;">3</td>
<td style="text-align: left;">Weighted average of three observations</td>
</tr>
<tr>
<td style="text-align: right;">4</td>
<td style="text-align: left;">Weighted average of three observations, as well as the minimum and maximum values</td>
</tr>
<tr>
<td style="text-align: right;">5</td>
<td style="text-align: left;">AWS complete integration from minute data</td>
</tr>
<tr>
<td style="text-align: right;">6</td>
<td style="text-align: left;">Average of 4 six-hourly observations</td>
</tr>
</tbody>
</table>
<h2 id="de-csv2bufr-templates-daycli-template-qualitatsflagge">Qualitätsflagge</h2>
<table>
<thead>
<tr>
<th style="text-align: right;">Integer</th>
<th style="text-align: left;">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: right;">0</td>
<td style="text-align: left;">Data checked and declared good</td>
</tr>
<tr>
<td style="text-align: right;">1</td>
<td style="text-align: left;">Data checked and declared suspect</td>
</tr>
<tr>
<td style="text-align: right;">2</td>
<td style="text-align: left;">Data checked and declared aggregated</td>
</tr>
<tr>
<td style="text-align: right;">3</td>
<td style="text-align: left;">Data checked and declared out of instrument range</td>
</tr>
<tr>
<td style="text-align: right;">4</td>
<td style="text-align: left;">Data checked and declared aggregated and out of instrument range</td>
</tr>
<tr>
<td style="text-align: right;">5</td>
<td style="text-align: left;">Parameter is not measured at the station</td>
</tr>
<tr>
<td style="text-align: right;">6</td>
<td style="text-align: left;">Daily value not provided</td>
</tr>
<tr>
<td style="text-align: right;">7</td>
<td style="text-align: left;">Data unchecked</td>
</tr>
</tbody>
</table>
<h2 id="de-csv2bufr-templates-daycli-template-referenzen-fur-standortklassifikation">Referenzen für Standortklassifikation</h2>
<p><a href="https://library.wmo.int/idviewer/35625/839">Referenz für "temperature_siting_classification"</a>.</p>
<p><a href="https://library.wmo.int/idviewer/35625/840">Referenz für "precipitation_siting_classification"</a>.</p>
<h2 id="de-csv2bufr-templates-daycli-template-beispiel">Beispiel</h2>
<p>Beispiel einer CSV-Datei, die der DAYCLI Vorlage entspricht: <a href="/sample-data/daycli-example.csv">daycli-example.csv</a>.</p></section></section></div><style>.print-site-enumerate-headings #de > h1:before { content: '1 ' }

                .print-site-enumerate-headings #de h2 { counter-reset: counter-de-3 1; counter-increment: counter-de-2 }
                .print-site-enumerate-headings #de h2:before { content: '1.' counter(counter-de-2) ' ' }
            
                .print-site-enumerate-headings #de h3 { counter-reset: ; counter-increment: counter-de-3 }
                .print-site-enumerate-headings #de h3:before { content: '1.' counter(counter-de-2) '.' counter(counter-de-3) ' ' }
            
.print-site-enumerate-headings #section-2 > h1:before { content: '2 ' }
.print-site-enumerate-headings #de-practical-sessions-connecting-to-wis2-over-mqtt > h1:before { content: '2.1 ' }

                .print-site-enumerate-headings #de-practical-sessions-connecting-to-wis2-over-mqtt h3 { counter-reset: ; counter-increment: counter-de-practical-sessions-connecting-to-wis2-over-mqtt-3 }
                .print-site-enumerate-headings #de-practical-sessions-connecting-to-wis2-over-mqtt h3:before { content: '2.1.' counter(counter-de-practical-sessions-connecting-to-wis2-over-mqtt-3) ' ' }
            
.print-site-enumerate-headings #de-practical-sessions-accessing-your-student-vm > h1:before { content: '2.2 ' }

                .print-site-enumerate-headings #de-practical-sessions-accessing-your-student-vm h3 { counter-reset: ; counter-increment: counter-de-practical-sessions-accessing-your-student-vm-3 }
                .print-site-enumerate-headings #de-practical-sessions-accessing-your-student-vm h3:before { content: '2.2.' counter(counter-de-practical-sessions-accessing-your-student-vm-3) ' ' }
            
.print-site-enumerate-headings #de-practical-sessions-initializing-wis2box > h1:before { content: '2.3 ' }

                .print-site-enumerate-headings #de-practical-sessions-initializing-wis2box h3 { counter-reset: ; counter-increment: counter-de-practical-sessions-initializing-wis2box-3 }
                .print-site-enumerate-headings #de-practical-sessions-initializing-wis2box h3:before { content: '2.3.' counter(counter-de-practical-sessions-initializing-wis2box-3) ' ' }
            
.print-site-enumerate-headings #de-practical-sessions-configuring-wis2box-datasets > h1:before { content: '2.4 ' }

                .print-site-enumerate-headings #de-practical-sessions-configuring-wis2box-datasets h3 { counter-reset: ; counter-increment: counter-de-practical-sessions-configuring-wis2box-datasets-3 }
                .print-site-enumerate-headings #de-practical-sessions-configuring-wis2box-datasets h3:before { content: '2.4.' counter(counter-de-practical-sessions-configuring-wis2box-datasets-3) ' ' }
            
.print-site-enumerate-headings #de-practical-sessions-configuring-station-metadata > h1:before { content: '2.5 ' }

                .print-site-enumerate-headings #de-practical-sessions-configuring-station-metadata h3 { counter-reset: ; counter-increment: counter-de-practical-sessions-configuring-station-metadata-3 }
                .print-site-enumerate-headings #de-practical-sessions-configuring-station-metadata h3:before { content: '2.5.' counter(counter-de-practical-sessions-configuring-station-metadata-3) ' ' }
            
.print-site-enumerate-headings #de-practical-sessions-monitoring-wis2-notifications > h1:before { content: '2.6 ' }

                .print-site-enumerate-headings #de-practical-sessions-monitoring-wis2-notifications h3 { counter-reset: ; counter-increment: counter-de-practical-sessions-monitoring-wis2-notifications-3 }
                .print-site-enumerate-headings #de-practical-sessions-monitoring-wis2-notifications h3:before { content: '2.6.' counter(counter-de-practical-sessions-monitoring-wis2-notifications-3) ' ' }
            
.print-site-enumerate-headings #de-practical-sessions-converting-synop-data-to-bufr > h1:before { content: '2.7 ' }

                .print-site-enumerate-headings #de-practical-sessions-converting-synop-data-to-bufr h3 { counter-reset: ; counter-increment: counter-de-practical-sessions-converting-synop-data-to-bufr-3 }
                .print-site-enumerate-headings #de-practical-sessions-converting-synop-data-to-bufr h3:before { content: '2.7.' counter(counter-de-practical-sessions-converting-synop-data-to-bufr-3) ' ' }
            
.print-site-enumerate-headings #de-practical-sessions-converting-synop-data-to-bufr-form > h1:before { content: '2.8 ' }

                .print-site-enumerate-headings #de-practical-sessions-converting-synop-data-to-bufr-form h3 { counter-reset: ; counter-increment: counter-de-practical-sessions-converting-synop-data-to-bufr-form-3 }
                .print-site-enumerate-headings #de-practical-sessions-converting-synop-data-to-bufr-form h3:before { content: '2.8.' counter(counter-de-practical-sessions-converting-synop-data-to-bufr-form-3) ' ' }
            
.print-site-enumerate-headings #de-practical-sessions-converting-csv-data-to-bufr > h1:before { content: '2.9 ' }

                .print-site-enumerate-headings #de-practical-sessions-converting-csv-data-to-bufr h3 { counter-reset: ; counter-increment: counter-de-practical-sessions-converting-csv-data-to-bufr-3 }
                .print-site-enumerate-headings #de-practical-sessions-converting-csv-data-to-bufr h3:before { content: '2.9.' counter(counter-de-practical-sessions-converting-csv-data-to-bufr-3) ' ' }
            
.print-site-enumerate-headings #de-practical-sessions-automating-data-ingestion > h1:before { content: '2.10 ' }

                .print-site-enumerate-headings #de-practical-sessions-automating-data-ingestion h3 { counter-reset: ; counter-increment: counter-de-practical-sessions-automating-data-ingestion-3 }
                .print-site-enumerate-headings #de-practical-sessions-automating-data-ingestion h3:before { content: '2.10.' counter(counter-de-practical-sessions-automating-data-ingestion-3) ' ' }
            
.print-site-enumerate-headings #de-practical-sessions-adding-gts-headers-to-wis2-notifications > h1:before { content: '2.11 ' }

                .print-site-enumerate-headings #de-practical-sessions-adding-gts-headers-to-wis2-notifications h3 { counter-reset: ; counter-increment: counter-de-practical-sessions-adding-gts-headers-to-wis2-notifications-3 }
                .print-site-enumerate-headings #de-practical-sessions-adding-gts-headers-to-wis2-notifications h3:before { content: '2.11.' counter(counter-de-practical-sessions-adding-gts-headers-to-wis2-notifications-3) ' ' }
            
.print-site-enumerate-headings #de-practical-sessions-datasets-with-access-control > h1:before { content: '2.12 ' }

                .print-site-enumerate-headings #de-practical-sessions-datasets-with-access-control h3 { counter-reset: ; counter-increment: counter-de-practical-sessions-datasets-with-access-control-3 }
                .print-site-enumerate-headings #de-practical-sessions-datasets-with-access-control h3:before { content: '2.12.' counter(counter-de-practical-sessions-datasets-with-access-control-3) ' ' }
            
.print-site-enumerate-headings #de-practical-sessions-downloading-data-from-wis2 > h1:before { content: '2.13 ' }

                .print-site-enumerate-headings #de-practical-sessions-downloading-data-from-wis2 h3 { counter-reset: ; counter-increment: counter-de-practical-sessions-downloading-data-from-wis2-3 }
                .print-site-enumerate-headings #de-practical-sessions-downloading-data-from-wis2 h3:before { content: '2.13.' counter(counter-de-practical-sessions-downloading-data-from-wis2-3) ' ' }
            
.print-site-enumerate-headings #de-practical-sessions-discovering-datasets-from-wis2-gdc > h1:before { content: '2.14 ' }

                .print-site-enumerate-headings #de-practical-sessions-discovering-datasets-from-wis2-gdc h3 { counter-reset: ; counter-increment: counter-de-practical-sessions-discovering-datasets-from-wis2-gdc-3 }
                .print-site-enumerate-headings #de-practical-sessions-discovering-datasets-from-wis2-gdc h3:before { content: '2.14.' counter(counter-de-practical-sessions-discovering-datasets-from-wis2-gdc-3) ' ' }
            
.print-site-enumerate-headings #de-practical-sessions-querying-data-using-the-wis2box-api > h1:before { content: '2.15 ' }

                .print-site-enumerate-headings #de-practical-sessions-querying-data-using-the-wis2box-api h3 { counter-reset: ; counter-increment: counter-de-practical-sessions-querying-data-using-the-wis2box-api-3 }
                .print-site-enumerate-headings #de-practical-sessions-querying-data-using-the-wis2box-api h3:before { content: '2.15.' counter(counter-de-practical-sessions-querying-data-using-the-wis2box-api-3) ' ' }
            
.print-site-enumerate-headings #section-3 > h1:before { content: '3 ' }
.print-site-enumerate-headings #de-cheatsheets-linux > h1:before { content: '3.1 ' }

                .print-site-enumerate-headings #de-cheatsheets-linux h3 { counter-reset: ; counter-increment: counter-de-cheatsheets-linux-3 }
                .print-site-enumerate-headings #de-cheatsheets-linux h3:before { content: '3.1.' counter(counter-de-cheatsheets-linux-3) ' ' }
            
.print-site-enumerate-headings #de-cheatsheets-docker > h1:before { content: '3.2 ' }

                .print-site-enumerate-headings #de-cheatsheets-docker h3 { counter-reset: ; counter-increment: counter-de-cheatsheets-docker-3 }
                .print-site-enumerate-headings #de-cheatsheets-docker h3:before { content: '3.2.' counter(counter-de-cheatsheets-docker-3) ' ' }
            
.print-site-enumerate-headings #de-cheatsheets-wis2box > h1:before { content: '3.3 ' }

                .print-site-enumerate-headings #de-cheatsheets-wis2box h3 { counter-reset: ; counter-increment: counter-de-cheatsheets-wis2box-3 }
                .print-site-enumerate-headings #de-cheatsheets-wis2box h3:before { content: '3.3.' counter(counter-de-cheatsheets-wis2box-3) ' ' }
            
.print-site-enumerate-headings #section-4 > h1:before { content: '4 ' }
.print-site-enumerate-headings #de-csv2bufr-templates-aws-template > h1:before { content: '4.1 ' }

                .print-site-enumerate-headings #de-csv2bufr-templates-aws-template h3 { counter-reset: ; counter-increment: counter-de-csv2bufr-templates-aws-template-3 }
                .print-site-enumerate-headings #de-csv2bufr-templates-aws-template h3:before { content: '4.1.' counter(counter-de-csv2bufr-templates-aws-template-3) ' ' }
            
.print-site-enumerate-headings #de-csv2bufr-templates-daycli-template > h1:before { content: '4.2 ' }

                .print-site-enumerate-headings #de-csv2bufr-templates-daycli-template h3 { counter-reset: ; counter-increment: counter-de-csv2bufr-templates-daycli-template-3 }
                .print-site-enumerate-headings #de-csv2bufr-templates-daycli-template h3:before { content: '4.2.' counter(counter-de-csv2bufr-templates-daycli-template-3) ' ' }
            </style>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      &copy; 2023 World Meteorological Organization
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "/wis2docs/", "features": ["navigation.indexes", "content.code.copy"], "search": "../assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "In Zwischenablage kopiert", "clipboard.copy": "In Zwischenablage kopieren", "search.result.more.one": "1 weiteres Suchergebnis auf dieser Seite", "search.result.more.other": "# weitere Suchergebnisse auf dieser Seite", "search.result.none": "Keine Suchergebnisse", "search.result.one": "1 Suchergebnis", "search.result.other": "# Suchergebnisse", "search.result.placeholder": "Suchbegriff eingeben", "search.result.term.missing": "Es fehlt", "select.version": "Version ausw\u00e4hlen"}}</script>
    
    
      <script src="../assets/javascripts/bundle.c8b220af.min.js"></script>
      
        <script src="../js/print-site.js"></script>
      
        <script src="../js/print-site.js"></script>
      
        <script src="../js/print-site.js"></script>
      
        <script src="../js/print-site.js"></script>
      
        <script src="../js/print-site.js"></script>
      
        <script src="../js/print-site.js"></script>
      
        <script src="../js/print-site.js"></script>
      
        <script src="../js/print-site.js"></script>
      
        <script src="../js/print-site.js"></script>
      
        <script src="../assets/js/disclaimer.js"></script>
      
    
  </body>
</html>